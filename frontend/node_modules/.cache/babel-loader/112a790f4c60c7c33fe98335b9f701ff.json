{"ast":null,"code":"/*! wavesurfer.js 1.4.0 (Mon, 10 Apr 2017 08:55:35 GMT)\n* https://github.com/katspaugh/wavesurfer.js\n* @license BSD-3-Clause */\n!function (a, b) {\n  \"function\" == typeof define && define.amd ? define(\"wavesurfer\", [], function () {\n    return a.WaveSurfer = b();\n  }) : \"object\" == typeof exports ? module.exports = b() : a.WaveSurfer = b();\n}(this, function () {\n  \"use strict\";\n\n  var a = {\n    defaultParams: {\n      audioContext: null,\n      audioRate: 1,\n      autoCenter: !0,\n      backend: \"WebAudio\",\n      barHeight: 1,\n      closeAudioContext: !1,\n      container: null,\n      cursorColor: \"#333\",\n      cursorWidth: 1,\n      dragSelection: !0,\n      fillParent: !0,\n      forceDecode: !1,\n      height: 128,\n      hideScrollbar: !1,\n      interact: !0,\n      loopSelection: !0,\n      mediaContainer: null,\n      mediaControls: !1,\n      mediaType: \"audio\",\n      minPxPerSec: 20,\n      partialRender: !1,\n      pixelRatio: window.devicePixelRatio || screen.deviceXDPI / screen.logicalXDPI,\n      progressColor: \"#555\",\n      normalize: !1,\n      renderer: \"MultiCanvas\",\n      scrollParent: !1,\n      skipLength: 2,\n      splitChannels: !1,\n      waveColor: \"#999\"\n    },\n    init: function (b) {\n      if (this.params = a.util.extend({}, this.defaultParams, b), this.container = \"string\" == typeof b.container ? document.querySelector(this.params.container) : this.params.container, !this.container) throw new Error(\"Container element not found\");\n      if (null == this.params.mediaContainer ? this.mediaContainer = this.container : \"string\" == typeof this.params.mediaContainer ? this.mediaContainer = document.querySelector(this.params.mediaContainer) : this.mediaContainer = this.params.mediaContainer, !this.mediaContainer) throw new Error(\"Media Container element not found\");\n      this.savedVolume = 0, this.isMuted = !1, this.tmpEvents = [], this.currentAjax = null, this.createDrawer(), this.createBackend(), this.createPeakCache(), this.isDestroyed = !1;\n    },\n    createDrawer: function () {\n      var b = this;\n      this.drawer = Object.create(a.Drawer[this.params.renderer]), this.drawer.init(this.container, this.params), this.drawer.on(\"redraw\", function () {\n        b.drawBuffer(), b.drawer.progress(b.backend.getPlayedPercents());\n      }), this.drawer.on(\"click\", function (a, c) {\n        setTimeout(function () {\n          b.seekTo(c);\n        }, 0);\n      }), this.drawer.on(\"scroll\", function (a) {\n        b.params.partialRender && b.drawBuffer(), b.fireEvent(\"scroll\", a);\n      });\n    },\n    createBackend: function () {\n      var b = this;\n      this.backend && this.backend.destroy(), \"AudioElement\" == this.params.backend && (this.params.backend = \"MediaElement\"), \"WebAudio\" != this.params.backend || a.WebAudio.supportsWebAudio() || (this.params.backend = \"MediaElement\"), this.backend = Object.create(a[this.params.backend]), this.backend.init(this.params), this.backend.on(\"finish\", function () {\n        b.fireEvent(\"finish\");\n      }), this.backend.on(\"play\", function () {\n        b.fireEvent(\"play\");\n      }), this.backend.on(\"pause\", function () {\n        b.fireEvent(\"pause\");\n      }), this.backend.on(\"audioprocess\", function (a) {\n        b.drawer.progress(b.backend.getPlayedPercents()), b.fireEvent(\"audioprocess\", a);\n      });\n    },\n    createPeakCache: function () {\n      this.params.partialRender && (this.peakCache = Object.create(a.PeakCache), this.peakCache.init());\n    },\n    getDuration: function () {\n      return this.backend.getDuration();\n    },\n    getCurrentTime: function () {\n      return this.backend.getCurrentTime();\n    },\n    play: function (a, b) {\n      this.fireEvent(\"interaction\", this.play.bind(this, a, b)), this.backend.play(a, b);\n    },\n    pause: function () {\n      this.backend.isPaused() || this.backend.pause();\n    },\n    playPause: function () {\n      this.backend.isPaused() ? this.play() : this.pause();\n    },\n    isPlaying: function () {\n      return !this.backend.isPaused();\n    },\n    skipBackward: function (a) {\n      this.skip(-a || -this.params.skipLength);\n    },\n    skipForward: function (a) {\n      this.skip(a || this.params.skipLength);\n    },\n    skip: function (a) {\n      var b = this.getCurrentTime() || 0,\n          c = this.getDuration() || 1;\n      b = Math.max(0, Math.min(c, b + (a || 0))), this.seekAndCenter(b / c);\n    },\n    seekAndCenter: function (a) {\n      this.seekTo(a), this.drawer.recenter(a);\n    },\n    seekTo: function (a) {\n      this.fireEvent(\"interaction\", this.seekTo.bind(this, a));\n      var b = this.backend.isPaused();\n      b || this.backend.pause();\n      var c = this.params.scrollParent;\n      this.params.scrollParent = !1, this.backend.seekTo(a * this.getDuration()), this.drawer.progress(this.backend.getPlayedPercents()), b || this.backend.play(), this.params.scrollParent = c, this.fireEvent(\"seek\", a);\n    },\n    stop: function () {\n      this.pause(), this.seekTo(0), this.drawer.progress(0);\n    },\n    setVolume: function (a) {\n      this.backend.setVolume(a);\n    },\n    getVolume: function () {\n      return this.backend.getVolume();\n    },\n    setPlaybackRate: function (a) {\n      this.backend.setPlaybackRate(a);\n    },\n    getPlaybackRate: function () {\n      return this.backend.getPlaybackRate();\n    },\n    toggleMute: function () {\n      this.setMute(!this.isMuted);\n    },\n    setMute: function (a) {\n      a !== this.isMuted && (a ? (this.savedVolume = this.backend.getVolume(), this.backend.setVolume(0), this.isMuted = !0) : (this.backend.setVolume(this.savedVolume), this.isMuted = !1));\n    },\n    getMute: function () {\n      return this.isMuted;\n    },\n    getFilters: function () {\n      return this.backend.filters || [];\n    },\n    toggleScroll: function () {\n      this.params.scrollParent = !this.params.scrollParent, this.drawBuffer();\n    },\n    toggleInteraction: function () {\n      this.params.interact = !this.params.interact;\n    },\n    drawBuffer: function () {\n      var a = Math.round(this.getDuration() * this.params.minPxPerSec * this.params.pixelRatio),\n          b = this.drawer.getWidth(),\n          c = a,\n          d = this.drawer.getScrollX(),\n          e = Math.min(d + b, c);\n      if (this.params.fillParent && (!this.params.scrollParent || a < b) && (c = b, d = 0, e = c), this.params.partialRender) for (var f = this.peakCache.addRangeToPeakCache(c, d, e), g = 0; g < f.length; g++) {\n        var h = this.backend.getPeaks(c, f[g][0], f[g][1]);\n        this.drawer.drawPeaks(h, c, f[g][0], f[g][1]);\n      } else {\n        d = 0, e = c;\n        var h = this.backend.getPeaks(c, d, e);\n        this.drawer.drawPeaks(h, c, d, e);\n      }\n      this.fireEvent(\"redraw\", h, c);\n    },\n    zoom: function (a) {\n      this.params.minPxPerSec = a, this.params.scrollParent = !0, this.drawBuffer(), this.drawer.progress(this.backend.getPlayedPercents()), this.drawer.recenter(this.getCurrentTime() / this.getDuration()), this.fireEvent(\"zoom\", a);\n    },\n    loadArrayBuffer: function (a) {\n      this.decodeArrayBuffer(a, function (a) {\n        this.isDestroyed || this.loadDecodedBuffer(a);\n      }.bind(this));\n    },\n    loadDecodedBuffer: function (a) {\n      this.backend.load(a), this.drawBuffer(), this.fireEvent(\"ready\");\n    },\n    loadBlob: function (a) {\n      var b = this,\n          c = new FileReader();\n      c.addEventListener(\"progress\", function (a) {\n        b.onProgress(a);\n      }), c.addEventListener(\"load\", function (a) {\n        b.loadArrayBuffer(a.target.result);\n      }), c.addEventListener(\"error\", function () {\n        b.fireEvent(\"error\", \"Error reading file\");\n      }), c.readAsArrayBuffer(a), this.empty();\n    },\n    load: function (a, b, c) {\n      switch (this.empty(), this.isMuted = !1, this.params.backend) {\n        case \"WebAudio\":\n          return this.loadBuffer(a, b);\n\n        case \"MediaElement\":\n          return this.loadMediaElement(a, b, c);\n      }\n    },\n    loadBuffer: function (a, b) {\n      var c = function (b) {\n        return b && this.tmpEvents.push(this.once(\"ready\", b)), this.getArrayBuffer(a, this.loadArrayBuffer.bind(this));\n      }.bind(this);\n\n      return b ? (this.backend.setPeaks(b), this.drawBuffer(), this.tmpEvents.push(this.once(\"interaction\", c)), void 0) : c();\n    },\n    loadMediaElement: function (a, b, c) {\n      var d = a;\n      if (\"string\" == typeof a) this.backend.load(d, this.mediaContainer, b, c);else {\n        var e = a;\n        this.backend.loadElt(e, b), d = e.src;\n      }\n      this.tmpEvents.push(this.backend.once(\"canplay\", function () {\n        this.drawBuffer(), this.fireEvent(\"ready\");\n      }.bind(this)), this.backend.once(\"error\", function (a) {\n        this.fireEvent(\"error\", a);\n      }.bind(this))), b && this.backend.setPeaks(b), b && !this.params.forceDecode || !this.backend.supportsWebAudio() || this.getArrayBuffer(d, function (a) {\n        this.decodeArrayBuffer(a, function (a) {\n          this.backend.buffer = a, this.backend.setPeaks(null), this.drawBuffer(), this.fireEvent(\"waveform-ready\");\n        }.bind(this));\n      }.bind(this));\n    },\n    decodeArrayBuffer: function (a, b) {\n      this.arraybuffer = a, this.backend.decodeArrayBuffer(a, function (c) {\n        this.isDestroyed || this.arraybuffer != a || (b(c), this.arraybuffer = null);\n      }.bind(this), this.fireEvent.bind(this, \"error\", \"Error decoding audiobuffer\"));\n    },\n    getArrayBuffer: function (b, c) {\n      var d = this,\n          e = a.util.ajax({\n        url: b,\n        responseType: \"arraybuffer\"\n      });\n      return this.currentAjax = e, this.tmpEvents.push(e.on(\"progress\", function (a) {\n        d.onProgress(a);\n      }), e.on(\"success\", function (a, b) {\n        c(a), d.currentAjax = null;\n      }), e.on(\"error\", function (a) {\n        d.fireEvent(\"error\", \"XHR error: \" + a.target.statusText), d.currentAjax = null;\n      })), e;\n    },\n    onProgress: function (a) {\n      if (a.lengthComputable) var b = a.loaded / a.total;else b = a.loaded / (a.loaded + 1e6);\n      this.fireEvent(\"loading\", Math.round(100 * b), a.target);\n    },\n    exportPCM: function (a, b, c) {\n      a = a || 1024, b = b || 1e4, c = c || !1;\n      var d = this.backend.getPeaks(a, b),\n          e = [].map.call(d, function (a) {\n        return Math.round(a * b) / b;\n      }),\n          f = JSON.stringify(e);\n      return c || window.open(\"data:application/json;charset=utf-8,\" + encodeURIComponent(f)), f;\n    },\n    exportImage: function (a, b) {\n      return a || (a = \"image/png\"), b || (b = 1), this.drawer.getImage(a, b);\n    },\n    cancelAjax: function () {\n      this.currentAjax && (this.currentAjax.xhr.abort(), this.currentAjax = null);\n    },\n    clearTmpEvents: function () {\n      this.tmpEvents.forEach(function (a) {\n        a.un();\n      });\n    },\n    empty: function () {\n      this.backend.isPaused() || (this.stop(), this.backend.disconnectSource()), this.cancelAjax(), this.clearTmpEvents(), this.drawer.progress(0), this.drawer.setWidth(0), this.drawer.drawPeaks({\n        length: this.drawer.getWidth()\n      }, 0);\n    },\n    destroy: function () {\n      this.fireEvent(\"destroy\"), this.cancelAjax(), this.clearTmpEvents(), this.unAll(), this.backend.destroy(), this.drawer.destroy(), this.isDestroyed = !0;\n    }\n  };\n  return a.create = function (b) {\n    var c = Object.create(a);\n    return c.init(b), c;\n  }, a.util = {\n    extend: function (a) {\n      var b = Array.prototype.slice.call(arguments, 1);\n      return b.forEach(function (b) {\n        Object.keys(b).forEach(function (c) {\n          a[c] = b[c];\n        });\n      }), a;\n    },\n    debounce: function (a, b, c) {\n      var d,\n          e,\n          f,\n          g = function () {\n        f = null, c || a.apply(e, d);\n      };\n\n      return function () {\n        e = this, d = arguments;\n        var h = c && !f;\n        clearTimeout(f), f = setTimeout(g, b), f || (f = setTimeout(g, b)), h && a.apply(e, d);\n      };\n    },\n    min: function (a) {\n      var b = +(1 / 0);\n\n      for (var c in a) a[c] < b && (b = a[c]);\n\n      return b;\n    },\n    max: function (a) {\n      var b = -(1 / 0);\n\n      for (var c in a) a[c] > b && (b = a[c]);\n\n      return b;\n    },\n    getId: function () {\n      return \"wavesurfer_\" + Math.random().toString(32).substring(2);\n    },\n    ajax: function (b) {\n      var c = Object.create(a.Observer),\n          d = new XMLHttpRequest(),\n          e = !1;\n      return d.open(b.method || \"GET\", b.url, !0), d.responseType = b.responseType || \"json\", d.addEventListener(\"progress\", function (a) {\n        c.fireEvent(\"progress\", a), a.lengthComputable && a.loaded == a.total && (e = !0);\n      }), d.addEventListener(\"load\", function (a) {\n        e || c.fireEvent(\"progress\", a), c.fireEvent(\"load\", a), 200 == d.status || 206 == d.status ? c.fireEvent(\"success\", d.response, a) : c.fireEvent(\"error\", a);\n      }), d.addEventListener(\"error\", function (a) {\n        c.fireEvent(\"error\", a);\n      }), d.send(), c.xhr = d, c;\n    }\n  }, a.Observer = {\n    on: function (a, b) {\n      this.handlers || (this.handlers = {});\n      var c = this.handlers[a];\n      return c || (c = this.handlers[a] = []), c.push(b), {\n        name: a,\n        callback: b,\n        un: this.un.bind(this, a, b)\n      };\n    },\n    un: function (a, b) {\n      if (this.handlers) {\n        var c = this.handlers[a];\n        if (c) if (b) for (var d = c.length - 1; d >= 0; d--) c[d] == b && c.splice(d, 1);else c.length = 0;\n      }\n    },\n    unAll: function () {\n      this.handlers = null;\n    },\n    once: function (a, b) {\n      var c = this,\n          d = function () {\n        b.apply(this, arguments), setTimeout(function () {\n          c.un(a, d);\n        }, 0);\n      };\n\n      return this.on(a, d);\n    },\n    fireEvent: function (a) {\n      if (this.handlers) {\n        var b = this.handlers[a],\n            c = Array.prototype.slice.call(arguments, 1);\n        b && b.forEach(function (a) {\n          a.apply(null, c);\n        });\n      }\n    }\n  }, a.util.extend(a, a.Observer), a.WebAudio = {\n    scriptBufferSize: 256,\n    PLAYING_STATE: 0,\n    PAUSED_STATE: 1,\n    FINISHED_STATE: 2,\n    supportsWebAudio: function () {\n      return !(!window.AudioContext && !window.webkitAudioContext);\n    },\n    getAudioContext: function () {\n      return a.WebAudio.audioContext || (a.WebAudio.audioContext = new (window.AudioContext || window.webkitAudioContext)()), a.WebAudio.audioContext;\n    },\n    getOfflineAudioContext: function (b) {\n      return a.WebAudio.offlineAudioContext || (a.WebAudio.offlineAudioContext = new (window.OfflineAudioContext || window.webkitOfflineAudioContext)(1, 2, b)), a.WebAudio.offlineAudioContext;\n    },\n    init: function (b) {\n      this.params = b, this.ac = b.audioContext || this.getAudioContext(), this.lastPlay = this.ac.currentTime, this.startPosition = 0, this.scheduledPause = null, this.states = [Object.create(a.WebAudio.state.playing), Object.create(a.WebAudio.state.paused), Object.create(a.WebAudio.state.finished)], this.createVolumeNode(), this.createScriptNode(), this.createAnalyserNode(), this.setState(this.PAUSED_STATE), this.setPlaybackRate(this.params.audioRate), this.setLength(0);\n    },\n    disconnectFilters: function () {\n      this.filters && (this.filters.forEach(function (a) {\n        a && a.disconnect();\n      }), this.filters = null, this.analyser.connect(this.gainNode));\n    },\n    setState: function (a) {\n      this.state !== this.states[a] && (this.state = this.states[a], this.state.init.call(this));\n    },\n    setFilter: function () {\n      this.setFilters([].slice.call(arguments));\n    },\n    setFilters: function (a) {\n      this.disconnectFilters(), a && a.length && (this.filters = a, this.analyser.disconnect(), a.reduce(function (a, b) {\n        return a.connect(b), b;\n      }, this.analyser).connect(this.gainNode));\n    },\n    createScriptNode: function () {\n      this.ac.createScriptProcessor ? this.scriptNode = this.ac.createScriptProcessor(this.scriptBufferSize) : this.scriptNode = this.ac.createJavaScriptNode(this.scriptBufferSize), this.scriptNode.connect(this.ac.destination);\n    },\n    addOnAudioProcess: function () {\n      var a = this;\n\n      this.scriptNode.onaudioprocess = function () {\n        var b = a.getCurrentTime();\n        b >= a.getDuration() ? (a.setState(a.FINISHED_STATE), a.fireEvent(\"pause\")) : b >= a.scheduledPause ? a.pause() : a.state === a.states[a.PLAYING_STATE] && a.fireEvent(\"audioprocess\", b);\n      };\n    },\n    removeOnAudioProcess: function () {\n      this.scriptNode.onaudioprocess = null;\n    },\n    createAnalyserNode: function () {\n      this.analyser = this.ac.createAnalyser(), this.analyser.connect(this.gainNode);\n    },\n    createVolumeNode: function () {\n      this.ac.createGain ? this.gainNode = this.ac.createGain() : this.gainNode = this.ac.createGainNode(), this.gainNode.connect(this.ac.destination);\n    },\n    setVolume: function (a) {\n      this.gainNode.gain.value = a;\n    },\n    getVolume: function () {\n      return this.gainNode.gain.value;\n    },\n    decodeArrayBuffer: function (a, b, c) {\n      this.offlineAc || (this.offlineAc = this.getOfflineAudioContext(this.ac ? this.ac.sampleRate : 44100)), this.offlineAc.decodeAudioData(a, function (a) {\n        b(a);\n      }.bind(this), c);\n    },\n    setPeaks: function (a) {\n      this.peaks = a;\n    },\n    setLength: function (a) {\n      if (!this.mergedPeaks || a != 2 * this.mergedPeaks.length - 1 + 2) {\n        this.splitPeaks = [], this.mergedPeaks = [];\n\n        for (var b = this.buffer ? this.buffer.numberOfChannels : 1, c = 0; c < b; c++) this.splitPeaks[c] = [], this.splitPeaks[c][2 * (a - 1)] = 0, this.splitPeaks[c][2 * (a - 1) + 1] = 0;\n\n        this.mergedPeaks[2 * (a - 1)] = 0, this.mergedPeaks[2 * (a - 1) + 1] = 0;\n      }\n    },\n    getPeaks: function (a, b, c) {\n      if (this.peaks) return this.peaks;\n      this.setLength(a);\n\n      for (var d = this.buffer.length / a, e = ~~(d / 10) || 1, f = this.buffer.numberOfChannels, g = 0; g < f; g++) for (var h = this.splitPeaks[g], i = this.buffer.getChannelData(g), j = b; j <= c; j++) {\n        for (var k = ~~(j * d), l = ~~(k + d), m = 0, n = 0, o = k; o < l; o += e) {\n          var p = i[o];\n          p > n && (n = p), p < m && (m = p);\n        }\n\n        h[2 * j] = n, h[2 * j + 1] = m, (0 == g || n > this.mergedPeaks[2 * j]) && (this.mergedPeaks[2 * j] = n), (0 == g || m < this.mergedPeaks[2 * j + 1]) && (this.mergedPeaks[2 * j + 1] = m);\n      }\n\n      return this.params.splitChannels ? this.splitPeaks : this.mergedPeaks;\n    },\n    getPlayedPercents: function () {\n      return this.state.getPlayedPercents.call(this);\n    },\n    disconnectSource: function () {\n      this.source && this.source.disconnect();\n    },\n    destroy: function () {\n      this.isPaused() || this.pause(), this.unAll(), this.buffer = null, this.disconnectFilters(), this.disconnectSource(), this.gainNode.disconnect(), this.scriptNode.disconnect(), this.analyser.disconnect(), this.params.closeAudioContext && (\"function\" == typeof this.ac.close && \"closed\" != this.ac.state && this.ac.close(), this.ac = null, this.params.audioContext ? this.params.audioContext = null : a.WebAudio.audioContext = null, a.WebAudio.offlineAudioContext = null);\n    },\n    load: function (a) {\n      this.startPosition = 0, this.lastPlay = this.ac.currentTime, this.buffer = a, this.createSource();\n    },\n    createSource: function () {\n      this.disconnectSource(), this.source = this.ac.createBufferSource(), this.source.start = this.source.start || this.source.noteGrainOn, this.source.stop = this.source.stop || this.source.noteOff, this.source.playbackRate.value = this.playbackRate, this.source.buffer = this.buffer, this.source.connect(this.analyser);\n    },\n    isPaused: function () {\n      return this.state !== this.states[this.PLAYING_STATE];\n    },\n    getDuration: function () {\n      return this.buffer ? this.buffer.duration : 0;\n    },\n    seekTo: function (a, b) {\n      if (this.buffer) return this.scheduledPause = null, null == a && (a = this.getCurrentTime(), a >= this.getDuration() && (a = 0)), null == b && (b = this.getDuration()), this.startPosition = a, this.lastPlay = this.ac.currentTime, this.state === this.states[this.FINISHED_STATE] && this.setState(this.PAUSED_STATE), {\n        start: a,\n        end: b\n      };\n    },\n    getPlayedTime: function () {\n      return (this.ac.currentTime - this.lastPlay) * this.playbackRate;\n    },\n    play: function (a, b) {\n      if (this.buffer) {\n        this.createSource();\n        var c = this.seekTo(a, b);\n        a = c.start, b = c.end, this.scheduledPause = b, this.source.start(0, a, b - a), \"suspended\" == this.ac.state && this.ac.resume && this.ac.resume(), this.setState(this.PLAYING_STATE), this.fireEvent(\"play\");\n      }\n    },\n    pause: function () {\n      this.scheduledPause = null, this.startPosition += this.getPlayedTime(), this.source && this.source.stop(0), this.setState(this.PAUSED_STATE), this.fireEvent(\"pause\");\n    },\n    getCurrentTime: function () {\n      return this.state.getCurrentTime.call(this);\n    },\n    getPlaybackRate: function () {\n      return this.playbackRate;\n    },\n    setPlaybackRate: function (a) {\n      a = a || 1, this.isPaused() ? this.playbackRate = a : (this.pause(), this.playbackRate = a, this.play());\n    }\n  }, a.WebAudio.state = {}, a.WebAudio.state.playing = {\n    init: function () {\n      this.addOnAudioProcess();\n    },\n    getPlayedPercents: function () {\n      var a = this.getDuration();\n      return this.getCurrentTime() / a || 0;\n    },\n    getCurrentTime: function () {\n      return this.startPosition + this.getPlayedTime();\n    }\n  }, a.WebAudio.state.paused = {\n    init: function () {\n      this.removeOnAudioProcess();\n    },\n    getPlayedPercents: function () {\n      var a = this.getDuration();\n      return this.getCurrentTime() / a || 0;\n    },\n    getCurrentTime: function () {\n      return this.startPosition;\n    }\n  }, a.WebAudio.state.finished = {\n    init: function () {\n      this.removeOnAudioProcess(), this.fireEvent(\"finish\");\n    },\n    getPlayedPercents: function () {\n      return 1;\n    },\n    getCurrentTime: function () {\n      return this.getDuration();\n    }\n  }, a.util.extend(a.WebAudio, a.Observer), a.MediaElement = Object.create(a.WebAudio), a.util.extend(a.MediaElement, {\n    init: function (a) {\n      this.params = a, this.media = {\n        currentTime: 0,\n        duration: 0,\n        paused: !0,\n        playbackRate: 1,\n        play: function () {},\n        pause: function () {}\n      }, this.mediaType = a.mediaType.toLowerCase(), this.elementPosition = a.elementPosition, this.setPlaybackRate(this.params.audioRate), this.createTimer();\n    },\n    createTimer: function () {\n      var a = this,\n          b = function () {\n        if (!a.isPaused()) {\n          a.fireEvent(\"audioprocess\", a.getCurrentTime());\n          var c = window.requestAnimationFrame || window.webkitRequestAnimationFrame;\n          c(b);\n        }\n      };\n\n      this.on(\"play\", b);\n    },\n    load: function (a, b, c, d) {\n      var e = document.createElement(this.mediaType);\n      e.controls = this.params.mediaControls, e.autoplay = this.params.autoplay || !1, e.preload = null == d ? \"auto\" : d, e.src = a, e.style.width = \"100%\";\n      var f = b.querySelector(this.mediaType);\n      f && b.removeChild(f), b.appendChild(e), this._load(e, c);\n    },\n    loadElt: function (a, b) {\n      var c = a;\n      c.controls = this.params.mediaControls, c.autoplay = this.params.autoplay || !1, this._load(c, b);\n    },\n    _load: function (a, b) {\n      var c = this;\n      \"function\" == typeof a.load && a.load(), a.addEventListener(\"error\", function () {\n        c.fireEvent(\"error\", \"Error loading media element\");\n      }), a.addEventListener(\"canplay\", function () {\n        c.fireEvent(\"canplay\");\n      }), a.addEventListener(\"ended\", function () {\n        c.fireEvent(\"finish\");\n      }), this.media = a, this.peaks = b, this.onPlayEnd = null, this.buffer = null, this.setPlaybackRate(this.playbackRate);\n    },\n    isPaused: function () {\n      return !this.media || this.media.paused;\n    },\n    getDuration: function () {\n      var a = (this.buffer || this.media).duration;\n      return a >= 1 / 0 && (a = this.media.seekable.end(0)), a;\n    },\n    getCurrentTime: function () {\n      return this.media && this.media.currentTime;\n    },\n    getPlayedPercents: function () {\n      return this.getCurrentTime() / this.getDuration() || 0;\n    },\n    getPlaybackRate: function () {\n      return this.playbackRate || this.media.playbackRate;\n    },\n    setPlaybackRate: function (a) {\n      this.playbackRate = a || 1, this.media.playbackRate = this.playbackRate;\n    },\n    seekTo: function (a) {\n      null != a && (this.media.currentTime = a), this.clearPlayEnd();\n    },\n    play: function (a, b) {\n      this.seekTo(a), this.media.play(), b && this.setPlayEnd(b), this.fireEvent(\"play\");\n    },\n    pause: function () {\n      this.media && this.media.pause(), this.clearPlayEnd(), this.fireEvent(\"pause\");\n    },\n    setPlayEnd: function (a) {\n      var b = this;\n      this.onPlayEnd = function (c) {\n        c >= a && (b.pause(), b.seekTo(a));\n      }, this.on(\"audioprocess\", this.onPlayEnd);\n    },\n    clearPlayEnd: function () {\n      this.onPlayEnd && (this.un(\"audioprocess\", this.onPlayEnd), this.onPlayEnd = null);\n    },\n    getPeaks: function (b, c, d) {\n      return this.buffer ? a.WebAudio.getPeaks.call(this, b, c, d) : this.peaks || [];\n    },\n    getVolume: function () {\n      return this.media.volume;\n    },\n    setVolume: function (a) {\n      this.media.volume = a;\n    },\n    destroy: function () {\n      this.pause(), this.unAll(), this.media && this.media.parentNode && this.media.parentNode.removeChild(this.media), this.media = null;\n    }\n  }), a.AudioElement = a.MediaElement, a.Drawer = {\n    init: function (a, b) {\n      this.container = a, this.params = b, this.width = 0, this.height = b.height * this.params.pixelRatio, this.lastPos = 0, this.initDrawer(b), this.createWrapper(), this.createElements();\n    },\n    createWrapper: function () {\n      this.wrapper = this.container.appendChild(document.createElement(\"wave\")), this.style(this.wrapper, {\n        display: \"block\",\n        position: \"relative\",\n        userSelect: \"none\",\n        webkitUserSelect: \"none\",\n        height: this.params.height + \"px\"\n      }), (this.params.fillParent || this.params.scrollParent) && this.style(this.wrapper, {\n        width: \"100%\",\n        overflowX: this.params.hideScrollbar ? \"hidden\" : \"auto\",\n        overflowY: \"hidden\"\n      }), this.setupWrapperEvents();\n    },\n    handleEvent: function (a, b) {\n      !b && a.preventDefault();\n      var c,\n          d = a.targetTouches ? a.targetTouches[0].clientX : a.clientX,\n          e = this.wrapper.getBoundingClientRect(),\n          f = this.width,\n          g = this.getWidth();\n      return !this.params.fillParent && f < g ? (c = (d - e.left) * this.params.pixelRatio / f || 0, c > 1 && (c = 1)) : c = (d - e.left + this.wrapper.scrollLeft) / this.wrapper.scrollWidth || 0, c;\n    },\n    setupWrapperEvents: function () {\n      var a = this;\n      this.wrapper.addEventListener(\"click\", function (b) {\n        var c = a.wrapper.offsetHeight - a.wrapper.clientHeight;\n\n        if (0 != c) {\n          var d = a.wrapper.getBoundingClientRect();\n          if (b.clientY >= d.bottom - c) return;\n        }\n\n        a.params.interact && a.fireEvent(\"click\", b, a.handleEvent(b));\n      }), this.wrapper.addEventListener(\"scroll\", function (b) {\n        a.fireEvent(\"scroll\", b);\n      });\n    },\n    drawPeaks: function (a, b, c, d) {\n      this.setWidth(b), this.params.barWidth ? this.drawBars(a, 0, c, d) : this.drawWave(a, 0, c, d);\n    },\n    style: function (a, b) {\n      return Object.keys(b).forEach(function (c) {\n        a.style[c] !== b[c] && (a.style[c] = b[c]);\n      }), a;\n    },\n    resetScroll: function () {\n      null !== this.wrapper && (this.wrapper.scrollLeft = 0);\n    },\n    recenter: function (a) {\n      var b = this.wrapper.scrollWidth * a;\n      this.recenterOnPosition(b, !0);\n    },\n    recenterOnPosition: function (a, b) {\n      var c = this.wrapper.scrollLeft,\n          d = ~~(this.wrapper.clientWidth / 2),\n          e = a - d,\n          f = e - c,\n          g = this.wrapper.scrollWidth - this.wrapper.clientWidth;\n\n      if (0 != g) {\n        if (!b && -d <= f && f < d) {\n          var h = 5;\n          f = Math.max(-h, Math.min(h, f)), e = c + f;\n        }\n\n        e = Math.max(0, Math.min(g, e)), e != c && (this.wrapper.scrollLeft = e);\n      }\n    },\n    getScrollX: function () {\n      return Math.round(this.wrapper.scrollLeft * this.params.pixelRatio);\n    },\n    getWidth: function () {\n      return Math.round(this.container.clientWidth * this.params.pixelRatio);\n    },\n    setWidth: function (a) {\n      this.width != a && (this.width = a, this.params.fillParent || this.params.scrollParent ? this.style(this.wrapper, {\n        width: \"\"\n      }) : this.style(this.wrapper, {\n        width: ~~(this.width / this.params.pixelRatio) + \"px\"\n      }), this.updateSize());\n    },\n    setHeight: function (a) {\n      a != this.height && (this.height = a, this.style(this.wrapper, {\n        height: ~~(this.height / this.params.pixelRatio) + \"px\"\n      }), this.updateSize());\n    },\n    progress: function (a) {\n      var b = 1 / this.params.pixelRatio,\n          c = Math.round(a * this.width) * b;\n\n      if (c < this.lastPos || c - this.lastPos >= b) {\n        if (this.lastPos = c, this.params.scrollParent && this.params.autoCenter) {\n          var d = ~~(this.wrapper.scrollWidth * a);\n          this.recenterOnPosition(d);\n        }\n\n        this.updateProgress(c);\n      }\n    },\n    destroy: function () {\n      this.unAll(), this.wrapper && (this.container.removeChild(this.wrapper), this.wrapper = null);\n    },\n    initDrawer: function () {},\n    createElements: function () {},\n    updateSize: function () {},\n    drawWave: function (a, b) {},\n    clearWave: function () {},\n    updateProgress: function (a) {}\n  }, a.util.extend(a.Drawer, a.Observer), a.Drawer.Canvas = Object.create(a.Drawer), a.util.extend(a.Drawer.Canvas, {\n    createElements: function () {\n      var a = this.wrapper.appendChild(this.style(document.createElement(\"canvas\"), {\n        position: \"absolute\",\n        zIndex: 1,\n        left: 0,\n        top: 0,\n        bottom: 0\n      }));\n\n      if (this.waveCc = a.getContext(\"2d\"), this.progressWave = this.wrapper.appendChild(this.style(document.createElement(\"wave\"), {\n        position: \"absolute\",\n        zIndex: 2,\n        left: 0,\n        top: 0,\n        bottom: 0,\n        overflow: \"hidden\",\n        width: \"0\",\n        display: \"none\",\n        boxSizing: \"border-box\",\n        borderRightStyle: \"solid\",\n        borderRightWidth: this.params.cursorWidth + \"px\",\n        borderRightColor: this.params.cursorColor\n      })), this.params.waveColor != this.params.progressColor) {\n        var b = this.progressWave.appendChild(document.createElement(\"canvas\"));\n        this.progressCc = b.getContext(\"2d\");\n      }\n    },\n    updateSize: function () {\n      var a = Math.round(this.width / this.params.pixelRatio);\n      this.waveCc.canvas.width = this.width, this.waveCc.canvas.height = this.height, this.style(this.waveCc.canvas, {\n        width: a + \"px\"\n      }), this.style(this.progressWave, {\n        display: \"block\"\n      }), this.progressCc && (this.progressCc.canvas.width = this.width, this.progressCc.canvas.height = this.height, this.style(this.progressCc.canvas, {\n        width: a + \"px\"\n      })), this.clearWave();\n    },\n    clearWave: function () {\n      this.waveCc.clearRect(0, 0, this.width, this.height), this.progressCc && this.progressCc.clearRect(0, 0, this.width, this.height);\n    },\n    drawBars: function (b, c, d, e) {\n      var f = this;\n\n      if (b[0] instanceof Array) {\n        var g = b;\n        if (this.params.splitChannels) return this.setHeight(g.length * this.params.height * this.params.pixelRatio), void g.forEach(function (a, b) {\n          f.drawBars(a, b, d, e);\n        });\n        b = g[0];\n      }\n\n      var h = [].some.call(b, function (a) {\n        return a < 0;\n      }),\n          i = 1;\n      h && (i = 2);\n      var j = .5 / this.params.pixelRatio,\n          k = this.width,\n          l = this.params.height * this.params.pixelRatio,\n          m = l * c || 0,\n          n = l / 2,\n          o = b.length / i,\n          p = this.params.barWidth * this.params.pixelRatio,\n          q = Math.max(this.params.pixelRatio, ~~(p / 2)),\n          r = p + q,\n          s = 1 / this.params.barHeight;\n\n      if (this.params.normalize) {\n        var t = a.util.max(b),\n            u = a.util.min(b);\n        s = -u > t ? -u : t;\n      }\n\n      var v = o / k;\n      this.waveCc.fillStyle = this.params.waveColor, this.progressCc && (this.progressCc.fillStyle = this.params.progressColor), [this.waveCc, this.progressCc].forEach(function (a) {\n        if (a) for (var c = d / v; c < e / v; c += r) {\n          var f = b[Math.floor(c * v * i)] || 0,\n              g = Math.round(f / s * n);\n          a.fillRect(c + j, n - g + m, p + j, 2 * g);\n        }\n      }, this);\n    },\n    drawWave: function (b, c, d, e) {\n      var f = this;\n\n      if (b[0] instanceof Array) {\n        var g = b;\n        if (this.params.splitChannels) return this.setHeight(g.length * this.params.height * this.params.pixelRatio), void g.forEach(function (a, b) {\n          f.drawWave(a, b, d, e);\n        });\n        b = g[0];\n      }\n\n      var h = [].some.call(b, function (a) {\n        return a < 0;\n      });\n\n      if (!h) {\n        for (var i = [], j = 0, k = b.length; j < k; j++) i[2 * j] = b[j], i[2 * j + 1] = -b[j];\n\n        b = i;\n      }\n\n      var l = .5 / this.params.pixelRatio,\n          m = this.params.height * this.params.pixelRatio,\n          n = m * c || 0,\n          o = m / 2,\n          p = ~~(b.length / 2),\n          q = 1;\n      this.params.fillParent && this.width != p && (q = this.width / p);\n      var r = 1 / this.params.barHeight;\n\n      if (this.params.normalize) {\n        var s = a.util.max(b),\n            t = a.util.min(b);\n        r = -t > s ? -t : s;\n      }\n\n      this.waveCc.fillStyle = this.params.waveColor, this.progressCc && (this.progressCc.fillStyle = this.params.progressColor), [this.waveCc, this.progressCc].forEach(function (a) {\n        if (a) {\n          a.beginPath(), a.moveTo(d * q + l, o + n);\n\n          for (var c = d; c < e; c++) {\n            var f = Math.round(b[2 * c] / r * o);\n            a.lineTo(c * q + l, o - f + n);\n          }\n\n          for (var c = e - 1; c >= d; c--) {\n            var f = Math.round(b[2 * c + 1] / r * o);\n            a.lineTo(c * q + l, o - f + n);\n          }\n\n          a.closePath(), a.fill(), a.fillRect(0, o + n - l, this.width, l);\n        }\n      }, this);\n    },\n    updateProgress: function (a) {\n      this.style(this.progressWave, {\n        width: a + \"px\"\n      });\n    },\n    getImage: function (a, b) {\n      return this.waveCc.canvas.toDataURL(a, b);\n    }\n  }), a.Drawer.MultiCanvas = Object.create(a.Drawer), a.util.extend(a.Drawer.MultiCanvas, {\n    initDrawer: function (a) {\n      if (this.maxCanvasWidth = null != a.maxCanvasWidth ? a.maxCanvasWidth : 4e3, this.maxCanvasElementWidth = Math.round(this.maxCanvasWidth / this.params.pixelRatio), this.maxCanvasWidth <= 1) throw \"maxCanvasWidth must be greater than 1.\";\n      if (this.maxCanvasWidth % 2 == 1) throw \"maxCanvasWidth must be an even number.\";\n      this.hasProgressCanvas = this.params.waveColor != this.params.progressColor, this.halfPixel = .5 / this.params.pixelRatio, this.canvases = [];\n    },\n    createElements: function () {\n      this.progressWave = this.wrapper.appendChild(this.style(document.createElement(\"wave\"), {\n        position: \"absolute\",\n        zIndex: 2,\n        left: 0,\n        top: 0,\n        bottom: 0,\n        overflow: \"hidden\",\n        width: \"0\",\n        display: \"none\",\n        boxSizing: \"border-box\",\n        borderRightStyle: \"solid\",\n        borderRightWidth: this.params.cursorWidth + \"px\",\n        borderRightColor: this.params.cursorColor\n      })), this.addCanvas();\n    },\n    updateSize: function () {\n      for (var a = Math.round(this.width / this.params.pixelRatio), b = Math.ceil(a / this.maxCanvasElementWidth); this.canvases.length < b;) this.addCanvas();\n\n      for (; this.canvases.length > b;) this.removeCanvas();\n\n      for (var c in this.canvases) {\n        var d = this.maxCanvasWidth + 2 * Math.ceil(this.params.pixelRatio / 2);\n        c == this.canvases.length - 1 && (d = this.width - this.maxCanvasWidth * (this.canvases.length - 1)), this.updateDimensions(this.canvases[c], d, this.height), this.clearWaveForEntry(this.canvases[c]);\n      }\n    },\n    addCanvas: function () {\n      var a = {},\n          b = this.maxCanvasElementWidth * this.canvases.length;\n      a.wave = this.wrapper.appendChild(this.style(document.createElement(\"canvas\"), {\n        position: \"absolute\",\n        zIndex: 1,\n        left: b + \"px\",\n        top: 0,\n        bottom: 0,\n        height: \"100%\"\n      })), a.waveCtx = a.wave.getContext(\"2d\"), this.hasProgressCanvas && (a.progress = this.progressWave.appendChild(this.style(document.createElement(\"canvas\"), {\n        position: \"absolute\",\n        left: b + \"px\",\n        top: 0,\n        bottom: 0,\n        height: \"100%\"\n      })), a.progressCtx = a.progress.getContext(\"2d\")), this.canvases.push(a);\n    },\n    removeCanvas: function () {\n      var a = this.canvases.pop();\n      a.wave.parentElement.removeChild(a.wave), this.hasProgressCanvas && a.progress.parentElement.removeChild(a.progress);\n    },\n    updateDimensions: function (a, b, c) {\n      var d = Math.round(b / this.params.pixelRatio),\n          e = Math.round(this.width / this.params.pixelRatio);\n      a.start = a.waveCtx.canvas.offsetLeft / e || 0, a.end = a.start + d / e, a.waveCtx.canvas.width = b, a.waveCtx.canvas.height = c, this.style(a.waveCtx.canvas, {\n        width: d + \"px\"\n      }), this.style(this.progressWave, {\n        display: \"block\"\n      }), this.hasProgressCanvas && (a.progressCtx.canvas.width = b, a.progressCtx.canvas.height = c, this.style(a.progressCtx.canvas, {\n        width: d + \"px\"\n      }));\n    },\n    clearWave: function () {\n      for (var a in this.canvases) this.clearWaveForEntry(this.canvases[a]);\n    },\n    clearWaveForEntry: function (a) {\n      a.waveCtx.clearRect(0, 0, a.waveCtx.canvas.width, a.waveCtx.canvas.height), this.hasProgressCanvas && a.progressCtx.clearRect(0, 0, a.progressCtx.canvas.width, a.progressCtx.canvas.height);\n    },\n    drawBars: function (b, c, d, e) {\n      var f = this;\n\n      if (b[0] instanceof Array) {\n        var g = b;\n        if (this.params.splitChannels) return this.setHeight(g.length * this.params.height * this.params.pixelRatio), void g.forEach(function (a, b) {\n          f.drawBars(a, b, d, e);\n        });\n        b = g[0];\n      }\n\n      var h = [].some.call(b, function (a) {\n        return a < 0;\n      }),\n          i = 1;\n      h && (i = 2);\n      var j = this.width,\n          k = this.params.height * this.params.pixelRatio,\n          l = k * c || 0,\n          m = k / 2,\n          n = b.length / i,\n          o = this.params.barWidth * this.params.pixelRatio,\n          p = Math.max(this.params.pixelRatio, ~~(o / 2)),\n          q = o + p,\n          r = 1 / this.params.barHeight;\n\n      if (this.params.normalize) {\n        var s = a.util.max(b),\n            t = a.util.min(b);\n        r = -t > s ? -t : s;\n      }\n\n      for (var u = n / j, v = d / u; v < e / u; v += q) {\n        var w = b[Math.floor(v * u * i)] || 0,\n            x = Math.round(w / r * m);\n        this.fillRect(v + this.halfPixel, m - x + l, o + this.halfPixel, 2 * x);\n      }\n    },\n    drawWave: function (b, c, d, e) {\n      var f = this;\n\n      if (b[0] instanceof Array) {\n        var g = b;\n        if (this.params.splitChannels) return this.setHeight(g.length * this.params.height * this.params.pixelRatio), void g.forEach(function (a, b) {\n          f.drawWave(a, b, d, e);\n        });\n        b = g[0];\n      }\n\n      var h = [].some.call(b, function (a) {\n        return a < 0;\n      });\n\n      if (!h) {\n        for (var i = [], j = 0, k = b.length; j < k; j++) i[2 * j] = b[j], i[2 * j + 1] = -b[j];\n\n        b = i;\n      }\n\n      var l = this.params.height * this.params.pixelRatio,\n          m = l * c || 0,\n          n = l / 2,\n          o = 1 / this.params.barHeight;\n\n      if (this.params.normalize) {\n        var p = a.util.max(b),\n            q = a.util.min(b);\n        o = -q > p ? -q : p;\n      }\n\n      this.drawLine(b, o, n, m, d, e), this.fillRect(0, n + m - this.halfPixel, this.width, this.halfPixel);\n    },\n    drawLine: function (a, b, c, d, e, f) {\n      for (var g in this.canvases) {\n        var h = this.canvases[g];\n        this.setFillStyles(h), this.drawLineToContext(h, h.waveCtx, a, b, c, d, e, f), this.drawLineToContext(h, h.progressCtx, a, b, c, d, e, f);\n      }\n    },\n    drawLineToContext: function (a, b, c, d, e, f, g, h) {\n      if (b) {\n        var i = c.length / 2,\n            j = 1;\n        this.params.fillParent && this.width != i && (j = this.width / i);\n        var k = Math.round(i * a.start),\n            l = Math.round(i * a.end);\n\n        if (!(k > h || l < g)) {\n          var m = Math.max(k, g),\n              n = Math.min(l, h);\n          b.beginPath(), b.moveTo((m - k) * j + this.halfPixel, e + f);\n\n          for (var o = m; o < n; o++) {\n            var p = c[2 * o] || 0,\n                q = Math.round(p / d * e);\n            b.lineTo((o - k) * j + this.halfPixel, e - q + f);\n          }\n\n          for (var o = n - 1; o >= m; o--) {\n            var p = c[2 * o + 1] || 0,\n                q = Math.round(p / d * e);\n            b.lineTo((o - k) * j + this.halfPixel, e - q + f);\n          }\n\n          b.closePath(), b.fill();\n        }\n      }\n    },\n    fillRect: function (a, b, c, d) {\n      for (var e = Math.floor(a / this.maxCanvasWidth), f = Math.min(Math.ceil((a + c) / this.maxCanvasWidth) + 1, this.canvases.length), g = e; g < f; g++) {\n        var h = this.canvases[g],\n            i = g * this.maxCanvasWidth,\n            j = {\n          x1: Math.max(a, g * this.maxCanvasWidth),\n          y1: b,\n          x2: Math.min(a + c, g * this.maxCanvasWidth + h.waveCtx.canvas.width),\n          y2: b + d\n        };\n        j.x1 < j.x2 && (this.setFillStyles(h), this.fillRectToContext(h.waveCtx, j.x1 - i, j.y1, j.x2 - j.x1, j.y2 - j.y1), this.fillRectToContext(h.progressCtx, j.x1 - i, j.y1, j.x2 - j.x1, j.y2 - j.y1));\n      }\n    },\n    fillRectToContext: function (a, b, c, d, e) {\n      a && a.fillRect(b, c, d, e);\n    },\n    setFillStyles: function (a) {\n      a.waveCtx.fillStyle = this.params.waveColor, this.hasProgressCanvas && (a.progressCtx.fillStyle = this.params.progressColor);\n    },\n    updateProgress: function (a) {\n      this.style(this.progressWave, {\n        width: a + \"px\"\n      });\n    },\n    getImage: function (a, b) {\n      var c = [];\n      return this.canvases.forEach(function (d) {\n        c.push(d.wave.toDataURL(a, b));\n      }), c.length > 1 ? c : c[0];\n    }\n  }), a.Drawer.SplitWavePointPlot = Object.create(a.Drawer.Canvas), a.util.extend(a.Drawer.SplitWavePointPlot, {\n    defaultPlotParams: {\n      plotNormalizeTo: \"whole\",\n      plotTimeStart: 0,\n      plotMin: 0,\n      plotMax: 1,\n      plotColor: \"#f63\",\n      plotProgressColor: \"#F00\",\n      plotPointHeight: 2,\n      plotPointWidth: 2,\n      plotSeparator: !0,\n      plotSeparatorColor: \"black\",\n      plotRangeDisplay: !1,\n      plotRangeUnits: \"\",\n      plotRangePrecision: 4,\n      plotRangeIgnoreOutliers: !1,\n      plotRangeFontSize: 12,\n      plotRangeFontType: \"Ariel\",\n      waveDrawMedianLine: !0,\n      plotFileDelimiter: \"\\t\"\n    },\n    plotTimeStart: 0,\n    plotTimeEnd: -1,\n    plotArrayLoaded: !1,\n    plotArray: [],\n    plotPoints: [],\n    plotMin: 0,\n    plotMax: 1,\n    initDrawer: function (a) {\n      var b = this;\n\n      for (var c in this.defaultPlotParams) void 0 === this.params[c] && (this.params[c] = this.defaultPlotParams[c]);\n\n      if (this.plotTimeStart = this.params.plotTimeStart, void 0 !== this.params.plotTimeEnd && (this.plotTimeEnd = this.params.plotTimeEnd), Array.isArray(a.plotArray)) this.plotArray = a.plotArray, this.plotArrayLoaded = !0;else {\n        var d = function (a) {\n          b.plotArray = a, b.plotArrayLoaded = !0, b.fireEvent(\"plot_array_loaded\");\n        };\n\n        this.loadPlotArrayFromFile(a.plotFileUrl, d, this.params.plotFileDelimiter);\n      }\n    },\n    drawPeaks: function (a, b, c, d) {\n      if (1 == this.plotArrayLoaded) this.setWidth(b), this.splitChannels = !0, this.params.height = this.params.height / 2, a[0] instanceof Array && (a = a[0]), this.params.barWidth ? this.drawBars(a, 1, c, d) : this.drawWave(a, 1, c, d), this.params.height = 2 * this.params.height, this.calculatePlots(), this.drawPlots();else {\n        var e = this;\n        e.on(\"plot-array-loaded\", function () {\n          e.drawPeaks(a, b, c, d);\n        });\n      }\n    },\n    drawPlots: function () {\n      var a = this.params.height * this.params.pixelRatio / 2,\n          b = .5 / this.params.pixelRatio;\n      this.waveCc.fillStyle = this.params.plotColor, this.progressCc && (this.progressCc.fillStyle = this.params.plotProgressColor);\n\n      for (var c in this.plotPoints) {\n        var d = parseInt(c),\n            e = a - this.params.plotPointHeight - this.plotPoints[c] * (a - this.params.plotPointHeight),\n            f = this.params.plotPointHeight;\n        this.waveCc.fillRect(d, e, this.params.plotPointWidth, f), this.progressCc && this.progressCc.fillRect(d, e, this.params.plotPointWidth, f);\n      }\n\n      this.params.plotSeparator && (this.waveCc.fillStyle = this.params.plotSeparatorColor, this.waveCc.fillRect(0, a, this.width, b)), this.params.plotRangeDisplay && this.displayPlotRange();\n    },\n    displayPlotRange: function () {\n      var a = this.params.plotRangeFontSize * this.params.pixelRatio,\n          b = this.plotMax.toPrecision(this.params.plotRangePrecision) + \" \" + this.params.plotRangeUnits,\n          c = this.plotMin.toPrecision(this.params.plotRangePrecision) + \" \" + this.params.plotRangeUnits;\n      this.waveCc.font = a.toString() + \"px \" + this.params.plotRangeFontType, this.waveCc.fillText(b, 3, a), this.waveCc.fillText(c, 3, this.height / 2);\n    },\n    calculatePlots: function () {\n      this.plotPoints = {}, this.calculatePlotTimeEnd();\n\n      for (var a = [], b = -1, c = 0, d = 99999999999999, e = 0, f = 99999999999999, g = this.plotTimeEnd - this.plotTimeStart, h = 0; h < this.plotArray.length; h++) {\n        var i = this.plotArray[h];\n\n        if (i.value > c && (c = i.value), i.value < d && (d = i.value), i.time >= this.plotTimeStart && i.time <= this.plotTimeEnd) {\n          var j = Math.round(this.width * (i.time - this.plotTimeStart) / g);\n\n          if (a.push(i.value), j !== b && a.length > 0) {\n            var k = this.avg(a);\n            k > e && (e = k), k < f && (f = k), this.plotPoints[b] = k, a = [];\n          }\n\n          b = j;\n        }\n      }\n\n      \"whole\" == this.params.plotNormalizeTo ? (this.plotMin = d, this.plotMax = c) : \"values\" == this.params.plotNormalizeTo ? (this.plotMin = this.params.plotMin, this.plotMax = this.params.plotMax) : (this.plotMin = f, this.plotMax = e), this.normalizeValues();\n    },\n    normalizeValues: function () {\n      var a = {};\n\n      if (\"none\" !== this.params.plotNormalizeTo) {\n        for (var b in this.plotPoints) {\n          var c = (this.plotPoints[b] - this.plotMin) / (this.plotMax - this.plotMin);\n          c > 1 ? this.params.plotRangeIgnoreOutliers || (a[b] = 1) : c < 0 ? this.params.plotRangeIgnoreOutliers || (a[b] = 0) : a[b] = c;\n        }\n\n        this.plotPoints = a;\n      }\n    },\n    loadPlotArrayFromFile: function (b, c, d) {\n      void 0 === d && (d = \"\\t\");\n      var e = [],\n          f = {\n        url: b,\n        responseType: \"text\"\n      },\n          g = a.util.ajax(f);\n      g.on(\"load\", function (a) {\n        if (200 == a.currentTarget.status) {\n          for (var b = a.currentTarget.responseText.split(\"\\n\"), f = 0; f < b.length; f++) {\n            var g = b[f].split(d);\n            2 == g.length && e.push({\n              time: parseFloat(g[0]),\n              value: parseFloat(g[1])\n            });\n          }\n\n          c(e);\n        }\n      });\n    },\n    calculatePlotTimeEnd: function () {\n      void 0 !== this.params.plotTimeEnd ? this.plotTimeEnd = this.params.plotTimeEnd : this.plotTimeEnd = this.plotArray[this.plotArray.length - 1].time;\n    },\n    avg: function (a) {\n      var b = a.reduce(function (a, b) {\n        return a + b;\n      });\n      return b / a.length;\n    }\n  }), a.util.extend(a.Drawer.SplitWavePointPlot, a.Observer), a.PeakCache = {\n    init: function () {\n      this.clearPeakCache();\n    },\n    clearPeakCache: function () {\n      this.peakCacheRanges = [], this.peakCacheLength = -1;\n    },\n    addRangeToPeakCache: function (a, b, c) {\n      a != this.peakCacheLength && (this.clearPeakCache(), this.peakCacheLength = a);\n\n      for (var d = [], e = 0; e < this.peakCacheRanges.length && this.peakCacheRanges[e] < b;) e++;\n\n      for (e % 2 == 0 && d.push(b); e < this.peakCacheRanges.length && this.peakCacheRanges[e] <= c;) d.push(this.peakCacheRanges[e]), e++;\n\n      e % 2 == 0 && d.push(c), d = d.filter(function (a, b, c) {\n        return 0 == b ? a != c[b + 1] : b == c.length - 1 ? a != c[b - 1] : a != c[b - 1] && a != c[b + 1];\n      }), this.peakCacheRanges = this.peakCacheRanges.concat(d), this.peakCacheRanges = this.peakCacheRanges.sort(function (a, b) {\n        return a - b;\n      }).filter(function (a, b, c) {\n        return 0 == b ? a != c[b + 1] : b == c.length - 1 ? a != c[b - 1] : a != c[b - 1] && a != c[b + 1];\n      });\n      var f = [];\n\n      for (e = 0; e < d.length; e += 2) f.push([d[e], d[e + 1]]);\n\n      return f;\n    },\n    getCacheRanges: function () {\n      for (var a = [], b = 0; b < this.peakCacheRanges.length; b += 2) a.push([this.peakCacheRanges[b], this.peakCacheRanges[b + 1]]);\n\n      return a;\n    }\n  }, function () {\n    var b = function () {\n      var b = document.querySelectorAll(\"wavesurfer\");\n      Array.prototype.forEach.call(b, function (b) {\n        var c = a.util.extend({\n          container: b,\n          backend: \"MediaElement\",\n          mediaControls: !0\n        }, b.dataset);\n        b.style.display = \"block\";\n        var d = a.create(c);\n        if (b.dataset.peaks) var e = JSON.parse(b.dataset.peaks);\n        d.load(b.dataset.url, e);\n      });\n    };\n\n    \"complete\" === document.readyState ? b() : window.addEventListener(\"load\", b);\n  }(), a;\n});","map":{"version":3,"sources":["wavesurfer.js"],"names":["root","factory","define","amd","exports","module","this","WaveSurfer","defaultParams","audioContext","audioRate","autoCenter","backend","barHeight","closeAudioContext","container","cursorColor","cursorWidth","dragSelection","fillParent","forceDecode","height","hideScrollbar","interact","loopSelection","mediaContainer","mediaControls","mediaType","minPxPerSec","partialRender","pixelRatio","window","devicePixelRatio","screen","deviceXDPI","logicalXDPI","progressColor","normalize","renderer","scrollParent","skipLength","splitChannels","waveColor","init","params","util","extend","document","querySelector","Error","savedVolume","isMuted","tmpEvents","currentAjax","createDrawer","createBackend","createPeakCache","isDestroyed","my","drawer","Object","create","Drawer","on","drawBuffer","progress","getPlayedPercents","e","setTimeout","seekTo","fireEvent","destroy","WebAudio","supportsWebAudio","time","peakCache","PeakCache","getDuration","getCurrentTime","play","start","end","bind","pause","isPaused","playPause","isPlaying","skipBackward","seconds","skip","skipForward","offset","position","duration","Math","max","min","seekAndCenter","recenter","paused","oldScrollParent","stop","setVolume","newVolume","getVolume","setPlaybackRate","rate","getPlaybackRate","toggleMute","setMute","mute","getMute","getFilters","filters","toggleScroll","toggleInteraction","nominalWidth","round","parentWidth","getWidth","width","getScrollX","newRanges","addRangeToPeakCache","i","length","peaks","getPeaks","drawPeaks","zoom","pxPerSec","loadArrayBuffer","arraybuffer","decodeArrayBuffer","data","loadDecodedBuffer","buffer","load","loadBlob","blob","reader","FileReader","addEventListener","onProgress","target","result","readAsArrayBuffer","empty","url","preload","loadBuffer","loadMediaElement","action","push","once","getArrayBuffer","setPeaks","urlOrElt","elt","loadElt","src","err","callback","ajax","responseType","statusText","lengthComputable","percentComplete","loaded","total","exportPCM","accuracy","noWindow","arr","map","call","val","json","JSON","stringify","open","encodeURIComponent","exportImage","format","quality","getImage","cancelAjax","xhr","abort","clearTmpEvents","forEach","un","disconnectSource","setWidth","unAll","wavesurfer","dest","sources","Array","prototype","slice","arguments","source","keys","key","debounce","func","wait","immediate","args","context","timeout","later","apply","callNow","clearTimeout","values","Infinity","getId","random","toString","substring","options","Observer","XMLHttpRequest","fired100","method","status","response","send","event","fn","handlers","name","splice","handler","scriptBufferSize","PLAYING_STATE","PAUSED_STATE","FINISHED_STATE","AudioContext","webkitAudioContext","getAudioContext","getOfflineAudioContext","sampleRate","offlineAudioContext","OfflineAudioContext","webkitOfflineAudioContext","ac","lastPlay","currentTime","startPosition","scheduledPause","states","state","playing","finished","createVolumeNode","createScriptNode","createAnalyserNode","setState","setLength","disconnectFilters","filter","disconnect","analyser","connect","gainNode","setFilter","setFilters","reduce","prev","curr","createScriptProcessor","scriptNode","createJavaScriptNode","destination","addOnAudioProcess","onaudioprocess","removeOnAudioProcess","createAnalyser","createGain","createGainNode","newGain","gain","value","errback","offlineAc","decodeAudioData","mergedPeaks","splitPeaks","channels","numberOfChannels","c","first","last","sampleSize","sampleStep","chan","getChannelData","j","close","createSource","createBufferSource","noteGrainOn","noteOff","playbackRate","getPlayedTime","adjustedTime","resume","MediaElement","media","toLowerCase","elementPosition","createTimer","onAudioProcess","requestAnimationFrame","webkitRequestAnimationFrame","createElement","controls","autoplay","style","prevMedia","removeChild","appendChild","_load","onPlayEnd","seekable","clearPlayEnd","setPlayEnd","volume","parentNode","AudioElement","lastPos","initDrawer","createWrapper","createElements","wrapper","display","userSelect","webkitUserSelect","overflowX","overflowY","setupWrapperEvents","handleEvent","noPrevent","preventDefault","clientX","targetTouches","bbox","getBoundingClientRect","left","scrollLeft","scrollWidth","scrollbarHeight","offsetHeight","clientHeight","clientY","bottom","barWidth","drawBars","drawWave","el","styles","prop","resetScroll","percent","recenterOnPosition","half","clientWidth","maxScroll","updateSize","setHeight","minPxDelta","pos","newPos","updateProgress","clearWave","Canvas","waveCanvas","zIndex","top","waveCc","getContext","progressWave","overflow","boxSizing","borderRightStyle","borderRightWidth","borderRightColor","progressCanvas","progressCc","canvas","clearRect","channelIndex","channelPeaks","hasMinVals","some","peakIndexScale","$","offsetY","halfH","bar","gap","step","absmax","scale","fillStyle","cc","peak","floor","h","fillRect","hasMinValues","reflectedPeaks","len","beginPath","moveTo","lineTo","closePath","fill","type","toDataURL","MultiCanvas","maxCanvasWidth","maxCanvasElementWidth","hasProgressCanvas","halfPixel","canvases","addCanvas","totalWidth","requiredCanvases","ceil","removeCanvas","canvasWidth","updateDimensions","clearWaveForEntry","entry","leftOffset","wave","waveCtx","progressCtx","lastEntry","pop","parentElement","elementWidth","offsetLeft","drawLine","index","setFillStyles","drawLineToContext","ctx","canvasStart","canvasEnd","x","y","startCanvas","endCanvas","intersection","x1","y1","x2","y2","fillRectToContext","availableCanvas","SplitWavePointPlot","defaultPlotParams","plotNormalizeTo","plotTimeStart","plotMin","plotMax","plotColor","plotProgressColor","plotPointHeight","plotPointWidth","plotSeparator","plotSeparatorColor","plotRangeDisplay","plotRangeUnits","plotRangePrecision","plotRangeIgnoreOutliers","plotRangeFontSize","plotRangeFontType","waveDrawMedianLine","plotFileDelimiter","plotTimeEnd","plotArrayLoaded","plotArray","plotPoints","paramName","undefined","isArray","onPlotArrayLoaded","loadPlotArrayFromFile","plotFileUrl","calculatePlots","drawPlots","parseInt","pointHeight","displayPlotRange","fontSize","maxRange","toPrecision","minRange","font","fillText","calculatePlotTimeEnd","pointsForAverage","previousWaveIndex","maxPlot","minPlot","maxSegmentPlot","minSegmentPlot","dataPoint","waveIndex","avgPlot","avg","normalizeValues","normalizedValues","normalizedValue","onSuccess","delimiter","fileAjax","currentTarget","plotLines","responseText","split","plotParts","parseFloat","sum","a","b","clearPeakCache","peakCacheRanges","peakCacheLength","uncachedRanges","item","concat","sort","uncachedRangePairs","getCacheRanges","peakCacheRangePairs","containers","querySelectorAll","dataset","parse","readyState"],"mappings":";;;CAAC,UAAUA,CAAV,EAAgBC,CAAhB,EAAgBA;AACO,gBAAXC,OAAAA,MAAW,IAAcA,MAAAA,CAAOC,GAArB,GAEpBD,MAAAA,CAAO,YAAPA,EAAO,EAAPA,EAAyB,YAAA;AACvB,WAAQF,CAAAA,CAAiB,UAAjBA,GAAqBC,CAAAA,EAA7B;AAA6BA,GAD/BC,CAFoB,GAKQ,YAAZE,OAAAA,OAAY,GAI5BC,MAAAA,CAAOD,OAAPC,GAAiBJ,CAAAA,EAJW,GAM5BD,CAAAA,CAAiB,UAAjBA,GAAqBC,CAAAA,EAXD;AAWCA,CAZxB,CAcCK,IAdD,EAcO,YAAA;AAER;;AAEA,MAAIC,CAAAA,GAAAA;AACAC,IAAAA,aAAAA,EAAAA;AACIC,MAAAA,YAAAA,EAAgB,IADpBD;AAEIE,MAAAA,SAAAA,EAAgB,CAFpBF;AAGIG,MAAAA,UAAAA,EAAAA,CAAgB,CAHpBH;AAIII,MAAAA,OAAAA,EAAgB,UAJpBJ;AAKIK,MAAAA,SAAAA,EAAgB,CALpBL;AAMIM,MAAAA,iBAAAA,EAAAA,CAAmB,CANvBN;AAOIO,MAAAA,SAAAA,EAAgB,IAPpBP;AAQIQ,MAAAA,WAAAA,EAAgB,MARpBR;AASIS,MAAAA,WAAAA,EAAgB,CATpBT;AAUIU,MAAAA,aAAAA,EAAAA,CAAgB,CAVpBV;AAWIW,MAAAA,UAAAA,EAAAA,CAAgB,CAXpBX;AAYIY,MAAAA,WAAAA,EAAAA,CAAgB,CAZpBZ;AAaIa,MAAAA,MAAAA,EAAgB,GAbpBb;AAcIc,MAAAA,aAAAA,EAAAA,CAAgB,CAdpBd;AAeIe,MAAAA,QAAAA,EAAAA,CAAgB,CAfpBf;AAgBIgB,MAAAA,aAAAA,EAAAA,CAAgB,CAhBpBhB;AAiBIiB,MAAAA,cAAAA,EAAgB,IAjBpBjB;AAkBIkB,MAAAA,aAAAA,EAAAA,CAAgB,CAlBpBlB;AAmBImB,MAAAA,SAAAA,EAAgB,OAnBpBnB;AAoBIoB,MAAAA,WAAAA,EAAgB,EApBpBpB;AAqBIqB,MAAAA,aAAAA,EAAAA,CAAgB,CArBpBrB;AAsBIsB,MAAAA,UAAAA,EAAgBC,MAAAA,CAAOC,gBAAPD,IAA2BE,MAAAA,CAAOC,UAAPD,GAAoBA,MAAAA,CAAOE,WAtB1E3B;AAuBI4B,MAAAA,aAAAA,EAAgB,MAvBpB5B;AAwBI6B,MAAAA,SAAAA,EAAAA,CAAgB,CAxBpB7B;AAyBI8B,MAAAA,QAAAA,EAAgB,aAzBpB9B;AA0BI+B,MAAAA,YAAAA,EAAAA,CAAgB,CA1BpB/B;AA2BIgC,MAAAA,UAAAA,EAAgB,CA3BpBhC;AA4BIiC,MAAAA,aAAAA,EAAAA,CAAgB,CA5BpBjC;AA6BIkC,MAAAA,SAAAA,EAAgB;AA7BpBlC,KADAD;AAiCAoC,IAAAA,IAAAA,EAAM,UAAUC,CAAV,EAAUA;AAQZ,UANAtC,KAAKsC,MAALtC,GAAcC,CAAAA,CAAWsC,IAAXtC,CAAgBuC,MAAhBvC,CAAgBuC,EAAhBvC,EAA2BD,KAAKE,aAAhCD,EAA+CqC,CAA/CrC,CAAdD,EAEAA,KAAKS,SAALT,GAAiB,YAAA,OAAmBsC,CAAAA,CAAO7B,SAA1B,GACbgC,QAAAA,CAASC,aAATD,CAAuBzC,KAAKsC,MAALtC,CAAYS,SAAnCgC,CADa,GAEbzC,KAAKsC,MAALtC,CAAYS,SAJhBT,EAIgBS,CAEXT,KAAKS,SAAV,EACI,MAAM,IAAIkC,KAAJ,CAAU,6BAAV,CAAN;AAWJ,UARkC,QAA9B3C,KAAKsC,MAALtC,CAAYmB,cAAkB,GAC9BnB,KAAKmB,cAALnB,GAAsBA,KAAKS,SADG,GAEc,YAA9BT,OAAAA,KAAKsC,MAALtC,CAAYmB,cAAkB,GAC5CnB,KAAKmB,cAALnB,GAAsByC,QAAAA,CAASC,aAATD,CAAuBzC,KAAKsC,MAALtC,CAAYmB,cAAnCsB,CADsB,GAG5CzC,KAAKmB,cAALnB,GAAsBA,KAAKsC,MAALtC,CAAYmB,cALJ,EAKIA,CAGjCnB,KAAKmB,cAAV,EACI,MAAM,IAAIwB,KAAJ,CAAU,mCAAV,CAAN;AAKJ3C,WAAK4C,WAAL5C,GAAmB,CAAnBA,EAGAA,KAAK6C,OAAL7C,GAAK6C,CAAU,CAHf7C,EAOAA,KAAK8C,SAAL9C,GAAK8C,EAPL9C,EAUAA,KAAK+C,WAAL/C,GAAmB,IAVnBA,EAYAA,KAAKgD,YAALhD,EAZAA,EAaAA,KAAKiD,aAALjD,EAbAA,EAcAA,KAAKkD,eAALlD,EAdAA,EAgBAA,KAAKmD,WAALnD,GAAKmD,CAAc,CAhBnBnD;AAgBmB,KA3EvBC;AA8EA+C,IAAAA,YAAAA,EAAc,YAAA;AACV,UAAII,CAAAA,GAAKpD,IAAT;AAEAA,WAAKqD,MAALrD,GAAcsD,MAAAA,CAAOC,MAAPD,CAAcrD,CAAAA,CAAWuD,MAAXvD,CAAkBD,KAAKsC,MAALtC,CAAYgC,QAA9B/B,CAAdqD,CAAdtD,EACAA,KAAKqD,MAALrD,CAAYqC,IAAZrC,CAAiBA,KAAKS,SAAtBT,EAAiCA,KAAKsC,MAAtCtC,CADAA,EAGAA,KAAKqD,MAALrD,CAAYyD,EAAZzD,CAAe,QAAfA,EAAyB,YAAA;AACrBoD,QAAAA,CAAAA,CAAGM,UAAHN,IACAA,CAAAA,CAAGC,MAAHD,CAAUO,QAAVP,CAAmBA,CAAAA,CAAG9C,OAAH8C,CAAWQ,iBAAXR,EAAnBA,CADAA;AAC8BQ,OAFlC5D,CAHAA,EASAA,KAAKqD,MAALrD,CAAYyD,EAAZzD,CAAe,OAAfA,EAAwB,UAAU6D,CAAV,EAAaF,CAAb,EAAaA;AACjCG,QAAAA,UAAAA,CAAW,YAAA;AACPV,UAAAA,CAAAA,CAAGW,MAAHX,CAAUO,CAAVP;AAAUO,SADdG,EAEG,CAFHA,CAAAA;AAEG,OAHP9D,CATAA,EAgBAA,KAAKqD,MAALrD,CAAYyD,EAAZzD,CAAe,QAAfA,EAAyB,UAAU6D,CAAV,EAAUA;AAC3BT,QAAAA,CAAAA,CAAGd,MAAHc,CAAU7B,aAAV6B,IACAA,CAAAA,CAAGM,UAAHN,EADAA,EAGJA,CAAAA,CAAGY,SAAHZ,CAAa,QAAbA,EAAuBS,CAAvBT,CAHIA;AAGmBS,OAJ3B7D,CAhBAA;AAoB2B6D,KArG/B5D;AAyGAgD,IAAAA,aAAAA,EAAe,YAAA;AACX,UAAIG,CAAAA,GAAKpD,IAAT;AAEIA,WAAKM,OAALN,IACAA,KAAKM,OAALN,CAAaiE,OAAbjE,EADAA,EAKuB,kBAAvBA,KAAKsC,MAALtC,CAAYM,OAAW,KACvBN,KAAKsC,MAALtC,CAAYM,OAAZN,GAAsB,cADC,CALvBA,EASuB,cAAvBA,KAAKsC,MAALtC,CAAYM,OAAW,IAAeL,CAAAA,CAAWiE,QAAXjE,CAAoBkE,gBAApBlE,EAAf,KACvBD,KAAKsC,MAALtC,CAAYM,OAAZN,GAAsB,cADC,CATvBA,EAaJA,KAAKM,OAALN,GAAesD,MAAAA,CAAOC,MAAPD,CAAcrD,CAAAA,CAAWD,KAAKsC,MAALtC,CAAYM,OAAvBL,CAAdqD,CAbXtD,EAcJA,KAAKM,OAALN,CAAaqC,IAAbrC,CAAkBA,KAAKsC,MAAvBtC,CAdIA,EAgBJA,KAAKM,OAALN,CAAayD,EAAbzD,CAAgB,QAAhBA,EAA0B,YAAA;AAAcoD,QAAAA,CAAAA,CAAGY,SAAHZ,CAAa,QAAbA;AAAa,OAArDpD,CAhBIA,EAiBJA,KAAKM,OAALN,CAAayD,EAAbzD,CAAgB,MAAhBA,EAAwB,YAAA;AAAcoD,QAAAA,CAAAA,CAAGY,SAAHZ,CAAa,MAAbA;AAAa,OAAnDpD,CAjBIA,EAkBJA,KAAKM,OAALN,CAAayD,EAAbzD,CAAgB,OAAhBA,EAAyB,YAAA;AAAcoD,QAAAA,CAAAA,CAAGY,SAAHZ,CAAa,OAAbA;AAAa,OAApDpD,CAlBIA,EAoBJA,KAAKM,OAALN,CAAayD,EAAbzD,CAAgB,cAAhBA,EAAgC,UAAUoE,CAAV,EAAUA;AACtChB,QAAAA,CAAAA,CAAGC,MAAHD,CAAUO,QAAVP,CAAmBA,CAAAA,CAAG9C,OAAH8C,CAAWQ,iBAAXR,EAAnBA,GACAA,CAAAA,CAAGY,SAAHZ,CAAa,cAAbA,EAA6BgB,CAA7BhB,CADAA;AAC6BgB,OAFjCpE,CApBIA;AAsB6BoE,KAlIrCnE;AAsIAiD,IAAAA,eAAAA,EAAiB,YAAA;AACTlD,WAAKsC,MAALtC,CAAYuB,aAAZvB,KACAA,KAAKqE,SAALrE,GAAiBsD,MAAAA,CAAOC,MAAPD,CAAcrD,CAAAA,CAAWqE,SAAzBhB,CAAjBtD,EACAA,KAAKqE,SAALrE,CAAeqC,IAAfrC,EAFAA;AAEeqC,KAzIvBpC;AA6IAsE,IAAAA,WAAAA,EAAa,YAAA;AACT,aAAOvE,KAAKM,OAALN,CAAauE,WAAbvE,EAAP;AAAoBuE,KA9IxBtE;AAiJAuE,IAAAA,cAAAA,EAAgB,YAAA;AACZ,aAAOxE,KAAKM,OAALN,CAAawE,cAAbxE,EAAP;AAAoBwE,KAlJxBvE;AAqJAwE,IAAAA,IAAAA,EAAM,UAAUC,CAAV,EAAiBC,CAAjB,EAAiBA;AACnB3E,WAAKgE,SAALhE,CAAe,aAAfA,EAA8BA,KAAKyE,IAALzE,CAAU4E,IAAV5E,CAAeA,IAAfA,EAAqB0E,CAArB1E,EAA4B2E,CAA5B3E,CAA9BA,GACAA,KAAKM,OAALN,CAAayE,IAAbzE,CAAkB0E,CAAlB1E,EAAyB2E,CAAzB3E,CADAA;AACyB2E,KAvJ7B1E;AA0JA4E,IAAAA,KAAAA,EAAO,YAAA;AACH7E,WAAKM,OAALN,CAAa8E,QAAb9E,MAA2BA,KAAKM,OAALN,CAAa6E,KAAb7E,EAA3BA;AAAwC6E,KA3J5C5E;AA8JA8E,IAAAA,SAAAA,EAAW,YAAA;AACP/E,WAAKM,OAALN,CAAa8E,QAAb9E,KAA0BA,KAAKyE,IAALzE,EAA1BA,GAAwCA,KAAK6E,KAAL7E,EAAxCA;AAA6C6E,KA/JjD5E;AAkKA+E,IAAAA,SAAAA,EAAW,YAAA;AACP,aAAA,CAAQhF,KAAKM,OAALN,CAAa8E,QAAb9E,EAAR;AAAqB8E,KAnKzB7E;AAsKAgF,IAAAA,YAAAA,EAAc,UAAUC,CAAV,EAAUA;AACpBlF,WAAKmF,IAALnF,CAAKmF,CAAMD,CAANC,IAAMD,CAAYlF,KAAKsC,MAALtC,CAAYkC,UAAnClC;AAAmCkC,KAvKvCjC;AA0KAmF,IAAAA,WAAAA,EAAa,UAAUF,CAAV,EAAUA;AACnBlF,WAAKmF,IAALnF,CAAUkF,CAAAA,IAAWlF,KAAKsC,MAALtC,CAAYkC,UAAjClC;AAAiCkC,KA3KrCjC;AA8KAkF,IAAAA,IAAAA,EAAM,UAAUE,CAAV,EAAUA;AACZ,UAAIC,CAAAA,GAAWtF,KAAKwE,cAALxE,MAAyB,CAAxC;AAAA,UACIuF,CAAAA,GAAWvF,KAAKuE,WAALvE,MAAsB,CADrC;AAEAsF,MAAAA,CAAAA,GAAWE,IAAAA,CAAKC,GAALD,CAAS,CAATA,EAAYA,IAAAA,CAAKE,GAALF,CAASD,CAATC,EAAmBF,CAAAA,IAAYD,CAAAA,IAAU,CAAtBC,CAAnBE,CAAZA,CAAXF,EACAtF,KAAK2F,aAAL3F,CAAmBsF,CAAAA,GAAWC,CAA9BvF,CADAsF;AAC8BC,KAlLlCtF;AAqLA0F,IAAAA,aAAAA,EAAe,UAAUhC,CAAV,EAAUA;AACrB3D,WAAK+D,MAAL/D,CAAY2D,CAAZ3D,GACAA,KAAKqD,MAALrD,CAAY4F,QAAZ5F,CAAqB2D,CAArB3D,CADAA;AACqB2D,KAvLzB1D;AA0LA8D,IAAAA,MAAAA,EAAQ,UAAUJ,CAAV,EAAUA;AACd3D,WAAKgE,SAALhE,CAAe,aAAfA,EAA8BA,KAAK+D,MAAL/D,CAAY4E,IAAZ5E,CAAiBA,IAAjBA,EAAuB2D,CAAvB3D,CAA9BA;AAEA,UAAI6F,CAAAA,GAAS7F,KAAKM,OAALN,CAAa8E,QAAb9E,EAAb;AAEK6F,MAAAA,CAAAA,IACD7F,KAAKM,OAALN,CAAa6E,KAAb7E,EADC6F;AAIL,UAAIC,CAAAA,GAAkB9F,KAAKsC,MAALtC,CAAYiC,YAAlC;AACAjC,WAAKsC,MAALtC,CAAYiC,YAAZjC,GAAYiC,CAAe,CAA3BjC,EACAA,KAAKM,OAALN,CAAa+D,MAAb/D,CAAoB2D,CAAAA,GAAW3D,KAAKuE,WAALvE,EAA/BA,CADAA,EAEAA,KAAKqD,MAALrD,CAAY2D,QAAZ3D,CAAqBA,KAAKM,OAALN,CAAa4D,iBAAb5D,EAArBA,CAFAA,EAIK6F,CAAAA,IACD7F,KAAKM,OAALN,CAAayE,IAAbzE,EALJA,EAOAA,KAAKsC,MAALtC,CAAYiC,YAAZjC,GAA2B8F,CAP3B9F,EAQAA,KAAKgE,SAALhE,CAAe,MAAfA,EAAuB2D,CAAvB3D,CARAA;AAQuB2D,KA5M3B1D;AA+MA8F,IAAAA,IAAAA,EAAM,YAAA;AACF/F,WAAK6E,KAAL7E,IACAA,KAAK+D,MAAL/D,CAAY,CAAZA,CADAA,EAEAA,KAAKqD,MAALrD,CAAY2D,QAAZ3D,CAAqB,CAArBA,CAFAA;AAEqB,KAlNzBC;AA2NA+F,IAAAA,SAAAA,EAAW,UAAUC,CAAV,EAAUA;AACjBjG,WAAKM,OAALN,CAAagG,SAAbhG,CAAuBiG,CAAvBjG;AAAuBiG,KA5N3BhG;AAkOAiG,IAAAA,SAAAA,EAAW,YAAA;AACP,aAAOlG,KAAKM,OAALN,CAAakG,SAAblG,EAAP;AAAoBkG,KAnOxBjG;AA4OAkG,IAAAA,eAAAA,EAAiB,UAAUC,CAAV,EAAUA;AACvBpG,WAAKM,OAALN,CAAamG,eAAbnG,CAA6BoG,CAA7BpG;AAA6BoG,KA7OjCnG;AAmPAoG,IAAAA,eAAAA,EAAiB,YAAA;AACb,aAAOrG,KAAKM,OAALN,CAAaqG,eAAbrG,EAAP;AAAoBqG,KApPxBpG;AA6PAqG,IAAAA,UAAAA,EAAY,YAAA;AACRtG,WAAKuG,OAALvG,CAAKuG,CAASvG,KAAK6C,OAAnB7C;AAAmB6C,KA9PvB5C;AAiQAsG,IAAAA,OAAAA,EAAS,UAAUC,CAAV,EAAUA;AAEXA,MAAAA,CAAAA,KAASxG,KAAK6C,OAAd2D,KAIAA,CAAAA,IAGAxG,KAAK4C,WAAL5C,GAAmBA,KAAKM,OAALN,CAAakG,SAAblG,EAAnBA,EACAA,KAAKM,OAALN,CAAagG,SAAbhG,CAAuB,CAAvBA,CADAA,EAEAA,KAAK6C,OAAL7C,GAAK6C,CAAU,CALf2D,KASAxG,KAAKM,OAALN,CAAagG,SAAbhG,CAAuBA,KAAK4C,WAA5B5C,GACAA,KAAK6C,OAAL7C,GAAK6C,CAAU,CAVf2D,CAJAA;AAce,KAjRvBvG;AAwRAwG,IAAAA,OAAAA,EAAS,YAAA;AACL,aAAOzG,KAAK6C,OAAZ;AAAYA,KAzRhB5C;AAiSAyG,IAAAA,UAAAA,EAAY,YAAA;AACR,aAAO1G,KAAKM,OAALN,CAAa2G,OAAb3G,IAAa2G,EAApB;AAAoBA,KAlSxB1G;AAqSA2G,IAAAA,YAAAA,EAAc,YAAA;AACV5G,WAAKsC,MAALtC,CAAYiC,YAAZjC,GAAYiC,CAAgBjC,KAAKsC,MAALtC,CAAYiC,YAAxCjC,EACAA,KAAK0D,UAAL1D,EADAA;AACK0D,KAvSTzD;AA0SA4G,IAAAA,iBAAAA,EAAmB,YAAA;AACf7G,WAAKsC,MAALtC,CAAYiB,QAAZjB,GAAYiB,CAAYjB,KAAKsC,MAALtC,CAAYiB,QAApCjB;AAAoCiB,KA3SxChB;AA8SAyD,IAAAA,UAAAA,EAAY,YAAA;AACR,UAAIoD,CAAAA,GAAetB,IAAAA,CAAKuB,KAALvB,CACfxF,KAAKuE,WAALvE,KAAqBA,KAAKsC,MAALtC,CAAYsB,WAAjCtB,GAA+CA,KAAKsC,MAALtC,CAAYwB,UAD5CgE,CAAnB;AAAA,UAGIwB,CAAAA,GAAchH,KAAKqD,MAALrD,CAAYiH,QAAZjH,EAHlB;AAAA,UAIIkH,CAAAA,GAAQJ,CAJZ;AAAA,UAKIpC,CAAAA,GAAQ1E,KAAKqD,MAALrD,CAAYmH,UAAZnH,EALZ;AAAA,UAMI2E,CAAAA,GAAMa,IAAAA,CAAKE,GAALF,CAASd,CAAAA,GAAQsC,CAAjBxB,EAA8B0B,CAA9B1B,CANV;AAeA,UANIxF,KAAKsC,MAALtC,CAAYa,UAAZb,KAAYa,CAAgBb,KAAKsC,MAALtC,CAAYiC,YAA5BpB,IAA4CiG,CAAAA,GAAeE,CAAvEhH,MACAkH,CAAAA,GAAQF,CAARE,EACAxC,CAAAA,GAAQ,CADRwC,EAEAvC,CAAAA,GAAMuC,CAHNlH,GAMAA,KAAKsC,MAALtC,CAAYuB,aAAhB,EAEI,KADI6F,IAAAA,CAAAA,GAAYpH,KAAKqE,SAALrE,CAAeqH,mBAAfrH,CAAmCkH,CAAnClH,EAA0C0E,CAA1C1E,EAAiD2E,CAAjD3E,CAAZoH,EACKE,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAIF,CAAAA,CAAUG,MAA9B,EAAsCD,CAAAA,EAAtC,EAA2C;AACzC,YAAIE,CAAAA,GAAQxH,KAAKM,OAALN,CAAayH,QAAbzH,CAAsBkH,CAAtBlH,EAA6BoH,CAAAA,CAAUE,CAAVF,CAAAA,CAAa,CAAbA,CAA7BpH,EAA8CoH,CAAAA,CAAUE,CAAVF,CAAAA,CAAa,CAAbA,CAA9CpH,CAAZ;AACAA,aAAKqD,MAALrD,CAAY0H,SAAZ1H,CAAsBwH,CAAtBxH,EAA6BkH,CAA7BlH,EAAoCoH,CAAAA,CAAUE,CAAVF,CAAAA,CAAa,CAAbA,CAApCpH,EAAqDoH,CAAAA,CAAUE,CAAVF,CAAAA,CAAa,CAAbA,CAArDpH;AAAkE,OAJxE,MAMO;AACH0E,QAAAA,CAAAA,GAAQ,CAARA,EACAC,CAAAA,GAAMuC,CADNxC;AAEA,YAAI8C,CAAAA,GAAQxH,KAAKM,OAALN,CAAayH,QAAbzH,CAAsBkH,CAAtBlH,EAA6B0E,CAA7B1E,EAAoC2E,CAApC3E,CAAZ;AACAA,aAAKqD,MAALrD,CAAY0H,SAAZ1H,CAAsBwH,CAAtBxH,EAA6BkH,CAA7BlH,EAAoC0E,CAApC1E,EAA2C2E,CAA3C3E;AAEJA;AAAAA,WAAKgE,SAALhE,CAAe,QAAfA,EAAyBwH,CAAzBxH,EAAgCkH,CAAhClH;AAAgCkH,KA1UpCjH;AA6UA0H,IAAAA,IAAAA,EAAM,UAAUC,CAAV,EAAUA;AACZ5H,WAAKsC,MAALtC,CAAYsB,WAAZtB,GAA0B4H,CAA1B5H,EAEAA,KAAKsC,MAALtC,CAAYiC,YAAZjC,GAAYiC,CAAe,CAF3BjC,EAIAA,KAAK0D,UAAL1D,EAJAA,EAKAA,KAAKqD,MAALrD,CAAY2D,QAAZ3D,CAAqBA,KAAKM,OAALN,CAAa4D,iBAAb5D,EAArBA,CALAA,EAOAA,KAAKqD,MAALrD,CAAY4F,QAAZ5F,CACIA,KAAKwE,cAALxE,KAAwBA,KAAKuE,WAALvE,EAD5BA,CAPAA,EAUAA,KAAKgE,SAALhE,CAAe,MAAfA,EAAuB4H,CAAvB5H,CAVAA;AAUuB4H,KAxV3B3H;AA8VA4H,IAAAA,eAAAA,EAAiB,UAAUC,CAAV,EAAUA;AACvB9H,WAAK+H,iBAAL/H,CAAuB8H,CAAvB9H,EAAoC,UAAUgI,CAAV,EAAUA;AACrChI,aAAKmD,WAALnD,IACDA,KAAKiI,iBAALjI,CAAuBgI,CAAvBhI,CADCA;AACsBgI,OAFK,CAIlCpD,IAJkC,CAI7B5E,IAJ6B,CAApCA;AAIOA,KAnWXC;AAyWAgI,IAAAA,iBAAAA,EAAmB,UAAUC,CAAV,EAAUA;AACzBlI,WAAKM,OAALN,CAAamI,IAAbnI,CAAkBkI,CAAlBlI,GACAA,KAAK0D,UAAL1D,EADAA,EAEAA,KAAKgE,SAALhE,CAAe,OAAfA,CAFAA;AAEe,KA5WnBC;AAoXAmI,IAAAA,QAAAA,EAAU,UAAUC,CAAV,EAAUA;AAChB,UAAIjF,CAAAA,GAAKpD,IAAT;AAAA,UAEIsI,CAAAA,GAAS,IAAIC,UAAJ,EAFb;AAGAD,MAAAA,CAAAA,CAAOE,gBAAPF,CAAwB,UAAxBA,EAAoC,UAAUzE,CAAV,EAAUA;AAC1CT,QAAAA,CAAAA,CAAGqF,UAAHrF,CAAcS,CAAdT;AAAcS,OADlByE,GAGAA,CAAAA,CAAOE,gBAAPF,CAAwB,MAAxBA,EAAgC,UAAUzE,CAAV,EAAUA;AACtCT,QAAAA,CAAAA,CAAGyE,eAAHzE,CAAmBS,CAAAA,CAAE6E,MAAF7E,CAAS8E,MAA5BvF;AAA4BuF,OADhCL,CAHAA,EAMAA,CAAAA,CAAOE,gBAAPF,CAAwB,OAAxBA,EAAiC,YAAA;AAC7BlF,QAAAA,CAAAA,CAAGY,SAAHZ,CAAa,OAAbA,EAAsB,oBAAtBA;AAAsB,OAD1BkF,CANAA,EASAA,CAAAA,CAAOM,iBAAPN,CAAyBD,CAAzBC,CATAA,EAUAtI,KAAK6I,KAAL7I,EAVAsI;AAUKO,KAlYT5I;AAwYAkI,IAAAA,IAAAA,EAAM,UAAUW,CAAV,EAAetB,CAAf,EAAsBuB,CAAtB,EAAsBA;AAIxB,cAHA/I,KAAK6I,KAAL7I,IACAA,KAAK6C,OAAL7C,GAAK6C,CAAU,CADf7C,EAGQA,KAAKsC,MAALtC,CAAYM,OAApB;AACI,aAAK,UAAL;AAAiB,iBAAON,KAAKgJ,UAALhJ,CAAgB8I,CAAhB9I,EAAqBwH,CAArBxH,CAAP;;AACjB,aAAK,cAAL;AAAqB,iBAAOA,KAAKiJ,gBAALjJ,CAAsB8I,CAAtB9I,EAA2BwH,CAA3BxH,EAAkC+I,CAAlC/I,CAAP;AAFzB;AAEkE+I,KA9YtE9I;AAqZA+I,IAAAA,UAAAA,EAAY,UAAUF,CAAV,EAAetB,CAAf,EAAeA;AACvB,UAAIW,CAAAA,GAAO,UAAWe,CAAX,EAAWA;AACdA,eAAAA,CAAAA,IACAlJ,KAAK8C,SAAL9C,CAAemJ,IAAfnJ,CAAoBA,KAAKoJ,IAALpJ,CAAU,OAAVA,EAAmBkJ,CAAnBlJ,CAApBA,CADAkJ,EAGGlJ,KAAKqJ,cAALrJ,CAAoB8I,CAApB9I,EAAyBA,KAAK6H,eAAL7H,CAAqB4E,IAArB5E,CAA0BA,IAA1BA,CAAzBA,CAHHkJ;AAGsDlJ,OAJnD,CAKR4E,IALQ,CAKH5E,IALG,CAAX;;AAOA,aAAIwH,CAAAA,IACAxH,KAAKM,OAALN,CAAasJ,QAAbtJ,CAAsBwH,CAAtBxH,GACAA,KAAK0D,UAAL1D,EADAA,EAEAA,KAAK8C,SAAL9C,CAAemJ,IAAfnJ,CAAoBA,KAAKoJ,IAALpJ,CAAU,aAAVA,EAAyBmI,CAAzBnI,CAApBA,CAFAA,EAAAA,KAAAA,CADAwH,IAKOW,CAAAA,EALX;AAKWA,KAlaflI;AA+aAgJ,IAAAA,gBAAAA,EAAkB,UAAUM,CAAV,EAAoB/B,CAApB,EAA2BuB,CAA3B,EAA2BA;AACzC,UAAID,CAAAA,GAAMS,CAAV;AAEA,UAAwB,YAAbA,OAAAA,CAAX,EACIvJ,KAAKM,OAALN,CAAamI,IAAbnI,CAAkB8I,CAAlB9I,EAAuBA,KAAKmB,cAA5BnB,EAA4CwH,CAA5CxH,EAAmD+I,CAAnD/I,EADJ,KAEO;AACH,YAAIwJ,CAAAA,GAAMD,CAAV;AACAvJ,aAAKM,OAALN,CAAayJ,OAAbzJ,CAAqBwJ,CAArBxJ,EAA0BwH,CAA1BxH,GAIA8I,CAAAA,GAAMU,CAAAA,CAAIE,GAJV1J;AAOJA;AAAAA,WAAK8C,SAAL9C,CAAemJ,IAAfnJ,CACIA,KAAKM,OAALN,CAAaoJ,IAAbpJ,CAAkB,SAAlBA,EAA6B,YAAA;AACzBA,aAAK0D,UAAL1D,IACAA,KAAKgE,SAALhE,CAAe,OAAfA,CADAA;AACe,OAFU,CAG1B4E,IAH0B,CAGrB5E,IAHqB,CAA7BA,CADJA,EAMIA,KAAKM,OAALN,CAAaoJ,IAAbpJ,CAAkB,OAAlBA,EAA2B,UAAW2J,CAAX,EAAWA;AAClC3J,aAAKgE,SAALhE,CAAe,OAAfA,EAAwB2J,CAAxB3J;AAAwB2J,OADD,CAExB/E,IAFwB,CAEnB5E,IAFmB,CAA3BA,CANJA,GAcIwH,CAAAA,IAASxH,KAAKM,OAALN,CAAasJ,QAAbtJ,CAAsBwH,CAAtBxH,CAdbA,EAgBMwH,CAAAA,IAAAA,CAASxH,KAAKsC,MAALtC,CAAYc,WAArB0G,IAAqB1G,CAAgBd,KAAKM,OAALN,CAAamE,gBAAbnE,EAArCwH,IACFxH,KAAKqJ,cAALrJ,CAAoB8I,CAApB9I,EAAyB,UAAW8H,CAAX,EAAWA;AAChC9H,aAAK+H,iBAAL/H,CAAuB8H,CAAvB9H,EAAoC,UAAWkI,CAAX,EAAWA;AAC3ClI,eAAKM,OAALN,CAAakI,MAAblI,GAAsBkI,CAAtBlI,EACAA,KAAKM,OAALN,CAAasJ,QAAbtJ,CAAsB,IAAtBA,CADAA,EAEAA,KAAK0D,UAAL1D,EAFAA,EAGAA,KAAKgE,SAALhE,CAAe,gBAAfA,CAHAA;AAGe,SAJiB,CAKjC4E,IALiC,CAK5B5E,IAL4B,CAApCA;AAKQA,OANa,CAOtB4E,IAPsB,CAOjB5E,IAPiB,CAAzBA,CAjBJA;AAwBYA,KArdhBC;AAydA8H,IAAAA,iBAAAA,EAAmB,UAAUD,CAAV,EAAuB8B,CAAvB,EAAuBA;AACtC5J,WAAK8H,WAAL9H,GAAmB8H,CAAnB9H,EAEAA,KAAKM,OAALN,CAAa+H,iBAAb/H,CACI8H,CADJ9H,EAEI,UAAWgI,CAAX,EAAWA;AAEFhI,aAAKmD,WAALnD,IAAoBA,KAAK8H,WAAL9H,IAAoB8H,CAAxC9H,KACD4J,CAAAA,CAAS5B,CAAT4B,CAAAA,EACA5J,KAAK8H,WAAL9H,GAAmB,IAFlBA;AAEkB,OAJ3B,CAMG4E,IANH,CAMQ5E,IANR,CAFJA,EASIA,KAAKgE,SAALhE,CAAe4E,IAAf5E,CAAoBA,IAApBA,EAA0B,OAA1BA,EAAmC,4BAAnCA,CATJA,CAFAA;AAWuC,KAre3CC;AAyeAoJ,IAAAA,cAAAA,EAAgB,UAAUP,CAAV,EAAec,CAAf,EAAeA;AAC3B,UAAIxG,CAAAA,GAAKpD,IAAT;AAAA,UAEI6J,CAAAA,GAAO5J,CAAAA,CAAWsC,IAAXtC,CAAgB4J,IAAhB5J,CAAgB4J;AACvBf,QAAAA,GAAAA,EAAKA,CADkBe;AAEvBC,QAAAA,YAAAA,EAAc;AAFSD,OAAhB5J,CAFX;AAOAD,aAAAA,KAAK+C,WAAL/C,GAAmB6J,CAAnB7J,EAEAA,KAAK8C,SAAL9C,CAAemJ,IAAfnJ,CACI6J,CAAAA,CAAKpG,EAALoG,CAAQ,UAARA,EAAoB,UAAUhG,CAAV,EAAUA;AAC1BT,QAAAA,CAAAA,CAAGqF,UAAHrF,CAAcS,CAAdT;AAAcS,OADlBgG,CADJ7J,EAII6J,CAAAA,CAAKpG,EAALoG,CAAQ,SAARA,EAAmB,UAAU7B,CAAV,EAAgBnE,CAAhB,EAAgBA;AAC/B+F,QAAAA,CAAAA,CAAS5B,CAAT4B,CAAAA,EACAxG,CAAAA,CAAGL,WAAHK,GAAiB,IADjBwG;AACiB,OAFrBC,CAJJ7J,EAQI6J,CAAAA,CAAKpG,EAALoG,CAAQ,OAARA,EAAiB,UAAUhG,CAAV,EAAUA;AACvBT,QAAAA,CAAAA,CAAGY,SAAHZ,CAAa,OAAbA,EAAsB,gBAAgBS,CAAAA,CAAE6E,MAAF7E,CAASkG,UAA/C3G,GACAA,CAAAA,CAAGL,WAAHK,GAAiB,IADjBA;AACiB,OAFrByG,CARJ7J,CAFAA,EAgBO6J,CAhBP7J;AAgBO6J,KAjgBX5J;AAogBAwI,IAAAA,UAAAA,EAAY,UAAU5E,CAAV,EAAUA;AAClB,UAAIA,CAAAA,CAAEmG,gBAAN,EACI,IAAIC,CAAAA,GAAkBpG,CAAAA,CAAEqG,MAAFrG,GAAWA,CAAAA,CAAEsG,KAAnC,CADJ,KAKIF,CAAAA,GAAkBpG,CAAAA,CAAEqG,MAAFrG,IAAYA,CAAAA,CAAEqG,MAAFrG,GAAW,GAAvBA,CAAlBoG;AAEJjK,WAAKgE,SAALhE,CAAe,SAAfA,EAA0BwF,IAAAA,CAAKuB,KAALvB,CAA6B,MAAlByE,CAAXzE,CAA1BxF,EAA6D6D,CAAAA,CAAE6E,MAA/D1I;AAA+D0I,KA5gBnEzI;AAkhBAmK,IAAAA,SAAAA,EAAW,UAAU7C,CAAV,EAAkB8C,CAAlB,EAA4BC,CAA5B,EAA4BA;AACnC/C,MAAAA,CAAAA,GAASA,CAAAA,IAAU,IAAnBA,EACA8C,CAAAA,GAAWA,CAAAA,IAAY,GADvB9C,EAEA+C,CAAAA,GAAWA,CAAAA,IAAAA,CAAY,CAFvB/C;AAGA,UAAIC,CAAAA,GAAQxH,KAAKM,OAALN,CAAayH,QAAbzH,CAAsBuH,CAAtBvH,EAA8BqK,CAA9BrK,CAAZ;AAAA,UACIuK,CAAAA,GAAAA,GAASC,GAATD,CAAaE,IAAbF,CAAkB/C,CAAlB+C,EAAyB,UAAUG,CAAV,EAAUA;AACnC,eAAOlF,IAAAA,CAAKuB,KAALvB,CAAWkF,CAAAA,GAAML,CAAjB7E,IAA6B6E,CAApC;AAAoCA,OADpCE,CADJ;AAAA,UAIII,CAAAA,GAAOC,IAAAA,CAAKC,SAALD,CAAeL,CAAfK,CAJX;AAKKN,aAAAA,CAAAA,IACD7I,MAAAA,CAAOqJ,IAAPrJ,CAAY,yCACRsJ,kBAAAA,CAAmBJ,CAAnBI,CADJtJ,CADC6I,EAIEK,CAJFL;AAIEK,KA/hBX1K;AAwiBA+K,IAAAA,WAAAA,EAAa,UAASC,CAAT,EAAiBC,CAAjB,EAAiBA;AACrBD,aAAAA,CAAAA,KACDA,CAAAA,GAAS,WADRA,CAAAA,EAGAC,CAAAA,KACDA,CAAAA,GAAU,CADTA,CAHAD,EAOEjL,KAAKqD,MAALrD,CAAYmL,QAAZnL,CAAqBiL,CAArBjL,EAA6BkL,CAA7BlL,CAPFiL;AAO+BC,KAhjBxCjL;AAmjBAmL,IAAAA,UAAAA,EAAY,YAAA;AACJpL,WAAK+C,WAAL/C,KACAA,KAAK+C,WAAL/C,CAAiBqL,GAAjBrL,CAAqBsL,KAArBtL,IACAA,KAAK+C,WAAL/C,GAAmB,IAFnBA;AAEmB,KAtjB3BC;AA0jBAsL,IAAAA,cAAAA,EAAgB,YAAA;AACZvL,WAAK8C,SAAL9C,CAAewL,OAAfxL,CAAuB,UAAU6D,CAAV,EAAUA;AAAKA,QAAAA,CAAAA,CAAE4H,EAAF5H;AAAE4H,OAAxCzL;AAAwCyL,KA3jB5CxL;AAikBA4I,IAAAA,KAAAA,EAAO,YAAA;AACE7I,WAAKM,OAALN,CAAa8E,QAAb9E,OACDA,KAAK+F,IAAL/F,IACAA,KAAKM,OAALN,CAAa0L,gBAAb1L,EAFCA,GAILA,KAAKoL,UAALpL,EAJKA,EAKLA,KAAKuL,cAALvL,EALKA,EAMLA,KAAKqD,MAALrD,CAAY2D,QAAZ3D,CAAqB,CAArBA,CANKA,EAOLA,KAAKqD,MAALrD,CAAY2L,QAAZ3L,CAAqB,CAArBA,CAPKA,EAQLA,KAAKqD,MAALrD,CAAY0H,SAAZ1H,CAAY0H;AAAYH,QAAAA,MAAAA,EAAQvH,KAAKqD,MAALrD,CAAYiH,QAAZjH;AAApB0H,OAAZ1H,EAA0D,CAA1DA,CARKA;AAQqD,KA1kB9DC;AAglBAgE,IAAAA,OAAAA,EAAS,YAAA;AACLjE,WAAKgE,SAALhE,CAAe,SAAfA,GACAA,KAAKoL,UAALpL,EADAA,EAEAA,KAAKuL,cAALvL,EAFAA,EAGAA,KAAK4L,KAAL5L,EAHAA,EAIAA,KAAKM,OAALN,CAAaiE,OAAbjE,EAJAA,EAKAA,KAAKqD,MAALrD,CAAYiE,OAAZjE,EALAA,EAMAA,KAAKmD,WAALnD,GAAKmD,CAAc,CANnBnD;AAMmB;AAvlBvBC,GAAJ;AA2lBAA,SAAAA,CAAAA,CAAWsD,MAAXtD,GAAoB,UAAUqC,CAAV,EAAUA;AAC1B,QAAIuJ,CAAAA,GAAavI,MAAAA,CAAOC,MAAPD,CAAcrD,CAAdqD,CAAjB;AACAuI,WAAAA,CAAAA,CAAWxJ,IAAXwJ,CAAgBvJ,CAAhBuJ,GACOA,CADPA;AACOA,GAHX5L,EAMAA,CAAAA,CAAWsC,IAAXtC,GAAWsC;AACPC,IAAAA,MAAAA,EAAQ,UAAUsJ,CAAV,EAAUA;AACd,UAAIC,CAAAA,GAAUC,KAAAA,CAAMC,SAAND,CAAgBE,KAAhBF,CAAsBvB,IAAtBuB,CAA2BG,SAA3BH,EAAsC,CAAtCA,CAAd;AACAD,aAAAA,CAAAA,CAAQP,OAARO,CAAgB,UAAUK,CAAV,EAAUA;AACtB9I,QAAAA,MAAAA,CAAO+I,IAAP/I,CAAY8I,CAAZ9I,EAAoBkI,OAApBlI,CAA4B,UAAUgJ,CAAV,EAAUA;AAClCR,UAAAA,CAAAA,CAAKQ,CAALR,CAAAA,GAAYM,CAAAA,CAAOE,CAAPF,CAAZN;AAAmBQ,SADvBhJ;AACuBgJ,OAF3BP,GAKOD,CALPC;AAKOD,KARJvJ;AAWPgK,IAAAA,QAAAA,EAAU,UAAUC,CAAV,EAAgBC,CAAhB,EAAsBC,CAAtB,EAAsBA;AAC5B,UAAIC,CAAJ;AAAA,UAAUC,CAAV;AAAA,UAAmBC,CAAnB;AAAA,UACIC,CAAAA,GAAQ,YAAA;AACRD,QAAAA,CAAAA,GAAU,IAAVA,EACKH,CAAAA,IACDF,CAAAA,CAAKO,KAALP,CAAWI,CAAXJ,EAAoBG,CAApBH,CAFJK;AAKJ,OAPA;;AAOA,aAAO,YAAA;AACHD,QAAAA,CAAAA,GAAU5M,IAAV4M,EACAD,CAAAA,GAAOR,SADPS;AAEA,YAAII,CAAAA,GAAUN,CAAAA,IAAAA,CAAcG,CAA5B;AACAI,QAAAA,YAAAA,CAAaJ,CAAbI,CAAAA,EACAJ,CAAAA,GAAU/I,UAAAA,CAAWgJ,CAAXhJ,EAAkB2I,CAAlB3I,CADVmJ,EAEKJ,CAAAA,KACDA,CAAAA,GAAU/I,UAAAA,CAAWgJ,CAAXhJ,EAAkB2I,CAAlB3I,CADT+I,CAFLI,EAKID,CAAAA,IACAR,CAAAA,CAAKO,KAALP,CAAWI,CAAXJ,EAAoBG,CAApBH,CANJS;AAMwBN,OAV5B;AAU4BA,KA7BzBpK;AAkCPmD,IAAAA,GAAAA,EAAK,UAAUwH,CAAV,EAAUA;AACX,UAAIxH,CAAAA,GAAAA,EAAOyH,IAAAA,CAAPzH,CAAJ;;AACA,WAAK,IAAI4B,CAAT,IAAc4F,CAAd,EACQA,CAAAA,CAAO5F,CAAP4F,CAAAA,GAAYxH,CAAZwH,KACAxH,CAAAA,GAAMwH,CAAAA,CAAO5F,CAAP4F,CADNA;;AAKR,aAAOxH,CAAP;AAAOA,KA1CJnD;AA6CPkD,IAAAA,GAAAA,EAAK,UAAUyH,CAAV,EAAUA;AACX,UAAIzH,CAAAA,GAAAA,EAAO0H,IAAAA,CAAP1H,CAAJ;;AACA,WAAK,IAAI6B,CAAT,IAAc4F,CAAd,EACQA,CAAAA,CAAO5F,CAAP4F,CAAAA,GAAYzH,CAAZyH,KACAzH,CAAAA,GAAMyH,CAAAA,CAAO5F,CAAP4F,CADNA;;AAKR,aAAOzH,CAAP;AAAOA,KArDJlD;AAwDP6K,IAAAA,KAAAA,EAAO,YAAA;AACH,aAAO,gBAAgB5H,IAAAA,CAAK6H,MAAL7H,GAAc8H,QAAd9H,CAAuB,EAAvBA,EAA2B+H,SAA3B/H,CAAqC,CAArCA,CAAvB;AAA4D,KAzDzDjD;AA4DPsH,IAAAA,IAAAA,EAAM,UAAU2D,CAAV,EAAUA;AACZ,UAAI3D,CAAAA,GAAOvG,MAAAA,CAAOC,MAAPD,CAAcrD,CAAAA,CAAWwN,QAAzBnK,CAAX;AAAA,UACI+H,CAAAA,GAAM,IAAIqC,cAAJ,EADV;AAAA,UAEIC,CAAAA,GAAAA,CAAW,CAFf;AAIAtC,aAAAA,CAAAA,CAAIP,IAAJO,CAASmC,CAAAA,CAAQI,MAARJ,IAAkB,KAA3BnC,EAAkCmC,CAAAA,CAAQ1E,GAA1CuC,EAA0CvC,CAAK,CAA/CuC,GACAA,CAAAA,CAAIvB,YAAJuB,GAAmBmC,CAAAA,CAAQ1D,YAAR0D,IAAwB,MAD3CnC,EAGAA,CAAAA,CAAI7C,gBAAJ6C,CAAqB,UAArBA,EAAiC,UAAUxH,CAAV,EAAUA;AACvCgG,QAAAA,CAAAA,CAAK7F,SAAL6F,CAAe,UAAfA,EAA2BhG,CAA3BgG,GACIhG,CAAAA,CAAEmG,gBAAFnG,IAAsBA,CAAAA,CAAEqG,MAAFrG,IAAYA,CAAAA,CAAEsG,KAApCtG,KACA8J,CAAAA,GAAAA,CAAW,CADX9J,CADJgG;AAEe,OAHnBwB,CAHAA,EAUAA,CAAAA,CAAI7C,gBAAJ6C,CAAqB,MAArBA,EAA6B,UAAUxH,CAAV,EAAUA;AAC9B8J,QAAAA,CAAAA,IACD9D,CAAAA,CAAK7F,SAAL6F,CAAe,UAAfA,EAA2BhG,CAA3BgG,CADC8D,EAGL9D,CAAAA,CAAK7F,SAAL6F,CAAe,MAAfA,EAAuBhG,CAAvBgG,CAHK8D,EAKD,OAAOtC,CAAAA,CAAIwC,MAAX,IAAqB,OAAOxC,CAAAA,CAAIwC,MAAhC,GACAhE,CAAAA,CAAK7F,SAAL6F,CAAe,SAAfA,EAA0BwB,CAAAA,CAAIyC,QAA9BjE,EAAwChG,CAAxCgG,CADA,GAGAA,CAAAA,CAAK7F,SAAL6F,CAAe,OAAfA,EAAwBhG,CAAxBgG,CARC8D;AAQuB9J,OAThCwH,CAVAA,EAuBAA,CAAAA,CAAI7C,gBAAJ6C,CAAqB,OAArBA,EAA8B,UAAUxH,CAAV,EAAUA;AACpCgG,QAAAA,CAAAA,CAAK7F,SAAL6F,CAAe,OAAfA,EAAwBhG,CAAxBgG;AAAwBhG,OAD5BwH,CAvBAA,EA2BAA,CAAAA,CAAI0C,IAAJ1C,EA3BAA,EA4BAxB,CAAAA,CAAKwB,GAALxB,GAAWwB,CA5BXA,EA6BOxB,CA7BPwB;AA6BOxB;AA9FJtH,GANXtC,EAyGAA,CAAAA,CAAWwN,QAAXxN,GAAWwN;AAIPhK,IAAAA,EAAAA,EAAI,UAAUuK,CAAV,EAAiBC,CAAjB,EAAiBA;AACZjO,WAAKkO,QAALlO,KAAiBA,KAAKkO,QAALlO,GAAKkO,EAAtBlO;AAEL,UAAIkO,CAAAA,GAAWlO,KAAKkO,QAALlO,CAAcgO,CAAdhO,CAAf;AACKkO,aAAAA,CAAAA,KACDA,CAAAA,GAAWlO,KAAKkO,QAALlO,CAAcgO,CAAdhO,IAAcgO,EADxBE,CAAAA,EAGLA,CAAAA,CAAS/E,IAAT+E,CAAcD,CAAdC,CAHKA,EAGSD;AAIVE,QAAAA,IAAAA,EAAMH,CAJIC;AAKVrE,QAAAA,QAAAA,EAAUqE,CALAA;AAMVxC,QAAAA,EAAAA,EAAIzL,KAAKyL,EAALzL,CAAQ4E,IAAR5E,CAAaA,IAAbA,EAAmBgO,CAAnBhO,EAA0BiO,CAA1BjO;AANMiO,OAHTC;AAS6BD,KAjB/BR;AAwBPhC,IAAAA,EAAAA,EAAI,UAAUuC,CAAV,EAAiBC,CAAjB,EAAiBA;AACjB,UAAKjO,KAAKkO,QAAV,EAAA;AAEA,YAAIA,CAAAA,GAAWlO,KAAKkO,QAALlO,CAAcgO,CAAdhO,CAAf;AACA,YAAIkO,CAAJ,EACI,IAAID,CAAJ,EACI,KAAK,IAAI3G,CAAAA,GAAI4G,CAAAA,CAAS3G,MAAT2G,GAAkB,CAA/B,EAAkC5G,CAAAA,IAAK,CAAvC,EAA0CA,CAAAA,EAA1C,EACQ4G,CAAAA,CAAS5G,CAAT4G,CAAAA,IAAeD,CAAfC,IACAA,CAAAA,CAASE,MAATF,CAAgB5G,CAAhB4G,EAAmB,CAAnBA,CADAA,CAFZ,KAOIA,CAAAA,CAAS3G,MAAT2G,GAAkB,CAAlBA;AAAkB;AAAA,KApCvBT;AA4CP7B,IAAAA,KAAAA,EAAO,YAAA;AACH5L,WAAKkO,QAALlO,GAAgB,IAAhBA;AAAgB,KA7CbyN;AAoDPrE,IAAAA,IAAAA,EAAM,UAAU4E,CAAV,EAAiBK,CAAjB,EAAiBA;AACnB,UAAIjL,CAAAA,GAAKpD,IAAT;AAAA,UACIiO,CAAAA,GAAK,YAAA;AACLI,QAAAA,CAAAA,CAAQtB,KAARsB,CAAcrO,IAAdqO,EAAoBlC,SAApBkC,GACAvK,UAAAA,CAAW,YAAA;AACPV,UAAAA,CAAAA,CAAGqI,EAAHrI,CAAM4K,CAAN5K,EAAa6K,CAAb7K;AAAa6K,SADjBnK,EAEG,CAFHA,CADAuK;AAKJ,OAPA;;AAOA,aAAOrO,KAAKyD,EAALzD,CAAQgO,CAARhO,EAAeiO,CAAfjO,CAAP;AAAsBiO,KA5DnBR;AA+DPzJ,IAAAA,SAAAA,EAAW,UAAUgK,CAAV,EAAUA;AACjB,UAAKhO,KAAKkO,QAAV,EAAA;AACA,YAAIA,CAAAA,GAAWlO,KAAKkO,QAALlO,CAAcgO,CAAdhO,CAAf;AAAA,YACI2M,CAAAA,GAAOX,KAAAA,CAAMC,SAAND,CAAgBE,KAAhBF,CAAsBvB,IAAtBuB,CAA2BG,SAA3BH,EAAsC,CAAtCA,CADX;AAEAkC,QAAAA,CAAAA,IAAYA,CAAAA,CAAS1C,OAAT0C,CAAiB,UAAUD,CAAV,EAAUA;AACnCA,UAAAA,CAAAA,CAAGlB,KAAHkB,CAAS,IAATA,EAAetB,CAAfsB;AAAetB,SADPuB,CAAZA;AACmBvB;AAAAA;AApEhBc,GAzGXxN,EAmLAA,CAAAA,CAAWsC,IAAXtC,CAAgBuC,MAAhBvC,CAAuBA,CAAvBA,EAAmCA,CAAAA,CAAWwN,QAA9CxN,CAnLAA,EAuLAA,CAAAA,CAAWiE,QAAXjE,GAAWiE;AACPoK,IAAAA,gBAAAA,EAAkB,GADXpK;AAEPqK,IAAAA,aAAAA,EAAe,CAFRrK;AAGPsK,IAAAA,YAAAA,EAAc,CAHPtK;AAIPuK,IAAAA,cAAAA,EAAgB,CAJTvK;AAMPC,IAAAA,gBAAAA,EAAkB,YAAA;AACd,aAAA,EAAA,CAAU1C,MAAAA,CAAOiN,YAAjB,IAAiBA,CAAgBjN,MAAAA,CAAOkN,kBAAxC,CAAA;AAAwCA,KAPrCzK;AAUP0K,IAAAA,eAAAA,EAAiB,YAAA;AACR3O,aAAAA,CAAAA,CAAWiE,QAAXjE,CAAoBE,YAApBF,KACDA,CAAAA,CAAWiE,QAAXjE,CAAoBE,YAApBF,GAAmC,KAC/BwB,MAAAA,CAAOiN,YAAPjN,IAAuBA,MAAAA,CAAOkN,kBADC,GADlC1O,GAKEA,CAAAA,CAAWiE,QAAXjE,CAAoBE,YALtBF;AAKsBE,KAhBxB+D;AAmBP2K,IAAAA,sBAAAA,EAAwB,UAAUC,CAAV,EAAUA;AACzB7O,aAAAA,CAAAA,CAAWiE,QAAXjE,CAAoB8O,mBAApB9O,KACDA,CAAAA,CAAWiE,QAAXjE,CAAoB8O,mBAApB9O,GAA0C,KACtCwB,MAAAA,CAAOuN,mBAAPvN,IAA8BA,MAAAA,CAAOwN,yBADC,EAExC,CAFwC,EAErC,CAFqC,EAElCH,CAFkC,CADzC7O,GAKEA,CAAAA,CAAWiE,QAAXjE,CAAoB8O,mBALtB9O;AAKsB8O,KAzBxB7K;AA4BP7B,IAAAA,IAAAA,EAAM,UAAUC,CAAV,EAAUA;AACZtC,WAAKsC,MAALtC,GAAcsC,CAAdtC,EACAA,KAAKkP,EAALlP,GAAUsC,CAAAA,CAAOnC,YAAPmC,IAAuBtC,KAAK4O,eAAL5O,EADjCA,EAGAA,KAAKmP,QAALnP,GAAgBA,KAAKkP,EAALlP,CAAQoP,WAHxBpP,EAIAA,KAAKqP,aAALrP,GAAqB,CAJrBA,EAKAA,KAAKsP,cAALtP,GAAsB,IALtBA,EAOAA,KAAKuP,MAALvP,GAAKuP,CACDjM,MAAAA,CAAOC,MAAPD,CAAcrD,CAAAA,CAAWiE,QAAXjE,CAAoBuP,KAApBvP,CAA0BwP,OAAxCnM,CADCiM,EAEDjM,MAAAA,CAAOC,MAAPD,CAAcrD,CAAAA,CAAWiE,QAAXjE,CAAoBuP,KAApBvP,CAA0B4F,MAAxCvC,CAFCiM,EAGDjM,MAAAA,CAAOC,MAAPD,CAAcrD,CAAAA,CAAWiE,QAAXjE,CAAoBuP,KAApBvP,CAA0ByP,QAAxCpM,CAHCiM,CAPLvP,EAaAA,KAAK2P,gBAAL3P,EAbAA,EAcAA,KAAK4P,gBAAL5P,EAdAA,EAeAA,KAAK6P,kBAAL7P,EAfAA,EAiBAA,KAAK8P,QAAL9P,CAAcA,KAAKwO,YAAnBxO,CAjBAA,EAkBAA,KAAKmG,eAALnG,CAAqBA,KAAKsC,MAALtC,CAAYI,SAAjCJ,CAlBAA,EAmBAA,KAAK+P,SAAL/P,CAAe,CAAfA,CAnBAA;AAmBe,KAhDZkE;AAmDP8L,IAAAA,iBAAAA,EAAmB,YAAA;AACXhQ,WAAK2G,OAAL3G,KACAA,KAAK2G,OAAL3G,CAAawL,OAAbxL,CAAqB,UAAUiQ,CAAV,EAAUA;AAC3BA,QAAAA,CAAAA,IAAUA,CAAAA,CAAOC,UAAPD,EAAVA;AAAiBC,OADrBlQ,GAGAA,KAAK2G,OAAL3G,GAAe,IAHfA,EAKAA,KAAKmQ,QAALnQ,CAAcoQ,OAAdpQ,CAAsBA,KAAKqQ,QAA3BrQ,CANAA;AAM2BqQ,KA1D5BnM;AA8DP4L,IAAAA,QAAAA,EAAU,UAAUN,CAAV,EAAUA;AACZxP,WAAKwP,KAALxP,KAAeA,KAAKuP,MAALvP,CAAYwP,CAAZxP,CAAfA,KACAA,KAAKwP,KAALxP,GAAaA,KAAKuP,MAALvP,CAAYwP,CAAZxP,CAAbA,EACAA,KAAKwP,KAALxP,CAAWqC,IAAXrC,CAAgByK,IAAhBzK,CAAqBA,IAArBA,CAFAA;AAEqBA,KAjEtBkE;AAsEPoM,IAAAA,SAAAA,EAAW,YAAA;AACPtQ,WAAKuQ,UAALvQ,CAAKuQ,GAAcrE,KAAdqE,CAAoB9F,IAApB8F,CAAyBpE,SAAzBoE,CAALvQ;AAA8BmM,KAvE3BjI;AA6EPqM,IAAAA,UAAAA,EAAY,UAAU5J,CAAV,EAAUA;AAElB3G,WAAKgQ,iBAALhQ,IAGI2G,CAAAA,IAAWA,CAAAA,CAAQY,MAAnBZ,KACA3G,KAAK2G,OAAL3G,GAAe2G,CAAf3G,EAGAA,KAAKmQ,QAALnQ,CAAckQ,UAAdlQ,EAHAA,EAMA2G,CAAAA,CAAQ6J,MAAR7J,CAAe,UAAU8J,CAAV,EAAgBC,CAAhB,EAAgBA;AAC3BD,eAAAA,CAAAA,CAAKL,OAALK,CAAaC,CAAbD,GACOC,CADPD;AACOC,OAFX/J,EAGG3G,KAAKmQ,QAHRxJ,EAGkByJ,OAHlBzJ,CAG0B3G,KAAKqQ,QAH/B1J,CAPAA,CAHJ3G;AAamCqQ,KA5FhCnM;AAiGP0L,IAAAA,gBAAAA,EAAkB,YAAA;AACV5P,WAAKkP,EAALlP,CAAQ2Q,qBAAR3Q,GACAA,KAAK4Q,UAAL5Q,GAAkBA,KAAKkP,EAALlP,CAAQ2Q,qBAAR3Q,CAA8BA,KAAKsO,gBAAnCtO,CADlBA,GAGAA,KAAK4Q,UAAL5Q,GAAkBA,KAAKkP,EAALlP,CAAQ6Q,oBAAR7Q,CAA6BA,KAAKsO,gBAAlCtO,CAHlBA,EAMJA,KAAK4Q,UAAL5Q,CAAgBoQ,OAAhBpQ,CAAwBA,KAAKkP,EAALlP,CAAQ8Q,WAAhC9Q,CANIA;AAM4B8Q,KAxG7B5M;AA2GP6M,IAAAA,iBAAAA,EAAmB,YAAA;AACf,UAAI3N,CAAAA,GAAKpD,IAAT;;AAEAA,WAAK4Q,UAAL5Q,CAAgBgR,cAAhBhR,GAAiC,YAAA;AAC7B,YAAIoE,CAAAA,GAAOhB,CAAAA,CAAGoB,cAAHpB,EAAX;AAEIgB,QAAAA,CAAAA,IAAQhB,CAAAA,CAAGmB,WAAHnB,EAARgB,IACAhB,CAAAA,CAAG0M,QAAH1M,CAAYA,CAAAA,CAAGqL,cAAfrL,GACAA,CAAAA,CAAGY,SAAHZ,CAAa,OAAbA,CAFAgB,IAGOA,CAAAA,IAAQhB,CAAAA,CAAGkM,cAAXlL,GACPhB,CAAAA,CAAGyB,KAAHzB,EADOgB,GAEAhB,CAAAA,CAAGoM,KAAHpM,KAAaA,CAAAA,CAAGmM,MAAHnM,CAAUA,CAAAA,CAAGmL,aAAbnL,CAAbA,IACPA,CAAAA,CAAGY,SAAHZ,CAAa,cAAbA,EAA6BgB,CAA7BhB,CANAgB;AAM6BA,OATrCpE;AASqCoE,KAvHlCF;AA4HP+M,IAAAA,oBAAAA,EAAsB,YAAA;AAClBjR,WAAK4Q,UAAL5Q,CAAgBgR,cAAhBhR,GAAiC,IAAjCA;AAAiC,KA7H9BkE;AAgIP2L,IAAAA,kBAAAA,EAAoB,YAAA;AAChB7P,WAAKmQ,QAALnQ,GAAgBA,KAAKkP,EAALlP,CAAQkR,cAARlR,EAAhBA,EACAA,KAAKmQ,QAALnQ,CAAcoQ,OAAdpQ,CAAsBA,KAAKqQ,QAA3BrQ,CADAA;AAC2BqQ,KAlIxBnM;AAwIPyL,IAAAA,gBAAAA,EAAkB,YAAA;AAEV3P,WAAKkP,EAALlP,CAAQmR,UAARnR,GACAA,KAAKqQ,QAALrQ,GAAgBA,KAAKkP,EAALlP,CAAQmR,UAARnR,EADhBA,GAGAA,KAAKqQ,QAALrQ,GAAgBA,KAAKkP,EAALlP,CAAQoR,cAARpR,EAHhBA,EAMJA,KAAKqQ,QAALrQ,CAAcoQ,OAAdpQ,CAAsBA,KAAKkP,EAALlP,CAAQ8Q,WAA9B9Q,CANIA;AAM0B8Q,KAhJ3B5M;AAyJP8B,IAAAA,SAAAA,EAAW,UAAUqL,CAAV,EAAUA;AACjBrR,WAAKqQ,QAALrQ,CAAcsR,IAAdtR,CAAmBuR,KAAnBvR,GAA2BqR,CAA3BrR;AAA2BqR,KA1JxBnN;AAmKPgC,IAAAA,SAAAA,EAAW,YAAA;AACP,aAAOlG,KAAKqQ,QAALrQ,CAAcsR,IAAdtR,CAAmBuR,KAA1B;AAA0BA,KApKvBrN;AAuKP6D,IAAAA,iBAAAA,EAAmB,UAAUD,CAAV,EAAuB8B,CAAvB,EAAiC4H,CAAjC,EAAiCA;AAC3CxR,WAAKyR,SAALzR,KACDA,KAAKyR,SAALzR,GAAiBA,KAAK6O,sBAAL7O,CAA4BA,KAAKkP,EAALlP,GAAUA,KAAKkP,EAALlP,CAAQ8O,UAAlB9O,GAA+B,KAA3DA,CADhBA,GAGLA,KAAKyR,SAALzR,CAAe0R,eAAf1R,CAA+B8H,CAA/B9H,EAA4C,UAAWgI,CAAX,EAAWA;AACnD4B,QAAAA,CAAAA,CAAS5B,CAAT4B,CAAAA;AAAS5B,OAD+B,CAEzCpD,IAFyC,CAEpC5E,IAFoC,CAA5CA,EAEewR,CAFfxR,CAHKA;AAKUwR,KA7KZtN;AAmLPoF,IAAAA,QAAAA,EAAU,UAAU9B,CAAV,EAAUA;AAChBxH,WAAKwH,KAALxH,GAAawH,CAAbxH;AAAawH,KApLVtD;AA0LP6L,IAAAA,SAAAA,EAAW,UAAUxI,CAAV,EAAUA;AAEjB,UAAA,CAAIvH,KAAK2R,WAAT,IAAwBpK,CAAAA,IAAY,IAAIvH,KAAK2R,WAAL3R,CAAiBuH,MAArB,GAA8B,CAA9B,GAAmC,CAAvE,EAAA;AAIAvH,aAAK4R,UAAL5R,GAAK4R,EAAL5R,EACAA,KAAK2R,WAAL3R,GAAK2R,EADL3R;;AAKA,aADI6R,IAAAA,CAAAA,GAAW7R,KAAKkI,MAALlI,GAAcA,KAAKkI,MAALlI,CAAY8R,gBAA1B9R,GAA6C,CAAxD6R,EACKE,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAIF,CAApB,EAA8BE,CAAAA,EAA9B,EACE/R,KAAK4R,UAAL5R,CAAgB+R,CAAhB/R,IAAgB+R,EAAhB/R,EACAA,KAAK4R,UAAL5R,CAAgB+R,CAAhB/R,EAAmB,KAAKuH,CAAAA,GAAS,CAAd,CAAnBvH,IAAuC,CADvCA,EAEAA,KAAK4R,UAAL5R,CAAgB+R,CAAhB/R,EAAmB,KAAKuH,CAAAA,GAAS,CAAd,IAAmB,CAAtCvH,IAA2C,CAF3CA;;AAIFA,aAAK2R,WAAL3R,CAAiB,KAAKuH,CAAAA,GAAS,CAAd,CAAjBvH,IAAqC,CAArCA,EACAA,KAAK2R,WAAL3R,CAAiB,KAAKuH,CAAAA,GAAS,CAAd,IAAmB,CAApCvH,IAAyC,CADzCA;AACyC;AAAA,KA3MtCkE;AAuNPuD,IAAAA,QAAAA,EAAU,UAAUF,CAAV,EAAkByK,CAAlB,EAAyBC,CAAzB,EAAyBA;AAC/B,UAAIjS,KAAKwH,KAAT,EAAkB,OAAOxH,KAAKwH,KAAZ;AAElBxH,WAAK+P,SAAL/P,CAAeuH,CAAfvH;;AAMA,WAJIkS,IAAAA,CAAAA,GAAalS,KAAKkI,MAALlI,CAAYuH,MAAZvH,GAAqBuH,CAAlC2K,EACAC,CAAAA,GAAAA,CAAAA,EAAgBD,CAAAA,GAAa,EAA7BC,CAAAA,IAAoC,CADpCD,EAEAL,CAAAA,GAAW7R,KAAKkI,MAALlI,CAAY8R,gBAFvBI,EAIKH,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAIF,CAApB,EAA8BE,CAAAA,EAA9B,EAII,KAHIvK,IAAAA,CAAAA,GAAQxH,KAAK4R,UAAL5R,CAAgB+R,CAAhB/R,CAARwH,EACA4K,CAAAA,GAAOpS,KAAKkI,MAALlI,CAAYqS,cAAZrS,CAA2B+R,CAA3B/R,CADPwH,EAGKF,CAAAA,GAAI0K,CAAb,EAAoB1K,CAAAA,IAAK2K,CAAzB,EAA+B3K,CAAAA,EAA/B,EAAoC;AAMhC,aALI5C,IAAAA,CAAAA,GAAAA,CAAAA,EAAW4C,CAAAA,GAAI4K,CAAfxN,CAAAA,EACAC,CAAAA,GAAAA,CAAAA,EAASD,CAAAA,GAAQwN,CAAjBvN,CADAD,EAEAgB,CAAAA,GAAM,CAFNhB,EAGAe,CAAAA,GAAM,CAHNf,EAKK4N,CAAAA,GAAI5N,CAAb,EAAoB4N,CAAAA,GAAI3N,CAAxB,EAA6B2N,CAAAA,IAAKH,CAAlC,EAA8C;AAC1C,cAAIZ,CAAAA,GAAQa,CAAAA,CAAKE,CAALF,CAAZ;AAEIb,UAAAA,CAAAA,GAAQ9L,CAAR8L,KACA9L,CAAAA,GAAM8L,CADNA,GAIAA,CAAAA,GAAQ7L,CAAR6L,KACA7L,CAAAA,GAAM6L,CADNA,CAJAA;AASR/J;;AAAAA,QAAAA,CAAAA,CAAM,IAAIF,CAAVE,CAAAA,GAAe/B,CAAf+B,EACAA,CAAAA,CAAM,IAAIF,CAAJ,GAAQ,CAAdE,CAAAA,GAAmB9B,CADnB8B,EACmB9B,CAEV,KAALqM,CAAK,IAAKtM,CAAAA,GAAMzF,KAAK2R,WAAL3R,CAAiB,IAAIsH,CAArBtH,CAFD0F,MAGf1F,KAAK2R,WAAL3R,CAAiB,IAAIsH,CAArBtH,IAA0ByF,CAHXC,CADnB8B,EAI8B/B,CAGrB,KAALsM,CAAK,IAAKrM,CAAAA,GAAM1F,KAAK2R,WAAL3R,CAAiB,IAAIsH,CAAJ,GAAQ,CAAzBtH,CAHUyF,MAI1BzF,KAAK2R,WAAL3R,CAAiB,IAAIsH,CAAJ,GAAQ,CAAzBtH,IAA8B0F,CAJJD,CAJ9B+B;AAaR;;AAAA,aAAOxH,KAAKsC,MAALtC,CAAYmC,aAAZnC,GAA4BA,KAAK4R,UAAjC5R,GAA8CA,KAAK2R,WAA1D;AAA0DA,KAnQvDzN;AAsQPN,IAAAA,iBAAAA,EAAmB,YAAA;AACf,aAAO5D,KAAKwP,KAALxP,CAAW4D,iBAAX5D,CAA6ByK,IAA7BzK,CAAkCA,IAAlCA,CAAP;AAAyCA,KAvQtCkE;AA0QPwH,IAAAA,gBAAAA,EAAkB,YAAA;AACV1L,WAAKoM,MAALpM,IACAA,KAAKoM,MAALpM,CAAYkQ,UAAZlQ,EADAA;AACYkQ,KA5QbhM;AAgRPD,IAAAA,OAAAA,EAAS,YAAA;AACAjE,WAAK8E,QAAL9E,MACDA,KAAK6E,KAAL7E,EADCA,EAGLA,KAAK4L,KAAL5L,EAHKA,EAILA,KAAKkI,MAALlI,GAAc,IAJTA,EAKLA,KAAKgQ,iBAALhQ,EALKA,EAMLA,KAAK0L,gBAAL1L,EANKA,EAOLA,KAAKqQ,QAALrQ,CAAckQ,UAAdlQ,EAPKA,EAQLA,KAAK4Q,UAAL5Q,CAAgBkQ,UAAhBlQ,EARKA,EASLA,KAAKmQ,QAALnQ,CAAckQ,UAAdlQ,EATKA,EAWDA,KAAKsC,MAALtC,CAAYQ,iBAAZR,KAE6B,cAAlBA,OAAAA,KAAKkP,EAALlP,CAAQuS,KAAU,IAA+B,YAAjBvS,KAAKkP,EAALlP,CAAQwP,KAAtB,IACzBxP,KAAKkP,EAALlP,CAAQuS,KAARvS,EADyB,EAI7BA,KAAKkP,EAALlP,GAAU,IAJmB,EAOxBA,KAAKsC,MAALtC,CAAYG,YAAZH,GAGDA,KAAKsC,MAALtC,CAAYG,YAAZH,GAA2B,IAH1BA,GACDC,CAAAA,CAAWiE,QAAXjE,CAAoBE,YAApBF,GAAmC,IARV,EAa7BA,CAAAA,CAAWiE,QAAXjE,CAAoB8O,mBAApB9O,GAA0C,IAf1CD,CAXCA;AA0ByC,KA3S3CkE;AA+SPiE,IAAAA,IAAAA,EAAM,UAAUD,CAAV,EAAUA;AACZlI,WAAKqP,aAALrP,GAAqB,CAArBA,EACAA,KAAKmP,QAALnP,GAAgBA,KAAKkP,EAALlP,CAAQoP,WADxBpP,EAEAA,KAAKkI,MAALlI,GAAckI,CAFdlI,EAGAA,KAAKwS,YAALxS,EAHAA;AAGKwS,KAnTFtO;AAsTPsO,IAAAA,YAAAA,EAAc,YAAA;AACVxS,WAAK0L,gBAAL1L,IACAA,KAAKoM,MAALpM,GAAcA,KAAKkP,EAALlP,CAAQyS,kBAARzS,EADdA,EAIAA,KAAKoM,MAALpM,CAAY0E,KAAZ1E,GAAoBA,KAAKoM,MAALpM,CAAY0E,KAAZ1E,IAAqBA,KAAKoM,MAALpM,CAAY0S,WAJrD1S,EAKAA,KAAKoM,MAALpM,CAAY+F,IAAZ/F,GAAmBA,KAAKoM,MAALpM,CAAY+F,IAAZ/F,IAAoBA,KAAKoM,MAALpM,CAAY2S,OALnD3S,EAOAA,KAAKoM,MAALpM,CAAY4S,YAAZ5S,CAAyBuR,KAAzBvR,GAAiCA,KAAK4S,YAPtC5S,EAQAA,KAAKoM,MAALpM,CAAYkI,MAAZlI,GAAqBA,KAAKkI,MAR1BlI,EASAA,KAAKoM,MAALpM,CAAYoQ,OAAZpQ,CAAoBA,KAAKmQ,QAAzBnQ,CATAA;AASyBmQ,KAhUtBjM;AAmUPY,IAAAA,QAAAA,EAAU,YAAA;AACN,aAAO9E,KAAKwP,KAALxP,KAAeA,KAAKuP,MAALvP,CAAYA,KAAKuO,aAAjBvO,CAAtB;AAAuCuO,KApUpCrK;AAuUPK,IAAAA,WAAAA,EAAa,YAAA;AACT,aAAKvE,KAAKkI,MAALlI,GAGEA,KAAKkI,MAALlI,CAAYuF,QAHdvF,GACM,CADX;AACW,KAzURkE;AA8UPH,IAAAA,MAAAA,EAAQ,UAAUW,CAAV,EAAiBC,CAAjB,EAAiBA;AACrB,UAAK3E,KAAKkI,MAAV,EAEAlI,OAAAA,KAAKsP,cAALtP,GAAsB,IAAtBA,EAEa,QAAT0E,CAAS,KACTA,CAAAA,GAAQ1E,KAAKwE,cAALxE,EAAR0E,EACIA,CAAAA,IAAS1E,KAAKuE,WAALvE,EAAT0E,KACAA,CAAAA,GAAQ,CADRA,CAFK,CAFb1E,EAQW,QAAP2E,CAAO,KACPA,CAAAA,GAAM3E,KAAKuE,WAALvE,EADC,CARXA,EAYAA,KAAKqP,aAALrP,GAAqB0E,CAZrB1E,EAaAA,KAAKmP,QAALnP,GAAgBA,KAAKkP,EAALlP,CAAQoP,WAbxBpP,EAeIA,KAAKwP,KAALxP,KAAeA,KAAKuP,MAALvP,CAAYA,KAAKyO,cAAjBzO,CAAfA,IACAA,KAAK8P,QAAL9P,CAAcA,KAAKwO,YAAnBxO,CAhBJA,EAgBuBwO;AAGd9J,QAAAA,KAAAA,EAAOA,CAHO8J;AAGA7J,QAAAA,GAAAA,EAAKA;AAHL6J,OAhBvBxO;AAmB4B2E,KApWzBT;AAuWP2O,IAAAA,aAAAA,EAAe,YAAA;AACX,aAAA,CAAQ7S,KAAKkP,EAALlP,CAAQoP,WAARpP,GAAsBA,KAAKmP,QAAnC,IAA+CnP,KAAK4S,YAApD;AAAoDA,KAxWjD1O;AAmXPO,IAAAA,IAAAA,EAAM,UAAUC,CAAV,EAAiBC,CAAjB,EAAiBA;AACnB,UAAK3E,KAAKkI,MAAV,EAAA;AAGAlI,aAAKwS,YAALxS;AAEA,YAAI8S,CAAAA,GAAe9S,KAAK+D,MAAL/D,CAAY0E,CAAZ1E,EAAmB2E,CAAnB3E,CAAnB;AAEA0E,QAAAA,CAAAA,GAAQoO,CAAAA,CAAapO,KAArBA,EACAC,CAAAA,GAAMmO,CAAAA,CAAanO,GADnBD,EAGA1E,KAAKsP,cAALtP,GAAsB2E,CAHtBD,EAKA1E,KAAKoM,MAALpM,CAAY0E,KAAZ1E,CAAkB,CAAlBA,EAAqB0E,CAArB1E,EAA4B2E,CAAAA,GAAMD,CAAlC1E,CALA0E,EAOqB,eAAjB1E,KAAKkP,EAALlP,CAAQwP,KAAS,IACnBxP,KAAKkP,EAALlP,CAAQ+S,MADW,IACD/S,KAAKkP,EAALlP,CAAQ+S,MAAR/S,EARpB0E,EAWA1E,KAAK8P,QAAL9P,CAAcA,KAAKuO,aAAnBvO,CAXA0E,EAaA1E,KAAKgE,SAALhE,CAAe,MAAfA,CAbA0E;AAae;AAAA,KAxYZR;AA8YPW,IAAAA,KAAAA,EAAO,YAAA;AACH7E,WAAKsP,cAALtP,GAAsB,IAAtBA,EAEAA,KAAKqP,aAALrP,IAAsBA,KAAK6S,aAAL7S,EAFtBA,EAGAA,KAAKoM,MAALpM,IAAeA,KAAKoM,MAALpM,CAAY+F,IAAZ/F,CAAiB,CAAjBA,CAHfA,EAKAA,KAAK8P,QAAL9P,CAAcA,KAAKwO,YAAnBxO,CALAA,EAOAA,KAAKgE,SAALhE,CAAe,OAAfA,CAPAA;AAOe,KAtZZkE;AA4ZPM,IAAAA,cAAAA,EAAgB,YAAA;AACZ,aAAOxE,KAAKwP,KAALxP,CAAWwE,cAAXxE,CAA0ByK,IAA1BzK,CAA+BA,IAA/BA,CAAP;AAAsCA,KA7ZnCkE;AAmaPmC,IAAAA,eAAAA,EAAiB,YAAA;AACb,aAAOrG,KAAK4S,YAAZ;AAAYA,KApaT1O;AA0aPiC,IAAAA,eAAAA,EAAiB,UAAUoL,CAAV,EAAUA;AACvBA,MAAAA,CAAAA,GAAQA,CAAAA,IAAS,CAAjBA,EACIvR,KAAK8E,QAAL9E,KACAA,KAAK4S,YAAL5S,GAAoBuR,CADpBvR,IAGAA,KAAK6E,KAAL7E,IACAA,KAAK4S,YAAL5S,GAAoBuR,CADpBvR,EAEAA,KAAKyE,IAALzE,EALAA,CADJuR;AAMS9M;AAjbNP,GAvLXjE,EA6mBAA,CAAAA,CAAWiE,QAAXjE,CAAoBuP,KAApBvP,GAAoBuP,EA7mBpBvP,EA+mBAA,CAAAA,CAAWiE,QAAXjE,CAAoBuP,KAApBvP,CAA0BwP,OAA1BxP,GAA0BwP;AACtBpN,IAAAA,IAAAA,EAAM,YAAA;AACFrC,WAAK+Q,iBAAL/Q;AAAK+Q,KAFatB;AAItB7L,IAAAA,iBAAAA,EAAmB,YAAA;AACf,UAAI2B,CAAAA,GAAWvF,KAAKuE,WAALvE,EAAf;AACA,aAAQA,KAAKwE,cAALxE,KAAwBuF,CAAxBvF,IAAqC,CAA7C;AAA6C,KAN3ByP;AAQtBjL,IAAAA,cAAAA,EAAgB,YAAA;AACZ,aAAOxE,KAAKqP,aAALrP,GAAqBA,KAAK6S,aAAL7S,EAA5B;AAAiC6S;AATfpD,GA/mB1BxP,EA4nBAA,CAAAA,CAAWiE,QAAXjE,CAAoBuP,KAApBvP,CAA0B4F,MAA1B5F,GAA0B4F;AACtBxD,IAAAA,IAAAA,EAAM,YAAA;AACFrC,WAAKiR,oBAALjR;AAAKiR,KAFapL;AAItBjC,IAAAA,iBAAAA,EAAmB,YAAA;AACf,UAAI2B,CAAAA,GAAWvF,KAAKuE,WAALvE,EAAf;AACA,aAAQA,KAAKwE,cAALxE,KAAwBuF,CAAxBvF,IAAqC,CAA7C;AAA6C,KAN3B6F;AAQtBrB,IAAAA,cAAAA,EAAgB,YAAA;AACZ,aAAOxE,KAAKqP,aAAZ;AAAYA;AATMxJ,GA5nB1B5F,EAyoBAA,CAAAA,CAAWiE,QAAXjE,CAAoBuP,KAApBvP,CAA0ByP,QAA1BzP,GAA0ByP;AACtBrN,IAAAA,IAAAA,EAAM,YAAA;AACFrC,WAAKiR,oBAALjR,IACAA,KAAKgE,SAALhE,CAAe,QAAfA,CADAA;AACe,KAHG0P;AAKtB9L,IAAAA,iBAAAA,EAAmB,YAAA;AACf,aAAO,CAAP;AAAO,KANW8L;AAQtBlL,IAAAA,cAAAA,EAAgB,YAAA;AACZ,aAAOxE,KAAKuE,WAALvE,EAAP;AAAYuE;AATMmL,GAzoB1BzP,EAspBAA,CAAAA,CAAWsC,IAAXtC,CAAgBuC,MAAhBvC,CAAuBA,CAAAA,CAAWiE,QAAlCjE,EAA4CA,CAAAA,CAAWwN,QAAvDxN,CAtpBAA,EA0pBAA,CAAAA,CAAW+S,YAAX/S,GAA0BqD,MAAAA,CAAOC,MAAPD,CAAcrD,CAAAA,CAAWiE,QAAzBZ,CA1pB1BrD,EA4pBAA,CAAAA,CAAWsC,IAAXtC,CAAgBuC,MAAhBvC,CAAuBA,CAAAA,CAAW+S,YAAlC/S,EAAkC+S;AAC9B3Q,IAAAA,IAAAA,EAAM,UAAUC,CAAV,EAAUA;AACZtC,WAAKsC,MAALtC,GAAcsC,CAAdtC,EAGAA,KAAKiT,KAALjT,GAAKiT;AACD7D,QAAAA,WAAAA,EAAa,CADZ6D;AAED1N,QAAAA,QAAAA,EAAU,CAFT0N;AAGDpN,QAAAA,MAAAA,EAAAA,CAAQ,CAHPoN;AAIDL,QAAAA,YAAAA,EAAc,CAJbK;AAKDxO,QAAAA,IAAAA,EAAM,YAAA,CAAA,CALLwO;AAMDpO,QAAAA,KAAAA,EAAO,YAAA,CAAA;AANNoO,OAHLjT,EAYAA,KAAKqB,SAALrB,GAAiBsC,CAAAA,CAAOjB,SAAPiB,CAAiB4Q,WAAjB5Q,EAZjBtC,EAaAA,KAAKmT,eAALnT,GAAuBsC,CAAAA,CAAO6Q,eAb9BnT,EAcAA,KAAKmG,eAALnG,CAAqBA,KAAKsC,MAALtC,CAAYI,SAAjCJ,CAdAA,EAeAA,KAAKoT,WAALpT,EAfAA;AAeKoT,KAjBqBJ;AAwB9BI,IAAAA,WAAAA,EAAa,YAAA;AACT,UAAIhQ,CAAAA,GAAKpD,IAAT;AAAA,UAGIqT,CAAAA,GAAiB,YAAA;AACjB,YAAA,CAAIjQ,CAAAA,CAAG0B,QAAH1B,EAAJ,EAAA;AAEAA,UAAAA,CAAAA,CAAGY,SAAHZ,CAAa,cAAbA,EAA6BA,CAAAA,CAAGoB,cAAHpB,EAA7BA;AAGA,cAAIkQ,CAAAA,GAAwB7R,MAAAA,CAAO6R,qBAAP7R,IAAgCA,MAAAA,CAAO8R,2BAAnE;AACAD,UAAAA,CAAAA,CAAsBD,CAAtBC,CAAAA;AAAsBD;AAG1BrT,OAbA;;AAaAA,WAAKyD,EAALzD,CAAQ,MAARA,EAAgBqT,CAAhBrT;AAAgBqT,KAtCUL;AAiD9B7K,IAAAA,IAAAA,EAAM,UAAUW,CAAV,EAAerI,CAAf,EAA0B+G,CAA1B,EAAiCuB,CAAjC,EAAiCA;AACnC,UAEIkK,CAAAA,GAAQxQ,QAAAA,CAAS+Q,aAAT/Q,CAAuBzC,KAAKqB,SAA5BoB,CAFZ;AAGAwQ,MAAAA,CAAAA,CAAMQ,QAANR,GAAiBjT,KAAKsC,MAALtC,CAAYoB,aAA7B6R,EACAA,CAAAA,CAAMS,QAANT,GAAiBjT,KAAKsC,MAALtC,CAAY0T,QAAZ1T,IAAY0T,CAAY,CADzCT,EAEAA,CAAAA,CAAMlK,OAANkK,GAA2B,QAAXlK,CAAW,GAAO,MAAP,GAAgBA,CAF3CkK,EAGAA,CAAAA,CAAMvJ,GAANuJ,GAAYnK,CAHZmK,EAIAA,CAAAA,CAAMU,KAANV,CAAY/L,KAAZ+L,GAAoB,MAJpBA;AAMA,UAAIW,CAAAA,GAAYnT,CAAAA,CAAUiC,aAAVjC,CAAwBT,KAAKqB,SAA7BZ,CAAhB;AACImT,MAAAA,CAAAA,IACAnT,CAAAA,CAAUoT,WAAVpT,CAAsBmT,CAAtBnT,CADAmT,EAGJnT,CAAAA,CAAUqT,WAAVrT,CAAsBwS,CAAtBxS,CAHImT,EAKJ5T,KAAK+T,KAAL/T,CAAWiT,CAAXjT,EAAkBwH,CAAlBxH,CALI4T;AAKcpM,KAjEQwL;AAyE9BvJ,IAAAA,OAAAA,EAAS,UAAUD,CAAV,EAAehC,CAAf,EAAeA;AACpB,UAEIyL,CAAAA,GAAQzJ,CAFZ;AAGAyJ,MAAAA,CAAAA,CAAMQ,QAANR,GAAiBjT,KAAKsC,MAALtC,CAAYoB,aAA7B6R,EACAA,CAAAA,CAAMS,QAANT,GAAiBjT,KAAKsC,MAALtC,CAAY0T,QAAZ1T,IAAY0T,CAAY,CADzCT,EAGAjT,KAAK+T,KAAL/T,CAAWiT,CAAXjT,EAAkBwH,CAAlBxH,CAHAiT;AAGkBzL,KAhFQwL;AA0F9Be,IAAAA,KAAAA,EAAO,UAAUd,CAAV,EAAiBzL,CAAjB,EAAiBA;AACpB,UAAIpE,CAAAA,GAAKpD,IAAT;AAIyB,oBAAdiT,OAAAA,CAAAA,CAAM9K,IAAQ,IACrB8K,CAAAA,CAAM9K,IAAN8K,EADqB,EAIzBA,CAAAA,CAAMzK,gBAANyK,CAAuB,OAAvBA,EAAgC,YAAA;AAC5B7P,QAAAA,CAAAA,CAAGY,SAAHZ,CAAa,OAAbA,EAAsB,6BAAtBA;AAAsB,OAD1B6P,CAJyB,EAQzBA,CAAAA,CAAMzK,gBAANyK,CAAuB,SAAvBA,EAAkC,YAAA;AAC9B7P,QAAAA,CAAAA,CAAGY,SAAHZ,CAAa,SAAbA;AAAa,OADjB6P,CARyB,EAYzBA,CAAAA,CAAMzK,gBAANyK,CAAuB,OAAvBA,EAAgC,YAAA;AAC5B7P,QAAAA,CAAAA,CAAGY,SAAHZ,CAAa,QAAbA;AAAa,OADjB6P,CAZyB,EAgBzBjT,KAAKiT,KAALjT,GAAaiT,CAhBY,EAiBzBjT,KAAKwH,KAALxH,GAAawH,CAjBY,EAkBzBxH,KAAKgU,SAALhU,GAAiB,IAlBQ,EAmBzBA,KAAKkI,MAALlI,GAAc,IAnBW,EAoBzBA,KAAKmG,eAALnG,CAAqBA,KAAK4S,YAA1B5S,CApByB;AAoBC4S,KAnHAI;AAsH9BlO,IAAAA,QAAAA,EAAU,YAAA;AACN,aAAA,CAAQ9E,KAAKiT,KAAb,IAAsBjT,KAAKiT,KAALjT,CAAW6F,MAAjC;AAAiCA,KAvHPmN;AA0H9BzO,IAAAA,WAAAA,EAAa,YAAA;AACT,UAAIgB,CAAAA,GAAAA,CAAYvF,KAAKkI,MAALlI,IAAeA,KAAKiT,KAAhC1N,EAAuCA,QAA3C;AACIA,aAAAA,CAAAA,IAAY4H,IAAAA,CAAZ5H,KACAA,CAAAA,GAAWvF,KAAKiT,KAALjT,CAAWiU,QAAXjU,CAAoB2E,GAApB3E,CAAwB,CAAxBA,CADXuF,GAGGA,CAHHA;AAGGA,KA/HmByN;AAkI9BxO,IAAAA,cAAAA,EAAgB,YAAA;AACZ,aAAOxE,KAAKiT,KAALjT,IAAcA,KAAKiT,KAALjT,CAAWoP,WAAhC;AAAgCA,KAnIN4D;AAsI9BpP,IAAAA,iBAAAA,EAAmB,YAAA;AACf,aAAQ5D,KAAKwE,cAALxE,KAAwBA,KAAKuE,WAALvE,EAAxBA,IAA+C,CAAvD;AAAuD,KAvI7BgT;AA0I9B3M,IAAAA,eAAAA,EAAiB,YAAA;AACb,aAAOrG,KAAK4S,YAAL5S,IAAqBA,KAAKiT,KAALjT,CAAW4S,YAAvC;AAAuCA,KA3IbI;AAiJ9B7M,IAAAA,eAAAA,EAAiB,UAAUoL,CAAV,EAAUA;AACvBvR,WAAK4S,YAAL5S,GAAoBuR,CAAAA,IAAS,CAA7BvR,EACAA,KAAKiT,KAALjT,CAAW4S,YAAX5S,GAA0BA,KAAK4S,YAD/B5S;AAC+B4S,KAnJLI;AAsJ9BjP,IAAAA,MAAAA,EAAQ,UAAUW,CAAV,EAAUA;AACD,cAATA,CAAS,KACT1E,KAAKiT,KAALjT,CAAWoP,WAAXpP,GAAyB0E,CADhB,GAGb1E,KAAKkU,YAALlU,EAHa;AAGRkU,KA1JqBlB;AAqK9BvO,IAAAA,IAAAA,EAAM,UAAUC,CAAV,EAAiBC,CAAjB,EAAiBA;AACnB3E,WAAK+D,MAAL/D,CAAY0E,CAAZ1E,GACAA,KAAKiT,KAALjT,CAAWyE,IAAXzE,EADAA,EAEA2E,CAAAA,IAAO3E,KAAKmU,UAALnU,CAAgB2E,CAAhB3E,CAFPA,EAGAA,KAAKgE,SAALhE,CAAe,MAAfA,CAHAA;AAGe,KAzKWgT;AA+K9BnO,IAAAA,KAAAA,EAAO,YAAA;AACH7E,WAAKiT,KAALjT,IAAcA,KAAKiT,KAALjT,CAAW6E,KAAX7E,EAAdA,EACAA,KAAKkU,YAALlU,EADAA,EAEAA,KAAKgE,SAALhE,CAAe,OAAfA,CAFAA;AAEe,KAlLWgT;AAqL9BmB,IAAAA,UAAAA,EAAY,UAAUxP,CAAV,EAAUA;AAClB,UAAIvB,CAAAA,GAAKpD,IAAT;AACAA,WAAKgU,SAALhU,GAAiB,UAAUoE,CAAV,EAAUA;AACnBA,QAAAA,CAAAA,IAAQO,CAARP,KACAhB,CAAAA,CAAGyB,KAAHzB,IACAA,CAAAA,CAAGW,MAAHX,CAAUuB,CAAVvB,CAFAgB;AAEUO,OAHlB3E,EAMAA,KAAKyD,EAALzD,CAAQ,cAARA,EAAwBA,KAAKgU,SAA7BhU,CANAA;AAM6BgU,KA7LHhB;AAgM9BkB,IAAAA,YAAAA,EAAc,YAAA;AACNlU,WAAKgU,SAALhU,KACAA,KAAKyL,EAALzL,CAAQ,cAARA,EAAwBA,KAAKgU,SAA7BhU,GACAA,KAAKgU,SAALhU,GAAiB,IAFjBA;AAEiB,KAnMKgT;AAuM9BvL,IAAAA,QAAAA,EAAU,UAAUF,CAAV,EAAkB7C,CAAlB,EAAyBC,CAAzB,EAAyBA;AAC/B,aAAI3E,KAAKkI,MAALlI,GACOC,CAAAA,CAAWiE,QAAXjE,CAAoBwH,QAApBxH,CAA6BwK,IAA7BxK,CAAkCD,IAAlCC,EAAwCsH,CAAxCtH,EAAgDyE,CAAhDzE,EAAuD0E,CAAvD1E,CADPD,GAGGA,KAAKwH,KAALxH,IAAKwH,EAHZ;AAGYA,KA3McwL;AA8M9B9M,IAAAA,SAAAA,EAAW,YAAA;AACP,aAAOlG,KAAKiT,KAALjT,CAAWoU,MAAlB;AAAkBA,KA/MQpB;AAkN9BhN,IAAAA,SAAAA,EAAW,UAAU0E,CAAV,EAAUA;AACjB1K,WAAKiT,KAALjT,CAAWoU,MAAXpU,GAAoB0K,CAApB1K;AAAoB0K,KAnNMsI;AAsN9B/O,IAAAA,OAAAA,EAAS,YAAA;AACLjE,WAAK6E,KAAL7E,IACAA,KAAK4L,KAAL5L,EADAA,EAEAA,KAAKiT,KAALjT,IAAcA,KAAKiT,KAALjT,CAAWqU,UAAzBrU,IAAuCA,KAAKiT,KAALjT,CAAWqU,UAAXrU,CAAsB6T,WAAtB7T,CAAkCA,KAAKiT,KAAvCjT,CAFvCA,EAGAA,KAAKiT,KAALjT,GAAa,IAHbA;AAGa;AA1NagT,GAAlC/S,CA5pBAA,EA23BAA,CAAAA,CAAWqU,YAAXrU,GAA0BA,CAAAA,CAAW+S,YA33BrC/S,EA+3BAA,CAAAA,CAAWuD,MAAXvD,GAAWuD;AACPnB,IAAAA,IAAAA,EAAM,UAAU5B,CAAV,EAAqB6B,CAArB,EAAqBA;AACvBtC,WAAKS,SAALT,GAAiBS,CAAjBT,EACAA,KAAKsC,MAALtC,GAAcsC,CADdtC,EAGAA,KAAKkH,KAALlH,GAAa,CAHbA,EAIAA,KAAKe,MAALf,GAAcsC,CAAAA,CAAOvB,MAAPuB,GAAgBtC,KAAKsC,MAALtC,CAAYwB,UAJ1CxB,EAMAA,KAAKuU,OAALvU,GAAe,CANfA,EAQAA,KAAKwU,UAALxU,CAAgBsC,CAAhBtC,CARAA,EASAA,KAAKyU,aAALzU,EATAA,EAUAA,KAAK0U,cAAL1U,EAVAA;AAUK0U,KAZFlR;AAePiR,IAAAA,aAAAA,EAAe,YAAA;AACXzU,WAAK2U,OAAL3U,GAAeA,KAAKS,SAALT,CAAe8T,WAAf9T,CACXyC,QAAAA,CAAS+Q,aAAT/Q,CAAuB,MAAvBA,CADWzC,CAAfA,EAIAA,KAAK2T,KAAL3T,CAAWA,KAAK2U,OAAhB3U,EAAgB2U;AACZC,QAAAA,OAAAA,EAAS,OADGD;AAEZrP,QAAAA,QAAAA,EAAU,UAFEqP;AAGZE,QAAAA,UAAAA,EAAY,MAHAF;AAIZG,QAAAA,gBAAAA,EAAkB,MAJNH;AAKZ5T,QAAAA,MAAAA,EAAQf,KAAKsC,MAALtC,CAAYe,MAAZf,GAAqB;AALjB2U,OAAhB3U,CAJAA,EASiC,CAG7BA,KAAKsC,MAALtC,CAAYa,UAAZb,IAA0BA,KAAKsC,MAALtC,CAAYiC,YAHT,KAI7BjC,KAAK2T,KAAL3T,CAAWA,KAAK2U,OAAhB3U,EAAgB2U;AACZzN,QAAAA,KAAAA,EAAO,MADKyN;AAEZI,QAAAA,SAAAA,EAAW/U,KAAKsC,MAALtC,CAAYgB,aAAZhB,GAA4B,QAA5BA,GAAuC,MAFtC2U;AAGZK,QAAAA,SAAAA,EAAW;AAHCL,OAAhB3U,CAbJA,EAoBAA,KAAKiV,kBAALjV,EApBAA;AAoBKiV,KApCFzR;AAuCP0R,IAAAA,WAAAA,EAAa,UAAUrR,CAAV,EAAasR,CAAb,EAAaA;AAAAA,OACrBA,CADqBA,IACRtR,CAAAA,CAAEuR,cAAFvR,EADQsR;AAGtB,UAMIxR,CANJ;AAAA,UAAI0R,CAAAA,GAAUxR,CAAAA,CAAEyR,aAAFzR,GAAkBA,CAAAA,CAAEyR,aAAFzR,CAAgB,CAAhBA,EAAmBwR,OAArCxR,GAA+CA,CAAAA,CAAEwR,OAA/D;AAAA,UACIE,CAAAA,GAAOvV,KAAK2U,OAAL3U,CAAawV,qBAAbxV,EADX;AAAA,UAGI8G,CAAAA,GAAe9G,KAAKkH,KAHxB;AAAA,UAIIF,CAAAA,GAAchH,KAAKiH,QAALjH,EAJlB;AAkBA,aAAA,CAVKA,KAAKsC,MAALtC,CAAYa,UAUjB,IAV+BiG,CAAAA,GAAeE,CAU9C,IATIrD,CAAAA,GAAAA,CAAa0R,CAAAA,GAAUE,CAAAA,CAAKE,IAA5B9R,IAAoC3D,KAAKsC,MAALtC,CAAYwB,UAAhDmC,GAA6DmD,CAA7DnD,IAA8E,CAA9EA,EAEIA,CAAAA,GAAW,CAAXA,KACAA,CAAAA,GAAW,CADXA,CAOR,IAHIA,CAAAA,GAAAA,CAAa0R,CAAAA,GAAUE,CAAAA,CAAKE,IAAfJ,GAAsBrV,KAAK2U,OAAL3U,CAAa0V,UAAhD/R,IAA8D3D,KAAK2U,OAAL3U,CAAa2V,WAA3EhS,IAA2F,CAG/F,EAAOA,CAAP;AAAOA,KA5DJH;AA+DPyR,IAAAA,kBAAAA,EAAoB,YAAA;AAChB,UAAI7R,CAAAA,GAAKpD,IAAT;AAEAA,WAAK2U,OAAL3U,CAAawI,gBAAbxI,CAA8B,OAA9BA,EAAuC,UAAU6D,CAAV,EAAUA;AAC7C,YAAI+R,CAAAA,GAAkBxS,CAAAA,CAAGuR,OAAHvR,CAAWyS,YAAXzS,GAA0BA,CAAAA,CAAGuR,OAAHvR,CAAW0S,YAA3D;;AACA,YAAuB,KAAnBF,CAAJ,EAA0B;AAEtB,cAAIL,CAAAA,GAAOnS,CAAAA,CAAGuR,OAAHvR,CAAWoS,qBAAXpS,EAAX;AACA,cAAIS,CAAAA,CAAEkS,OAAFlS,IAAa0R,CAAAA,CAAKS,MAALT,GAAcK,CAA/B,EAEI;AAIJxS;;AAAAA,QAAAA,CAAAA,CAAGd,MAAHc,CAAUnC,QAAVmC,IACAA,CAAAA,CAAGY,SAAHZ,CAAa,OAAbA,EAAsBS,CAAtBT,EAAyBA,CAAAA,CAAG8R,WAAH9R,CAAeS,CAAfT,CAAzBA,CADAA;AACwCS,OAZhD7D,GAgBAA,KAAK2U,OAAL3U,CAAawI,gBAAbxI,CAA8B,QAA9BA,EAAwC,UAAU6D,CAAV,EAAUA;AAC9CT,QAAAA,CAAAA,CAAGY,SAAHZ,CAAa,QAAbA,EAAuBS,CAAvBT;AAAuBS,OAD3B7D,CAhBAA;AAiB2B6D,KAnFxBL;AAuFPkE,IAAAA,SAAAA,EAAW,UAAUF,CAAV,EAAiBD,CAAjB,EAAyB7C,CAAzB,EAAgCC,CAAhC,EAAgCA;AACvC3E,WAAK2L,QAAL3L,CAAcuH,CAAdvH,GAEAA,KAAKsC,MAALtC,CAAYiW,QAAZjW,GACIA,KAAKkW,QAALlW,CAAcwH,CAAdxH,EAAqB,CAArBA,EAAwB0E,CAAxB1E,EAA+B2E,CAA/B3E,CADJA,GAEIA,KAAKmW,QAALnW,CAAcwH,CAAdxH,EAAqB,CAArBA,EAAwB0E,CAAxB1E,EAA+B2E,CAA/B3E,CAJJA;AAImC2E,KA5FhCnB;AA+FPmQ,IAAAA,KAAAA,EAAO,UAAUyC,CAAV,EAAcC,CAAd,EAAcA;AACjB/S,aAAAA,MAAAA,CAAO+I,IAAP/I,CAAY+S,CAAZ/S,EAAoBkI,OAApBlI,CAA4B,UAAUgT,CAAV,EAAUA;AAC9BF,QAAAA,CAAAA,CAAGzC,KAAHyC,CAASE,CAATF,MAAmBC,CAAAA,CAAOC,CAAPD,CAAnBD,KACAA,CAAAA,CAAGzC,KAAHyC,CAASE,CAATF,IAAiBC,CAAAA,CAAOC,CAAPD,CADjBD;AACwBE,OAFhChT,GAKO8S,CALP9S;AAKO8S,KArGJ5S;AAwGP+S,IAAAA,WAAAA,EAAa,YAAA;AACY,eAAjBvW,KAAK2U,OAAY,KACjB3U,KAAK2U,OAAL3U,CAAa0V,UAAb1V,GAA0B,CADT;AACS,KA1G3BwD;AA8GPoC,IAAAA,QAAAA,EAAU,UAAU4Q,CAAV,EAAUA;AAChB,UAAIlR,CAAAA,GAAWtF,KAAK2U,OAAL3U,CAAa2V,WAAb3V,GAA2BwW,CAA1C;AACAxW,WAAKyW,kBAALzW,CAAwBsF,CAAxBtF,EAAwBsF,CAAU,CAAlCtF;AAAkC,KAhH/BwD;AAmHPiT,IAAAA,kBAAAA,EAAoB,UAAUnR,CAAV,EAAoBoH,CAApB,EAAoBA;AACpC,UAAIgJ,CAAAA,GAAa1V,KAAK2U,OAAL3U,CAAa0V,UAA9B;AAAA,UACIgB,CAAAA,GAAAA,CAAAA,EAAU1W,KAAK2U,OAAL3U,CAAa2W,WAAb3W,GAA2B,CAArC0W,CADJ;AAAA,UAEIhO,CAAAA,GAASpD,CAAAA,GAAWoR,CAFxB;AAAA,UAGIrR,CAAAA,GAASqD,CAAAA,GAASgN,CAHtB;AAAA,UAIIkB,CAAAA,GAAY5W,KAAK2U,OAAL3U,CAAa2V,WAAb3V,GAA2BA,KAAK2U,OAAL3U,CAAa2W,WAJxD;;AAMA,UAAiB,KAAbC,CAAJ,EAAA;AAMA,YAAA,CAAKlK,CAAL,IAAKA,CAAcgK,CAAdhK,IAAsBrH,CAA3B,IAAqCA,CAAAA,GAASqR,CAA9C,EAAoD;AAEhD,cAAItQ,CAAAA,GAAO,CAAX;AACAf,UAAAA,CAAAA,GAASG,IAAAA,CAAKC,GAALD,CAAKC,CAAKW,CAAVZ,EAAgBA,IAAAA,CAAKE,GAALF,CAASY,CAATZ,EAAeH,CAAfG,CAAhBA,CAATH,EACAqD,CAAAA,GAASgN,CAAAA,GAAarQ,CADtBA;AAKJqD;;AAAAA,QAAAA,CAAAA,GAASlD,IAAAA,CAAKC,GAALD,CAAS,CAATA,EAAYA,IAAAA,CAAKE,GAALF,CAASoR,CAATpR,EAAoBkD,CAApBlD,CAAZA,CAATkD,EAEIA,CAAAA,IAAUgN,CAAVhN,KACA1I,KAAK2U,OAAL3U,CAAa0V,UAAb1V,GAA0B0I,CAD1BA,CAFJA;AAG8BA;AAAAA,KA3I3BlF;AAgJP2D,IAAAA,UAAAA,EAAY,YAAA;AACR,aAAO3B,IAAAA,CAAKuB,KAALvB,CAAWxF,KAAK2U,OAAL3U,CAAa0V,UAAb1V,GAA0BA,KAAKsC,MAALtC,CAAYwB,UAAjDgE,CAAP;AAAwDhE,KAjJrDgC;AAoJPyD,IAAAA,QAAAA,EAAU,YAAA;AACN,aAAOzB,IAAAA,CAAKuB,KAALvB,CAAWxF,KAAKS,SAALT,CAAe2W,WAAf3W,GAA6BA,KAAKsC,MAALtC,CAAYwB,UAApDgE,CAAP;AAA2DhE,KArJxDgC;AAwJPmI,IAAAA,QAAAA,EAAU,UAAUzE,CAAV,EAAUA;AACZlH,WAAKkH,KAALlH,IAAckH,CAAdlH,KAIJA,KAAKkH,KAALlH,GAAakH,CAAblH,EAEIA,KAAKsC,MAALtC,CAAYa,UAAZb,IAA0BA,KAAKsC,MAALtC,CAAYiC,YAAtCjC,GACAA,KAAK2T,KAAL3T,CAAWA,KAAK2U,OAAhB3U,EAAgB2U;AACZzN,QAAAA,KAAAA,EAAO;AADKyN,OAAhB3U,CADAA,GAKAA,KAAK2T,KAAL3T,CAAWA,KAAK2U,OAAhB3U,EAAgB2U;AACZzN,QAAAA,KAAAA,EAAAA,CAAAA,EAAUlH,KAAKkH,KAALlH,GAAaA,KAAKsC,MAALtC,CAAYwB,UAAnC0F,CAAAA,GAAiD;AADrCyN,OAAhB3U,CAPJA,EAYAA,KAAK6W,UAAL7W,EAhBIA;AAgBC6W,KAzKFrT;AA4KPsT,IAAAA,SAAAA,EAAW,UAAU/V,CAAV,EAAUA;AACbA,MAAAA,CAAAA,IAAUf,KAAKe,MAAfA,KACJf,KAAKe,MAALf,GAAce,CAAdf,EACAA,KAAK2T,KAAL3T,CAAWA,KAAK2U,OAAhB3U,EAAgB2U;AACZ5T,QAAAA,MAAAA,EAAAA,CAAAA,EAAWf,KAAKe,MAALf,GAAcA,KAAKsC,MAALtC,CAAYwB,UAArCT,CAAAA,GAAmD;AADvC4T,OAAhB3U,CADAA,EAIAA,KAAK6W,UAAL7W,EALIe;AAKC8V,KAlLFrT;AAqLPG,IAAAA,QAAAA,EAAU,UAAUA,CAAV,EAAUA;AAChB,UAAIoT,CAAAA,GAAa,IAAI/W,KAAKsC,MAALtC,CAAYwB,UAAjC;AAAA,UACIwV,CAAAA,GAAMxR,IAAAA,CAAKuB,KAALvB,CAAW7B,CAAAA,GAAW3D,KAAKkH,KAA3B1B,IAAoCuR,CAD9C;;AAGA,UAAIC,CAAAA,GAAMhX,KAAKuU,OAAXyC,IAAsBA,CAAAA,GAAMhX,KAAKuU,OAAXyC,IAAsBD,CAAhD,EAA4D;AAGxD,YAFA/W,KAAKuU,OAALvU,GAAegX,CAAfhX,EAEIA,KAAKsC,MAALtC,CAAYiC,YAAZjC,IAA4BA,KAAKsC,MAALtC,CAAYK,UAA5C,EAAwD;AACpD,cAAI4W,CAAAA,GAAAA,CAAAA,EAAYjX,KAAK2U,OAAL3U,CAAa2V,WAAb3V,GAA2B2D,CAAvCsT,CAAJ;AACAjX,eAAKyW,kBAALzW,CAAwBiX,CAAxBjX;AAGJA;;AAAAA,aAAKkX,cAALlX,CAAoBgX,CAApBhX;AAAoBgX;AAAAA,KAjMrBxT;AAqMPS,IAAAA,OAAAA,EAAS,YAAA;AACLjE,WAAK4L,KAAL5L,IACIA,KAAK2U,OAAL3U,KACAA,KAAKS,SAALT,CAAe6T,WAAf7T,CAA2BA,KAAK2U,OAAhC3U,GACAA,KAAK2U,OAAL3U,GAAe,IAFfA,CADJA;AAGmB,KAzMhBwD;AA8MPgR,IAAAA,UAAAA,EAAY,YAAA,CAAA,CA9MLhR;AAgNPkR,IAAAA,cAAAA,EAAgB,YAAA,CAAA,CAhNTlR;AAkNPqT,IAAAA,UAAAA,EAAY,YAAA,CAAA,CAlNLrT;AAoNP2S,IAAAA,QAAAA,EAAU,UAAU3O,CAAV,EAAiB/B,CAAjB,EAAiBA,CAAAA,CApNpBjC;AAsNP2T,IAAAA,SAAAA,EAAW,YAAA,CAAA,CAtNJ3T;AAwNP0T,IAAAA,cAAAA,EAAgB,UAAU5R,CAAV,EAAUA,CAAAA;AAxNnB9B,GA/3BXvD,EA0lCAA,CAAAA,CAAWsC,IAAXtC,CAAgBuC,MAAhBvC,CAAuBA,CAAAA,CAAWuD,MAAlCvD,EAA0CA,CAAAA,CAAWwN,QAArDxN,CA1lCAA,EA8lCAA,CAAAA,CAAWuD,MAAXvD,CAAkBmX,MAAlBnX,GAA2BqD,MAAAA,CAAOC,MAAPD,CAAcrD,CAAAA,CAAWuD,MAAzBF,CA9lC3BrD,EAgmCAA,CAAAA,CAAWsC,IAAXtC,CAAgBuC,MAAhBvC,CAAuBA,CAAAA,CAAWuD,MAAXvD,CAAkBmX,MAAzCnX,EAAyCmX;AACrC1C,IAAAA,cAAAA,EAAgB,YAAA;AACZ,UAAI2C,CAAAA,GAAarX,KAAK2U,OAAL3U,CAAa8T,WAAb9T,CACbA,KAAK2T,KAAL3T,CAAWyC,QAAAA,CAAS+Q,aAAT/Q,CAAuB,QAAvBA,CAAXzC,EAAkC;AAC9BsF,QAAAA,QAAAA,EAAU,UADoB;AAE9BgS,QAAAA,MAAAA,EAAQ,CAFsB;AAG9B7B,QAAAA,IAAAA,EAAM,CAHwB;AAI9B8B,QAAAA,GAAAA,EAAK,CAJyB;AAK9BvB,QAAAA,MAAAA,EAAQ;AALsB,OAAlChW,CADaA,CAAjB;;AA4BA,UAnBAA,KAAKwX,MAALxX,GAAcqX,CAAAA,CAAWI,UAAXJ,CAAsB,IAAtBA,CAAdrX,EAEAA,KAAK0X,YAAL1X,GAAoBA,KAAK2U,OAAL3U,CAAa8T,WAAb9T,CAChBA,KAAK2T,KAAL3T,CAAWyC,QAAAA,CAAS+Q,aAAT/Q,CAAuB,MAAvBA,CAAXzC,EAAkC;AAC9BsF,QAAAA,QAAAA,EAAU,UADoB;AAE9BgS,QAAAA,MAAAA,EAAQ,CAFsB;AAG9B7B,QAAAA,IAAAA,EAAM,CAHwB;AAI9B8B,QAAAA,GAAAA,EAAK,CAJyB;AAK9BvB,QAAAA,MAAAA,EAAQ,CALsB;AAM9B2B,QAAAA,QAAAA,EAAU,QANoB;AAO9BzQ,QAAAA,KAAAA,EAAO,GAPuB;AAQ9B0N,QAAAA,OAAAA,EAAS,MARqB;AAS9BgD,QAAAA,SAAAA,EAAW,YATmB;AAU9BC,QAAAA,gBAAAA,EAAkB,OAVY;AAW9BC,QAAAA,gBAAAA,EAAkB9X,KAAKsC,MAALtC,CAAYW,WAAZX,GAA0B,IAXd;AAY9B+X,QAAAA,gBAAAA,EAAkB/X,KAAKsC,MAALtC,CAAYU;AAZA,OAAlCV,CADgBA,CAFpBA,EAmBIA,KAAKsC,MAALtC,CAAYoC,SAAZpC,IAAyBA,KAAKsC,MAALtC,CAAY8B,aAAzC,EAAwD;AACpD,YAAIkW,CAAAA,GAAiBhY,KAAK0X,YAAL1X,CAAkB8T,WAAlB9T,CACjByC,QAAAA,CAAS+Q,aAAT/Q,CAAuB,QAAvBA,CADiBzC,CAArB;AAGAA,aAAKiY,UAALjY,GAAkBgY,CAAAA,CAAeP,UAAfO,CAA0B,IAA1BA,CAAlBhY;AAA4C;AAAA,KAlCfoX;AAsCrCP,IAAAA,UAAAA,EAAY,YAAA;AACR,UAAI3P,CAAAA,GAAQ1B,IAAAA,CAAKuB,KAALvB,CAAWxF,KAAKkH,KAALlH,GAAaA,KAAKsC,MAALtC,CAAYwB,UAApCgE,CAAZ;AAEAxF,WAAKwX,MAALxX,CAAYkY,MAAZlY,CAAmBkH,KAAnBlH,GAA2BA,KAAKkH,KAAhClH,EACAA,KAAKwX,MAALxX,CAAYkY,MAAZlY,CAAmBe,MAAnBf,GAA4BA,KAAKe,MADjCf,EAEAA,KAAK2T,KAAL3T,CAAWA,KAAKwX,MAALxX,CAAYkY,MAAvBlY,EAAuBkY;AAAUhR,QAAAA,KAAAA,EAAOA,CAAAA,GAAQ;AAAzBgR,OAAvBlY,CAFAA,EAIAA,KAAK2T,KAAL3T,CAAWA,KAAK0X,YAAhB1X,EAAgB0X;AAAgB9C,QAAAA,OAAAA,EAAS;AAAzB8C,OAAhB1X,CAJAA,EAMIA,KAAKiY,UAALjY,KACAA,KAAKiY,UAALjY,CAAgBkY,MAAhBlY,CAAuBkH,KAAvBlH,GAA+BA,KAAKkH,KAApClH,EACAA,KAAKiY,UAALjY,CAAgBkY,MAAhBlY,CAAuBe,MAAvBf,GAAgCA,KAAKe,MADrCf,EAEAA,KAAK2T,KAAL3T,CAAWA,KAAKiY,UAALjY,CAAgBkY,MAA3BlY,EAA2BkY;AAAUhR,QAAAA,KAAAA,EAAOA,CAAAA,GAAQ;AAAzBgR,OAA3BlY,CAHAA,CANJA,EAYAA,KAAKmX,SAALnX,EAZAA;AAYKmX,KArD4BC;AAwDrCD,IAAAA,SAAAA,EAAW,YAAA;AACPnX,WAAKwX,MAALxX,CAAYmY,SAAZnY,CAAsB,CAAtBA,EAAyB,CAAzBA,EAA4BA,KAAKkH,KAAjClH,EAAwCA,KAAKe,MAA7Cf,GACIA,KAAKiY,UAALjY,IACAA,KAAKiY,UAALjY,CAAgBmY,SAAhBnY,CAA0B,CAA1BA,EAA6B,CAA7BA,EAAgCA,KAAKkH,KAArClH,EAA4CA,KAAKe,MAAjDf,CAFJA;AAEqDe,KA3DpBqW;AA+DrClB,IAAAA,QAAAA,EAAU,UAAU1O,CAAV,EAAiB4Q,CAAjB,EAA+B1T,CAA/B,EAAsCC,CAAtC,EAAsCA;AAC5C,UAAIvB,CAAAA,GAAKpD,IAAT;;AAEA,UAAIwH,CAAAA,CAAM,CAANA,CAAAA,YAAoBwE,KAAxB,EAA+B;AAC3B,YAAI6F,CAAAA,GAAWrK,CAAf;AACA,YAAIxH,KAAKsC,MAALtC,CAAYmC,aAAhB,EACInC,OAAAA,KAAK8W,SAAL9W,CAAe6R,CAAAA,CAAStK,MAATsK,GAAkB7R,KAAKsC,MAALtC,CAAYe,MAA9B8Q,GAAuC7R,KAAKsC,MAALtC,CAAYwB,UAAlExB,GAAkEwB,KAClEqQ,CAAAA,CAASrG,OAATqG,CAAiB,UAASwG,CAAT,EAAuB/Q,CAAvB,EAAuBA;AACpClE,UAAAA,CAAAA,CAAG8S,QAAH9S,CAAYiV,CAAZjV,EAA0BkE,CAA1BlE,EAA6BsB,CAA7BtB,EAAoCuB,CAApCvB;AAAoCuB,SADxCkN,CADA7R;AAMAwH,QAAAA,CAAAA,GAAQqK,CAAAA,CAAS,CAATA,CAARrK;AAMR;;AAAA,UAAI8Q,CAAAA,GAAAA,GAAgBC,IAAhBD,CAAqB7N,IAArB6N,CAA0B9Q,CAA1B8Q,EAAiC,UAAU5N,CAAV,EAAUA;AAAO,eAAOA,CAAAA,GAAM,CAAb;AAAa,OAA/D4N,CAAJ;AAAA,UAEIE,CAAAA,GAAiB,CAFrB;AAGIF,MAAAA,CAAAA,KACAE,CAAAA,GAAiB,CADjBF,CAAAA;AAKJ,UAAIG,CAAAA,GAAI,KAAMzY,KAAKsC,MAALtC,CAAYwB,UAA1B;AAAA,UACI0F,CAAAA,GAAQlH,KAAKkH,KADjB;AAAA,UAEInG,CAAAA,GAASf,KAAKsC,MAALtC,CAAYe,MAAZf,GAAqBA,KAAKsC,MAALtC,CAAYwB,UAF9C;AAAA,UAGIkX,CAAAA,GAAU3X,CAAAA,GAASqX,CAATrX,IAAyB,CAHvC;AAAA,UAII4X,CAAAA,GAAQ5X,CAAAA,GAAS,CAJrB;AAAA,UAKIwG,CAAAA,GAASC,CAAAA,CAAMD,MAANC,GAAegR,CAL5B;AAAA,UAMII,CAAAA,GAAM5Y,KAAKsC,MAALtC,CAAYiW,QAAZjW,GAAuBA,KAAKsC,MAALtC,CAAYwB,UAN7C;AAAA,UAOIqX,CAAAA,GAAMrT,IAAAA,CAAKC,GAALD,CAASxF,KAAKsC,MAALtC,CAAYwB,UAArBgE,EAAqBhE,CAAAA,EAAeoX,CAAAA,GAAM,CAArBpX,CAArBgE,CAPV;AAAA,UAQIsT,CAAAA,GAAOF,CAAAA,GAAMC,CARjB;AAAA,UAUIE,CAAAA,GAAS,IAAI/Y,KAAKsC,MAALtC,CAAYO,SAV7B;;AAWA,UAAIP,KAAKsC,MAALtC,CAAY+B,SAAhB,EAA2B;AACvB,YAAI0D,CAAAA,GAAMxF,CAAAA,CAAWsC,IAAXtC,CAAgBwF,GAAhBxF,CAAoBuH,CAApBvH,CAAV;AAAA,YACIyF,CAAAA,GAAMzF,CAAAA,CAAWsC,IAAXtC,CAAgByF,GAAhBzF,CAAoBuH,CAApBvH,CADV;AAEA8Y,QAAAA,CAAAA,GAAAA,CAAUrT,CAAVqT,GAAgBtT,CAAhBsT,GAAgBtT,CAAOC,CAAvBqT,GAA6BtT,CAA7BsT;AAGJ;;AAAA,UAAIC,CAAAA,GAAQzR,CAAAA,GAASL,CAArB;AAEAlH,WAAKwX,MAALxX,CAAYiZ,SAAZjZ,GAAwBA,KAAKsC,MAALtC,CAAYoC,SAApCpC,EACIA,KAAKiY,UAALjY,KACAA,KAAKiY,UAALjY,CAAgBiZ,SAAhBjZ,GAA4BA,KAAKsC,MAALtC,CAAY8B,aADxC9B,CADJA,EAE4C8B,CAG1C9B,KAAKwX,MAHqC1V,EAG7B9B,KAAKiY,UAHwBnW,EAGX0J,OAHW1J,CAGH,UAAUoX,CAAV,EAAUA;AAC/C,YAAKA,CAAL,EAEA,KAAK,IAAI5R,CAAAA,GAAK5C,CAAAA,GAAQsU,CAAtB,EAA8B1R,CAAAA,GAAK3C,CAAAA,GAAMqU,CAAzC,EAAiD1R,CAAAA,IAAKwR,CAAtD,EAA4D;AACxD,cAAIK,CAAAA,GAAO3R,CAAAA,CAAMhC,IAAAA,CAAK4T,KAAL5T,CAAW8B,CAAAA,GAAI0R,CAAJ1R,GAAYkR,CAAvBhT,CAANgC,CAAAA,IAAiD,CAA5D;AAAA,cACI6R,CAAAA,GAAI7T,IAAAA,CAAKuB,KAALvB,CAAW2T,CAAAA,GAAOJ,CAAPI,GAAgBR,CAA3BnT,CADR;AAEA0T,UAAAA,CAAAA,CAAGI,QAAHJ,CAAY5R,CAAAA,GAAImR,CAAhBS,EAAmBP,CAAAA,GAAQU,CAARV,GAAYD,CAA/BQ,EAAwCN,CAAAA,GAAMH,CAA9CS,EAAqD,IAAJG,CAAjDH;AAAiDG;AAAAA,OATbvX,EAWzC9B,IAXyC8B,CAF5C9B;AAaGA,KAzH8BoX;AA4HrCjB,IAAAA,QAAAA,EAAU,UAAU3O,CAAV,EAAiB4Q,CAAjB,EAA+B1T,CAA/B,EAAsCC,CAAtC,EAAsCA;AAC5C,UAAIvB,CAAAA,GAAKpD,IAAT;;AAEA,UAAIwH,CAAAA,CAAM,CAANA,CAAAA,YAAoBwE,KAAxB,EAA+B;AAC3B,YAAI6F,CAAAA,GAAWrK,CAAf;AACA,YAAIxH,KAAKsC,MAALtC,CAAYmC,aAAhB,EACInC,OAAAA,KAAK8W,SAAL9W,CAAe6R,CAAAA,CAAStK,MAATsK,GAAkB7R,KAAKsC,MAALtC,CAAYe,MAA9B8Q,GAAuC7R,KAAKsC,MAALtC,CAAYwB,UAAlExB,GAAkEwB,KAClEqQ,CAAAA,CAASrG,OAATqG,CAAiB,UAASwG,CAAT,EAAuB/Q,CAAvB,EAAuBA;AACpClE,UAAAA,CAAAA,CAAG+S,QAAH/S,CAAYiV,CAAZjV,EAA0BkE,CAA1BlE,EAA6BsB,CAA7BtB,EAAoCuB,CAApCvB;AAAoCuB,SADxCkN,CADA7R;AAMAwH,QAAAA,CAAAA,GAAQqK,CAAAA,CAAS,CAATA,CAARrK;AAKR;;AAAA,UAAI+R,CAAAA,GAAAA,GAAkBhB,IAAlBgB,CAAuB9O,IAAvB8O,CAA4B/R,CAA5B+R,EAAmC,UAAU7O,CAAV,EAAUA;AAAO,eAAOA,CAAAA,GAAM,CAAb;AAAa,OAAjE6O,CAAJ;;AACA,UAAA,CAAKA,CAAL,EAAmB;AAEf,aADIC,IAAAA,CAAAA,GAAAA,EAAAA,EACKlS,CAAAA,GAAI,CADTkS,EACYC,CAAAA,GAAMjS,CAAAA,CAAMD,MAA5B,EAAoCD,CAAAA,GAAImS,CAAxC,EAA6CnS,CAAAA,EAA7C,EACIkS,CAAAA,CAAe,IAAIlS,CAAnBkS,CAAAA,GAAwBhS,CAAAA,CAAMF,CAANE,CAAxBgS,EACAA,CAAAA,CAAe,IAAIlS,CAAJ,GAAQ,CAAvBkS,CAAAA,GAAuB,CAAMhS,CAAAA,CAAMF,CAANE,CAD7BgS;;AAGJhS,QAAAA,CAAAA,GAAQgS,CAARhS;AAIJ;;AAAA,UAAIiR,CAAAA,GAAI,KAAMzY,KAAKsC,MAALtC,CAAYwB,UAA1B;AAAA,UACIT,CAAAA,GAASf,KAAKsC,MAALtC,CAAYe,MAAZf,GAAqBA,KAAKsC,MAALtC,CAAYwB,UAD9C;AAAA,UAEIkX,CAAAA,GAAU3X,CAAAA,GAASqX,CAATrX,IAAyB,CAFvC;AAAA,UAGI4X,CAAAA,GAAQ5X,CAAAA,GAAS,CAHrB;AAAA,UAIIwG,CAAAA,GAAAA,CAAAA,EAAYC,CAAAA,CAAMD,MAANC,GAAe,CAA3BD,CAJJ;AAAA,UAMIyR,CAAAA,GAAQ,CANZ;AAOIhZ,WAAKsC,MAALtC,CAAYa,UAAZb,IAA0BA,KAAKkH,KAALlH,IAAcuH,CAAxCvH,KACAgZ,CAAAA,GAAQhZ,KAAKkH,KAALlH,GAAauH,CADrBvH;AAIJ,UAAI+Y,CAAAA,GAAS,IAAI/Y,KAAKsC,MAALtC,CAAYO,SAA7B;;AACA,UAAIP,KAAKsC,MAALtC,CAAY+B,SAAhB,EAA2B;AACvB,YAAI0D,CAAAA,GAAMxF,CAAAA,CAAWsC,IAAXtC,CAAgBwF,GAAhBxF,CAAoBuH,CAApBvH,CAAV;AAAA,YACIyF,CAAAA,GAAMzF,CAAAA,CAAWsC,IAAXtC,CAAgByF,GAAhBzF,CAAoBuH,CAApBvH,CADV;AAEA8Y,QAAAA,CAAAA,GAAAA,CAAUrT,CAAVqT,GAAgBtT,CAAhBsT,GAAgBtT,CAAOC,CAAvBqT,GAA6BtT,CAA7BsT;AAGJ/Y;;AAAAA,WAAKwX,MAALxX,CAAYiZ,SAAZjZ,GAAwBA,KAAKsC,MAALtC,CAAYoC,SAApCpC,EACIA,KAAKiY,UAALjY,KACAA,KAAKiY,UAALjY,CAAgBiZ,SAAhBjZ,GAA4BA,KAAKsC,MAALtC,CAAY8B,aADxC9B,CADJA,EAE4C8B,CAG1C9B,KAAKwX,MAHqC1V,EAG7B9B,KAAKiY,UAHwBnW,EAGX0J,OAHW1J,CAGH,UAAUoX,CAAV,EAAUA;AAC/C,YAAKA,CAAL,EAAA;AAEAA,UAAAA,CAAAA,CAAGQ,SAAHR,IACAA,CAAAA,CAAGS,MAAHT,CAAUxU,CAAAA,GAAQsU,CAARtU,GAAgB+T,CAA1BS,EAA6BP,CAAAA,GAAQD,CAArCQ,CADAA;;AAGA,eAAK,IAAI5R,CAAAA,GAAI5C,CAAb,EAAoB4C,CAAAA,GAAI3C,CAAxB,EAA6B2C,CAAAA,EAA7B,EAAkC;AAC9B,gBAAI+R,CAAAA,GAAI7T,IAAAA,CAAKuB,KAALvB,CAAWgC,CAAAA,CAAM,IAAIF,CAAVE,CAAAA,GAAeuR,CAAfvR,GAAwBmR,CAAnCnT,CAAR;AACA0T,YAAAA,CAAAA,CAAGU,MAAHV,CAAU5R,CAAAA,GAAI0R,CAAJ1R,GAAYmR,CAAtBS,EAAyBP,CAAAA,GAAQU,CAARV,GAAYD,CAArCQ;AAKJ;;AAAA,eAAK,IAAI5R,CAAAA,GAAI3C,CAAAA,GAAM,CAAnB,EAAsB2C,CAAAA,IAAK5C,CAA3B,EAAkC4C,CAAAA,EAAlC,EAAuC;AACnC,gBAAI+R,CAAAA,GAAI7T,IAAAA,CAAKuB,KAALvB,CAAWgC,CAAAA,CAAM,IAAIF,CAAJ,GAAQ,CAAdE,CAAAA,GAAmBuR,CAAnBvR,GAA4BmR,CAAvCnT,CAAR;AACA0T,YAAAA,CAAAA,CAAGU,MAAHV,CAAU5R,CAAAA,GAAI0R,CAAJ1R,GAAYmR,CAAtBS,EAAyBP,CAAAA,GAAQU,CAARV,GAAYD,CAArCQ;AAGJA;;AAAAA,UAAAA,CAAAA,CAAGW,SAAHX,IACAA,CAAAA,CAAGY,IAAHZ,EADAA,EAIAA,CAAAA,CAAGI,QAAHJ,CAAY,CAAZA,EAAeP,CAAAA,GAAQD,CAARC,GAAkBF,CAAjCS,EAAoClZ,KAAKkH,KAAzCgS,EAAgDT,CAAhDS,CAJAA;AAIgDT;AAAAA,OAzBR3W,EA0BzC9B,IA1ByC8B,CAF5C9B;AA4BGA,KAtM8BoX;AAyMrCF,IAAAA,cAAAA,EAAgB,UAAUF,CAAV,EAAUA;AACtBhX,WAAK2T,KAAL3T,CAAWA,KAAK0X,YAAhB1X,EAAgB0X;AAAgBxQ,QAAAA,KAAAA,EAAO8P,CAAAA,GAAM;AAA7BU,OAAhB1X;AAA6C,KA1MZoX;AA6MrCjM,IAAAA,QAAAA,EAAU,UAAS4O,CAAT,EAAe7O,CAAf,EAAeA;AACrB,aAAOlL,KAAKwX,MAALxX,CAAYkY,MAAZlY,CAAmBga,SAAnBha,CAA6B+Z,CAA7B/Z,EAAmCkL,CAAnClL,CAAP;AAA0CkL;AA9MTkM,GAAzCnX,CAhmCAA,EAozCAA,CAAAA,CAAWuD,MAAXvD,CAAkBga,WAAlBha,GAAgCqD,MAAAA,CAAOC,MAAPD,CAAcrD,CAAAA,CAAWuD,MAAzBF,CApzChCrD,EAszCAA,CAAAA,CAAWsC,IAAXtC,CAAgBuC,MAAhBvC,CAAuBA,CAAAA,CAAWuD,MAAXvD,CAAkBga,WAAzCha,EAAyCga;AAErCzF,IAAAA,UAAAA,EAAY,UAAUlS,CAAV,EAAUA;AAIlB,UAHAtC,KAAKka,cAALla,GAA+C,QAAzBsC,CAAAA,CAAO4X,cAAkB,GAAO5X,CAAAA,CAAO4X,cAAd,GAA+B,GAA9Ela,EACAA,KAAKma,qBAALna,GAA6BwF,IAAAA,CAAKuB,KAALvB,CAAWxF,KAAKka,cAALla,GAAsBA,KAAKsC,MAALtC,CAAYwB,UAA7CgE,CAD7BxF,EAGIA,KAAKka,cAALla,IAAuB,CAA3B,EACI,MAAM,wCAAN;AACG,UAAIA,KAAKka,cAALla,GAAsB,CAAtBA,IAA2B,CAA/B,EACH,MAAM,wCAAN;AAGJA,WAAKoa,iBAALpa,GAAyBA,KAAKsC,MAALtC,CAAYoC,SAAZpC,IAAyBA,KAAKsC,MAALtC,CAAY8B,aAA9D9B,EACAA,KAAKqa,SAALra,GAAiB,KAAMA,KAAKsC,MAALtC,CAAYwB,UADnCxB,EAEAA,KAAKsa,QAALta,GAAKsa,EAFLta;AAEKsa,KAd4BL;AAiBrCvF,IAAAA,cAAAA,EAAgB,YAAA;AACZ1U,WAAK0X,YAAL1X,GAAoBA,KAAK2U,OAAL3U,CAAa8T,WAAb9T,CAChBA,KAAK2T,KAAL3T,CAAWyC,QAAAA,CAAS+Q,aAAT/Q,CAAuB,MAAvBA,CAAXzC,EAAkC;AAC9BsF,QAAAA,QAAAA,EAAU,UADoB;AAE9BgS,QAAAA,MAAAA,EAAQ,CAFsB;AAG9B7B,QAAAA,IAAAA,EAAM,CAHwB;AAI9B8B,QAAAA,GAAAA,EAAK,CAJyB;AAK9BvB,QAAAA,MAAAA,EAAQ,CALsB;AAM9B2B,QAAAA,QAAAA,EAAU,QANoB;AAO9BzQ,QAAAA,KAAAA,EAAO,GAPuB;AAQ9B0N,QAAAA,OAAAA,EAAS,MARqB;AAS9BgD,QAAAA,SAAAA,EAAW,YATmB;AAU9BC,QAAAA,gBAAAA,EAAkB,OAVY;AAW9BC,QAAAA,gBAAAA,EAAkB9X,KAAKsC,MAALtC,CAAYW,WAAZX,GAA0B,IAXd;AAY9B+X,QAAAA,gBAAAA,EAAkB/X,KAAKsC,MAALtC,CAAYU;AAZA,OAAlCV,CADgBA,CAApBA,EAiBAA,KAAKua,SAALva,EAjBAA;AAiBKua,KAnC4BN;AAsCrCpD,IAAAA,UAAAA,EAAY,YAAA;AAIR,WAHA,IAAI2D,CAAAA,GAAahV,IAAAA,CAAKuB,KAALvB,CAAWxF,KAAKkH,KAALlH,GAAaA,KAAKsC,MAALtC,CAAYwB,UAApCgE,CAAjB,EACIiV,CAAAA,GAAmBjV,IAAAA,CAAKkV,IAALlV,CAAUgV,CAAAA,GAAaxa,KAAKma,qBAA5B3U,CAEvB,EAAOxF,KAAKsa,QAALta,CAAcuH,MAAdvH,GAAuBya,CAA9B,GACIza,KAAKua,SAALva;;AAGJ,aAAOA,KAAKsa,QAALta,CAAcuH,MAAdvH,GAAuBya,CAA9B,GACIza,KAAK2a,YAAL3a;;AAGJ,WAAK,IAAIsH,CAAT,IAActH,KAAKsa,QAAnB,EAA6B;AAEzB,YAAIM,CAAAA,GAAc5a,KAAKka,cAALla,GAAsB,IAAIwF,IAAAA,CAAKkV,IAALlV,CAAUxF,KAAKsC,MAALtC,CAAYwB,UAAZxB,GAAyB,CAAnCwF,CAA5C;AAEI8B,QAAAA,CAAAA,IAAKtH,KAAKsa,QAALta,CAAcuH,MAAdvH,GAAuB,CAA5BsH,KACAsT,CAAAA,GAAc5a,KAAKkH,KAALlH,GAAcA,KAAKka,cAALla,IAAuBA,KAAKsa,QAALta,CAAcuH,MAAdvH,GAAuB,CAA9CA,CAD5BsH,GAIJtH,KAAK6a,gBAAL7a,CAAsBA,KAAKsa,QAALta,CAAcsH,CAAdtH,CAAtBA,EAAwC4a,CAAxC5a,EAAqDA,KAAKe,MAA1Df,CAJIsH,EAKJtH,KAAK8a,iBAAL9a,CAAuBA,KAAKsa,QAALta,CAAcsH,CAAdtH,CAAvBA,CALIsH;AAKiCA;AAAAA,KA3DR2S;AA+DrCM,IAAAA,SAAAA,EAAW,YAAA;AACP,UAAIQ,CAAAA,GAAAA,EAAJ;AAAA,UACIC,CAAAA,GAAahb,KAAKma,qBAALna,GAA6BA,KAAKsa,QAALta,CAAcuH,MAD5D;AAGAwT,MAAAA,CAAAA,CAAME,IAANF,GAAa/a,KAAK2U,OAAL3U,CAAa8T,WAAb9T,CACTA,KAAK2T,KAAL3T,CAAWyC,QAAAA,CAAS+Q,aAAT/Q,CAAuB,QAAvBA,CAAXzC,EAAkC;AAC9BsF,QAAAA,QAAAA,EAAU,UADoB;AAE9BgS,QAAAA,MAAAA,EAAQ,CAFsB;AAG9B7B,QAAAA,IAAAA,EAAMuF,CAAAA,GAAa,IAHW;AAI9BzD,QAAAA,GAAAA,EAAK,CAJyB;AAK9BvB,QAAAA,MAAAA,EAAQ,CALsB;AAM9BjV,QAAAA,MAAAA,EAAQ;AANsB,OAAlCf,CADSA,CAAb+a,EAUAA,CAAAA,CAAMG,OAANH,GAAgBA,CAAAA,CAAME,IAANF,CAAWtD,UAAXsD,CAAsB,IAAtBA,CAVhBA,EAYI/a,KAAKoa,iBAALpa,KACA+a,CAAAA,CAAMpX,QAANoX,GAAiB/a,KAAK0X,YAAL1X,CAAkB8T,WAAlB9T,CACbA,KAAK2T,KAAL3T,CAAWyC,QAAAA,CAAS+Q,aAAT/Q,CAAuB,QAAvBA,CAAXzC,EAAkC;AAC9BsF,QAAAA,QAAAA,EAAU,UADoB;AAE9BmQ,QAAAA,IAAAA,EAAMuF,CAAAA,GAAa,IAFW;AAG9BzD,QAAAA,GAAAA,EAAK,CAHyB;AAI9BvB,QAAAA,MAAAA,EAAQ,CAJsB;AAK9BjV,QAAAA,MAAAA,EAAQ;AALsB,OAAlCf,CADaA,CAAjB+a,EASAA,CAAAA,CAAMI,WAANJ,GAAoBA,CAAAA,CAAMpX,QAANoX,CAAetD,UAAfsD,CAA0B,IAA1BA,CAVpB/a,CAZJ+a,EAyBA/a,KAAKsa,QAALta,CAAcmJ,IAAdnJ,CAAmB+a,CAAnB/a,CAzBA+a;AAyBmBA,KA5Fcd;AA+FrCU,IAAAA,YAAAA,EAAc,YAAA;AACV,UAAIS,CAAAA,GAAYpb,KAAKsa,QAALta,CAAcqb,GAAdrb,EAAhB;AACAob,MAAAA,CAAAA,CAAUH,IAAVG,CAAeE,aAAfF,CAA6BvH,WAA7BuH,CAAyCA,CAAAA,CAAUH,IAAnDG,GACIpb,KAAKoa,iBAALpa,IACAob,CAAAA,CAAUzX,QAAVyX,CAAmBE,aAAnBF,CAAiCvH,WAAjCuH,CAA6CA,CAAAA,CAAUzX,QAAvDyX,CAFJA;AAE2DzX,KAnG1BsW;AAuGrCY,IAAAA,gBAAAA,EAAkB,UAAUE,CAAV,EAAiB7T,CAAjB,EAAwBnG,CAAxB,EAAwBA;AACtC,UAAIwa,CAAAA,GAAe/V,IAAAA,CAAKuB,KAALvB,CAAW0B,CAAAA,GAAQlH,KAAKsC,MAALtC,CAAYwB,UAA/BgE,CAAnB;AAAA,UACIgV,CAAAA,GAAahV,IAAAA,CAAKuB,KAALvB,CAAWxF,KAAKkH,KAALlH,GAAaA,KAAKsC,MAALtC,CAAYwB,UAApCgE,CADjB;AAIAuV,MAAAA,CAAAA,CAAMrW,KAANqW,GAAeA,CAAAA,CAAMG,OAANH,CAAc7C,MAAd6C,CAAqBS,UAArBT,GAAkCP,CAAlCO,IAAiD,CAAhEA,EACAA,CAAAA,CAAMpW,GAANoW,GAAYA,CAAAA,CAAMrW,KAANqW,GAAcQ,CAAAA,GAAef,CADzCO,EAGAA,CAAAA,CAAMG,OAANH,CAAc7C,MAAd6C,CAAqB7T,KAArB6T,GAA6B7T,CAH7B6T,EAIAA,CAAAA,CAAMG,OAANH,CAAc7C,MAAd6C,CAAqBha,MAArBga,GAA8Bha,CAJ9Bga,EAKA/a,KAAK2T,KAAL3T,CAAW+a,CAAAA,CAAMG,OAANH,CAAc7C,MAAzBlY,EAAyBkY;AAAUhR,QAAAA,KAAAA,EAAOqU,CAAAA,GAAe;AAAhCrD,OAAzBlY,CALA+a,EAOA/a,KAAK2T,KAAL3T,CAAWA,KAAK0X,YAAhB1X,EAAgB0X;AAAgB9C,QAAAA,OAAAA,EAAS;AAAzB8C,OAAhB1X,CAPA+a,EASI/a,KAAKoa,iBAALpa,KACA+a,CAAAA,CAAMI,WAANJ,CAAkB7C,MAAlB6C,CAAyB7T,KAAzB6T,GAAiC7T,CAAjC6T,EACAA,CAAAA,CAAMI,WAANJ,CAAkB7C,MAAlB6C,CAAyBha,MAAzBga,GAAkCha,CADlCga,EAEA/a,KAAK2T,KAAL3T,CAAW+a,CAAAA,CAAMI,WAANJ,CAAkB7C,MAA7BlY,EAA6BkY;AAAUhR,QAAAA,KAAAA,EAAOqU,CAAAA,GAAe;AAAhCrD,OAA7BlY,CAHAA,CATJ+a;AAYiE,KAxHhCd;AA4HrC9C,IAAAA,SAAAA,EAAW,YAAA;AACP,WAAK,IAAI7P,CAAT,IAActH,KAAKsa,QAAnB,EACIta,KAAK8a,iBAAL9a,CAAuBA,KAAKsa,QAALta,CAAcsH,CAAdtH,CAAvBA;AAAqCsH,KA9HR2S;AAkIrCa,IAAAA,iBAAAA,EAAmB,UAAUC,CAAV,EAAUA;AACzBA,MAAAA,CAAAA,CAAMG,OAANH,CAAc5C,SAAd4C,CAAwB,CAAxBA,EAA2B,CAA3BA,EAA8BA,CAAAA,CAAMG,OAANH,CAAc7C,MAAd6C,CAAqB7T,KAAnD6T,EAA0DA,CAAAA,CAAMG,OAANH,CAAc7C,MAAd6C,CAAqBha,MAA/Ega,GACI/a,KAAKoa,iBAALpa,IACA+a,CAAAA,CAAMI,WAANJ,CAAkB5C,SAAlB4C,CAA4B,CAA5BA,EAA+B,CAA/BA,EAAkCA,CAAAA,CAAMI,WAANJ,CAAkB7C,MAAlB6C,CAAyB7T,KAA3D6T,EAAkEA,CAAAA,CAAMI,WAANJ,CAAkB7C,MAAlB6C,CAAyBha,MAA3Fga,CAFJA;AAE+Fha,KArI9DkZ;AAyIrC/D,IAAAA,QAAAA,EAAU,UAAU1O,CAAV,EAAiB4Q,CAAjB,EAA+B1T,CAA/B,EAAsCC,CAAtC,EAAsCA;AAC5C,UAAIvB,CAAAA,GAAKpD,IAAT;;AAEA,UAAIwH,CAAAA,CAAM,CAANA,CAAAA,YAAoBwE,KAAxB,EAA+B;AAC3B,YAAI6F,CAAAA,GAAWrK,CAAf;AACA,YAAIxH,KAAKsC,MAALtC,CAAYmC,aAAhB,EACInC,OAAAA,KAAK8W,SAAL9W,CAAe6R,CAAAA,CAAStK,MAATsK,GAAkB7R,KAAKsC,MAALtC,CAAYe,MAA9B8Q,GAAuC7R,KAAKsC,MAALtC,CAAYwB,UAAlExB,GAAkEwB,KAClEqQ,CAAAA,CAASrG,OAATqG,CAAiB,UAASwG,CAAT,EAAuB/Q,CAAvB,EAAuBA;AACpClE,UAAAA,CAAAA,CAAG8S,QAAH9S,CAAYiV,CAAZjV,EAA0BkE,CAA1BlE,EAA6BsB,CAA7BtB,EAAoCuB,CAApCvB;AAAoCuB,SADxCkN,CADA7R;AAMAwH,QAAAA,CAAAA,GAAQqK,CAAAA,CAAS,CAATA,CAARrK;AAMR;;AAAA,UAAI8Q,CAAAA,GAAAA,GAAgBC,IAAhBD,CAAqB7N,IAArB6N,CAA0B9Q,CAA1B8Q,EAAiC,UAAU5N,CAAV,EAAUA;AAAO,eAAOA,CAAAA,GAAM,CAAb;AAAa,OAA/D4N,CAAJ;AAAA,UAEIE,CAAAA,GAAiB,CAFrB;AAGIF,MAAAA,CAAAA,KACAE,CAAAA,GAAiB,CADjBF,CAAAA;AAKJ,UAAIpR,CAAAA,GAAQlH,KAAKkH,KAAjB;AAAA,UACInG,CAAAA,GAASf,KAAKsC,MAALtC,CAAYe,MAAZf,GAAqBA,KAAKsC,MAALtC,CAAYwB,UAD9C;AAAA,UAEIkX,CAAAA,GAAU3X,CAAAA,GAASqX,CAATrX,IAAyB,CAFvC;AAAA,UAGI4X,CAAAA,GAAQ5X,CAAAA,GAAS,CAHrB;AAAA,UAIIwG,CAAAA,GAASC,CAAAA,CAAMD,MAANC,GAAegR,CAJ5B;AAAA,UAKII,CAAAA,GAAM5Y,KAAKsC,MAALtC,CAAYiW,QAAZjW,GAAuBA,KAAKsC,MAALtC,CAAYwB,UAL7C;AAAA,UAMIqX,CAAAA,GAAMrT,IAAAA,CAAKC,GAALD,CAASxF,KAAKsC,MAALtC,CAAYwB,UAArBgE,EAAqBhE,CAAAA,EAAeoX,CAAAA,GAAM,CAArBpX,CAArBgE,CANV;AAAA,UAOIsT,CAAAA,GAAOF,CAAAA,GAAMC,CAPjB;AAAA,UASIE,CAAAA,GAAS,IAAI/Y,KAAKsC,MAALtC,CAAYO,SAT7B;;AAUA,UAAIP,KAAKsC,MAALtC,CAAY+B,SAAhB,EAA2B;AACvB,YAAI0D,CAAAA,GAAMxF,CAAAA,CAAWsC,IAAXtC,CAAgBwF,GAAhBxF,CAAoBuH,CAApBvH,CAAV;AAAA,YACIyF,CAAAA,GAAMzF,CAAAA,CAAWsC,IAAXtC,CAAgByF,GAAhBzF,CAAoBuH,CAApBvH,CADV;AAEA8Y,QAAAA,CAAAA,GAAAA,CAAUrT,CAAVqT,GAAgBtT,CAAhBsT,GAAgBtT,CAAOC,CAAvBqT,GAA6BtT,CAA7BsT;AAKJ;;AAAA,WAFIC,IAAAA,CAAAA,GAAQzR,CAAAA,GAASL,CAAjB8R,EAEK1R,CAAAA,GAAK5C,CAAAA,GAAQsU,CAAtB,EAA8B1R,CAAAA,GAAK3C,CAAAA,GAAMqU,CAAzC,EAAiD1R,CAAAA,IAAKwR,CAAtD,EAA4D;AACxD,YAAIK,CAAAA,GAAO3R,CAAAA,CAAMhC,IAAAA,CAAK4T,KAAL5T,CAAW8B,CAAAA,GAAI0R,CAAJ1R,GAAYkR,CAAvBhT,CAANgC,CAAAA,IAAiD,CAA5D;AAAA,YACI6R,CAAAA,GAAI7T,IAAAA,CAAKuB,KAALvB,CAAW2T,CAAAA,GAAOJ,CAAPI,GAAgBR,CAA3BnT,CADR;AAEAxF,aAAKsZ,QAALtZ,CAAcsH,CAAAA,GAAItH,KAAKqa,SAAvBra,EAAkC2Y,CAAAA,GAAQU,CAARV,GAAYD,CAA9C1Y,EAAuD4Y,CAAAA,GAAM5Y,KAAKqa,SAAlEra,EAAiF,IAAJqZ,CAA7ErZ;AAA6EqZ;AAAAA,KAxLhDY;AA4LrC9D,IAAAA,QAAAA,EAAU,UAAU3O,CAAV,EAAiB4Q,CAAjB,EAA+B1T,CAA/B,EAAsCC,CAAtC,EAAsCA;AAC5C,UAAIvB,CAAAA,GAAKpD,IAAT;;AAEA,UAAIwH,CAAAA,CAAM,CAANA,CAAAA,YAAoBwE,KAAxB,EAA+B;AAC3B,YAAI6F,CAAAA,GAAWrK,CAAf;AACA,YAAIxH,KAAKsC,MAALtC,CAAYmC,aAAhB,EACInC,OAAAA,KAAK8W,SAAL9W,CAAe6R,CAAAA,CAAStK,MAATsK,GAAkB7R,KAAKsC,MAALtC,CAAYe,MAA9B8Q,GAAuC7R,KAAKsC,MAALtC,CAAYwB,UAAlExB,GAAkEwB,KAClEqQ,CAAAA,CAASrG,OAATqG,CAAiB,UAASwG,CAAT,EAAuB/Q,CAAvB,EAAuBA;AACpClE,UAAAA,CAAAA,CAAG+S,QAAH/S,CAAYiV,CAAZjV,EAA0BkE,CAA1BlE,EAA6BsB,CAA7BtB,EAAoCuB,CAApCvB;AAAoCuB,SADxCkN,CADA7R;AAMAwH,QAAAA,CAAAA,GAAQqK,CAAAA,CAAS,CAATA,CAARrK;AAKR;;AAAA,UAAI+R,CAAAA,GAAAA,GAAkBhB,IAAlBgB,CAAuB9O,IAAvB8O,CAA4B/R,CAA5B+R,EAAmC,UAAU7O,CAAV,EAAUA;AAAO,eAAOA,CAAAA,GAAM,CAAb;AAAa,OAAjE6O,CAAJ;;AACA,UAAA,CAAKA,CAAL,EAAmB;AAEf,aADIC,IAAAA,CAAAA,GAAAA,EAAAA,EACKlS,CAAAA,GAAI,CADTkS,EACYC,CAAAA,GAAMjS,CAAAA,CAAMD,MAA5B,EAAoCD,CAAAA,GAAImS,CAAxC,EAA6CnS,CAAAA,EAA7C,EACIkS,CAAAA,CAAe,IAAIlS,CAAnBkS,CAAAA,GAAwBhS,CAAAA,CAAMF,CAANE,CAAxBgS,EACAA,CAAAA,CAAe,IAAIlS,CAAJ,GAAQ,CAAvBkS,CAAAA,GAAuB,CAAMhS,CAAAA,CAAMF,CAANE,CAD7BgS;;AAGJhS,QAAAA,CAAAA,GAAQgS,CAARhS;AAIJ;;AAAA,UAAIzG,CAAAA,GAASf,KAAKsC,MAALtC,CAAYe,MAAZf,GAAqBA,KAAKsC,MAALtC,CAAYwB,UAA9C;AAAA,UACIkX,CAAAA,GAAU3X,CAAAA,GAASqX,CAATrX,IAAyB,CADvC;AAAA,UAEI4X,CAAAA,GAAQ5X,CAAAA,GAAS,CAFrB;AAAA,UAIIgY,CAAAA,GAAS,IAAI/Y,KAAKsC,MAALtC,CAAYO,SAJ7B;;AAKA,UAAIP,KAAKsC,MAALtC,CAAY+B,SAAhB,EAA2B;AACvB,YAAI0D,CAAAA,GAAMxF,CAAAA,CAAWsC,IAAXtC,CAAgBwF,GAAhBxF,CAAoBuH,CAApBvH,CAAV;AAAA,YACIyF,CAAAA,GAAMzF,CAAAA,CAAWsC,IAAXtC,CAAgByF,GAAhBzF,CAAoBuH,CAApBvH,CADV;AAEA8Y,QAAAA,CAAAA,GAAAA,CAAUrT,CAAVqT,GAAgBtT,CAAhBsT,GAAgBtT,CAAOC,CAAvBqT,GAA6BtT,CAA7BsT;AAGJ/Y;;AAAAA,WAAKyb,QAALzb,CAAcwH,CAAdxH,EAAqB+Y,CAArB/Y,EAA6B2Y,CAA7B3Y,EAAoC0Y,CAApC1Y,EAA6C0E,CAA7C1E,EAAoD2E,CAApD3E,GAGAA,KAAKsZ,QAALtZ,CAAc,CAAdA,EAAiB2Y,CAAAA,GAAQD,CAARC,GAAkB3Y,KAAKqa,SAAxCra,EAAmDA,KAAKkH,KAAxDlH,EAA+DA,KAAKqa,SAApEra,CAHAA;AAGoEqa,KAtOnCJ;AAyOrCwB,IAAAA,QAAAA,EAAU,UAAUjU,CAAV,EAAiBuR,CAAjB,EAAyBJ,CAAzB,EAAgCD,CAAhC,EAAyChU,CAAzC,EAAgDC,CAAhD,EAAgDA;AACtD,WAAK,IAAI+W,CAAT,IAAkB1b,KAAKsa,QAAvB,EAAiC;AAC7B,YAAIS,CAAAA,GAAQ/a,KAAKsa,QAALta,CAAc0b,CAAd1b,CAAZ;AAEAA,aAAK2b,aAAL3b,CAAmB+a,CAAnB/a,GAEAA,KAAK4b,iBAAL5b,CAAuB+a,CAAvB/a,EAA8B+a,CAAAA,CAAMG,OAApClb,EAA6CwH,CAA7CxH,EAAoD+Y,CAApD/Y,EAA4D2Y,CAA5D3Y,EAAmE0Y,CAAnE1Y,EAA4E0E,CAA5E1E,EAAmF2E,CAAnF3E,CAFAA,EAGAA,KAAK4b,iBAAL5b,CAAuB+a,CAAvB/a,EAA8B+a,CAAAA,CAAMI,WAApCnb,EAAiDwH,CAAjDxH,EAAwD+Y,CAAxD/Y,EAAgE2Y,CAAhE3Y,EAAuE0Y,CAAvE1Y,EAAgF0E,CAAhF1E,EAAuF2E,CAAvF3E,CAHAA;AAGuF2E;AAAAA,KAhP1DsV;AAoPrC2B,IAAAA,iBAAAA,EAAmB,UAAUb,CAAV,EAAiBc,CAAjB,EAAsBrU,CAAtB,EAA6BuR,CAA7B,EAAqCJ,CAArC,EAA4CD,CAA5C,EAAqDhU,CAArD,EAA4DC,CAA5D,EAA4DA;AAC3E,UAAKkX,CAAL,EAAA;AAEA,YAAItU,CAAAA,GAASC,CAAAA,CAAMD,MAANC,GAAe,CAA5B;AAAA,YAEIwR,CAAAA,GAAQ,CAFZ;AAGIhZ,aAAKsC,MAALtC,CAAYa,UAAZb,IAA0BA,KAAKkH,KAALlH,IAAcuH,CAAxCvH,KACAgZ,CAAAA,GAAQhZ,KAAKkH,KAALlH,GAAauH,CADrBvH;AAIJ,YAAIgS,CAAAA,GAAQxM,IAAAA,CAAKuB,KAALvB,CAAW+B,CAAAA,GAASwT,CAAAA,CAAMrW,KAA1Bc,CAAZ;AAAA,YACIyM,CAAAA,GAAOzM,IAAAA,CAAKuB,KAALvB,CAAW+B,CAAAA,GAASwT,CAAAA,CAAMpW,GAA1Ba,CADX;;AAEA,YAAA,EAAIwM,CAAAA,GAAQrN,CAARqN,IAAeC,CAAAA,GAAOvN,CAA1B,CAAA,EAAA;AACA,cAAIoX,CAAAA,GAActW,IAAAA,CAAKC,GAALD,CAASwM,CAATxM,EAAgBd,CAAhBc,CAAlB;AAAA,cACIuW,CAAAA,GAAYvW,IAAAA,CAAKE,GAALF,CAASyM,CAATzM,EAAeb,CAAfa,CADhB;AAGAqW,UAAAA,CAAAA,CAAInC,SAAJmC,IACAA,CAAAA,CAAIlC,MAAJkC,CAAIlC,CAAQmC,CAAAA,GAAc9J,CAAtB2H,IAA+BX,CAA/BW,GAAuC3Z,KAAKqa,SAAhDwB,EAA2DlD,CAAAA,GAAQD,CAAnEmD,CADAA;;AAGA,eAAK,IAAIvU,CAAAA,GAAIwU,CAAb,EAA0BxU,CAAAA,GAAIyU,CAA9B,EAAyCzU,CAAAA,EAAzC,EAA8C;AAC1C,gBAAI6R,CAAAA,GAAO3R,CAAAA,CAAM,IAAIF,CAAVE,CAAAA,IAAgB,CAA3B;AAAA,gBACI6R,CAAAA,GAAI7T,IAAAA,CAAKuB,KAALvB,CAAW2T,CAAAA,GAAOJ,CAAPI,GAAgBR,CAA3BnT,CADR;AAEAqW,YAAAA,CAAAA,CAAIjC,MAAJiC,CAAIjC,CAAQtS,CAAAA,GAAI0K,CAAZ4H,IAAqBZ,CAArBY,GAA6B5Z,KAAKqa,SAAtCwB,EAAiDlD,CAAAA,GAAQU,CAARV,GAAYD,CAA7DmD;AAKJ;;AAAA,eAAK,IAAIvU,CAAAA,GAAIyU,CAAAA,GAAY,CAAzB,EAA4BzU,CAAAA,IAAKwU,CAAjC,EAA8CxU,CAAAA,EAA9C,EAAmD;AAC/C,gBAAI6R,CAAAA,GAAO3R,CAAAA,CAAM,IAAIF,CAAJ,GAAQ,CAAdE,CAAAA,IAAoB,CAA/B;AAAA,gBACI6R,CAAAA,GAAI7T,IAAAA,CAAKuB,KAALvB,CAAW2T,CAAAA,GAAOJ,CAAPI,GAAgBR,CAA3BnT,CADR;AAEAqW,YAAAA,CAAAA,CAAIjC,MAAJiC,CAAIjC,CAAQtS,CAAAA,GAAI0K,CAAZ4H,IAAqBZ,CAArBY,GAA6B5Z,KAAKqa,SAAtCwB,EAAiDlD,CAAAA,GAAQU,CAARV,GAAYD,CAA7DmD;AAGJA;;AAAAA,UAAAA,CAAAA,CAAIhC,SAAJgC,IACAA,CAAAA,CAAI/B,IAAJ+B,EADAA;AACI/B;AAAAA;AAAAA,KAtR6BG;AAyRrCX,IAAAA,QAAAA,EAAU,UAAU0C,CAAV,EAAaC,CAAb,EAAgB/U,CAAhB,EAAuBnG,CAAvB,EAAuBA;AAI7B,WAHImb,IAAAA,CAAAA,GAAc1W,IAAAA,CAAK4T,KAAL5T,CAAWwW,CAAAA,GAAIhc,KAAKka,cAApB1U,CAAd0W,EACAC,CAAAA,GAAY3W,IAAAA,CAAKE,GAALF,CAASA,IAAAA,CAAKkV,IAALlV,CAAKkV,CAAMsB,CAAAA,GAAI9U,CAAVwT,IAAmB1a,KAAKka,cAA7B1U,IAA+C,CAAxDA,EACSxF,KAAKsa,QAALta,CAAcuH,MADvB/B,CADZ0W,EAGK5U,CAAAA,GAAI4U,CAAb,EAA0B5U,CAAAA,GAAI6U,CAA9B,EAAyC7U,CAAAA,EAAzC,EAA8C;AAC1C,YAAIyT,CAAAA,GAAQ/a,KAAKsa,QAALta,CAAcsH,CAAdtH,CAAZ;AAAA,YACIgb,CAAAA,GAAa1T,CAAAA,GAAItH,KAAKka,cAD1B;AAAA,YAGIkC,CAAAA,GAAAA;AACAC,UAAAA,EAAAA,EAAI7W,IAAAA,CAAKC,GAALD,CAASwW,CAATxW,EAAY8B,CAAAA,GAAItH,KAAKka,cAArB1U,CADJ4W;AAEAE,UAAAA,EAAAA,EAAIL,CAFJG;AAGAG,UAAAA,EAAAA,EAAI/W,IAAAA,CAAKE,GAALF,CAASwW,CAAAA,GAAI9U,CAAb1B,EAAoB8B,CAAAA,GAAItH,KAAKka,cAAT5S,GAA0ByT,CAAAA,CAAMG,OAANH,CAAc7C,MAAd6C,CAAqB7T,KAAnE1B,CAHJ4W;AAIAI,UAAAA,EAAAA,EAAIP,CAAAA,GAAIlb;AAJRqb,SAHJ;AAUIA,QAAAA,CAAAA,CAAaC,EAAbD,GAAkBA,CAAAA,CAAaG,EAA/BH,KACApc,KAAK2b,aAAL3b,CAAmB+a,CAAnB/a,GAEAA,KAAKyc,iBAALzc,CAAuB+a,CAAAA,CAAMG,OAA7Blb,EACQoc,CAAAA,CAAaC,EAAbD,GAAkBpB,CAD1Bhb,EAEQoc,CAAAA,CAAaE,EAFrBtc,EAGQoc,CAAAA,CAAaG,EAAbH,GAAkBA,CAAAA,CAAaC,EAHvCrc,EAIQoc,CAAAA,CAAaI,EAAbJ,GAAkBA,CAAAA,CAAaE,EAJvCtc,CAFAA,EAQAA,KAAKyc,iBAALzc,CAAuB+a,CAAAA,CAAMI,WAA7Bnb,EACQoc,CAAAA,CAAaC,EAAbD,GAAkBpB,CAD1Bhb,EAEQoc,CAAAA,CAAaE,EAFrBtc,EAGQoc,CAAAA,CAAaG,EAAbH,GAAkBA,CAAAA,CAAaC,EAHvCrc,EAIQoc,CAAAA,CAAaI,EAAbJ,GAAkBA,CAAAA,CAAaE,EAJvCtc,CATAoc;AAauCE;AAAAA,KArTdrC;AA0TrCwC,IAAAA,iBAAAA,EAAmB,UAAUZ,CAAV,EAAeG,CAAf,EAAkBC,CAAlB,EAAqB/U,CAArB,EAA4BnG,CAA5B,EAA4BA;AACtC8a,MAAAA,CAAAA,IACLA,CAAAA,CAAIvC,QAAJuC,CAAaG,CAAbH,EAAgBI,CAAhBJ,EAAmB3U,CAAnB2U,EAA0B9a,CAA1B8a,CADKA;AACqB9a,KA5TOkZ;AA+TrC0B,IAAAA,aAAAA,EAAe,UAAUZ,CAAV,EAAUA;AACrBA,MAAAA,CAAAA,CAAMG,OAANH,CAAc9B,SAAd8B,GAA0B/a,KAAKsC,MAALtC,CAAYoC,SAAtC2Y,EACI/a,KAAKoa,iBAALpa,KACA+a,CAAAA,CAAMI,WAANJ,CAAkB9B,SAAlB8B,GAA8B/a,KAAKsC,MAALtC,CAAY8B,aAD1C9B,CADJ+a;AAE8CjZ,KAlUbmY;AAsUrC/C,IAAAA,cAAAA,EAAgB,UAAUF,CAAV,EAAUA;AACtBhX,WAAK2T,KAAL3T,CAAWA,KAAK0X,YAAhB1X,EAAgB0X;AAAgBxQ,QAAAA,KAAAA,EAAO8P,CAAAA,GAAM;AAA7BU,OAAhB1X;AAA6C,KAvUZia;AAiVrC9O,IAAAA,QAAAA,EAAU,UAAS4O,CAAT,EAAe7O,CAAf,EAAeA;AACrB,UAAIwR,CAAAA,GAAAA,EAAJ;AACA1c,aAAAA,KAAKsa,QAALta,CAAcwL,OAAdxL,CAAsB,UAAU+a,CAAV,EAAUA;AAC5B2B,QAAAA,CAAAA,CAAgBvT,IAAhBuT,CAAqB3B,CAAAA,CAAME,IAANF,CAAWf,SAAXe,CAAqBhB,CAArBgB,EAA2B7P,CAA3B6P,CAArB2B;AAAgDxR,OADpDlL,GAGO0c,CAAAA,CAAgBnV,MAAhBmV,GAAyB,CAAzBA,GAA6BA,CAA7BA,GAA+CA,CAAAA,CAAgB,CAAhBA,CAHtD1c;AAGsE;AAtVrCia,GAAzCha,CAtzCAA,EAkpDAA,CAAAA,CAAWuD,MAAXvD,CAAkB0c,kBAAlB1c,GAAuCqD,MAAAA,CAAOC,MAAPD,CAAcrD,CAAAA,CAAWuD,MAAXvD,CAAkBmX,MAAhC9T,CAlpDvCrD,EAopDAA,CAAAA,CAAWsC,IAAXtC,CAAgBuC,MAAhBvC,CAAuBA,CAAAA,CAAWuD,MAAXvD,CAAkB0c,kBAAzC1c,EAAyC0c;AAErCC,IAAAA,iBAAAA,EAAAA;AACIC,MAAAA,eAAAA,EAAiB,OADrBD;AAEIE,MAAAA,aAAAA,EAAe,CAFnBF;AAGIG,MAAAA,OAAAA,EAAS,CAHbH;AAIII,MAAAA,OAAAA,EAAS,CAJbJ;AAKIK,MAAAA,SAAAA,EAAgB,MALpBL;AAMIM,MAAAA,iBAAAA,EAAoB,MANxBN;AAOIO,MAAAA,eAAAA,EAAiB,CAPrBP;AAQIQ,MAAAA,cAAAA,EAAgB,CARpBR;AASIS,MAAAA,aAAAA,EAAAA,CAAe,CATnBT;AAUIU,MAAAA,kBAAAA,EAAoB,OAVxBV;AAWIW,MAAAA,gBAAAA,EAAAA,CAAkB,CAXtBX;AAYIY,MAAAA,cAAAA,EAAgB,EAZpBZ;AAaIa,MAAAA,kBAAAA,EAAoB,CAbxBb;AAcIc,MAAAA,uBAAAA,EAAAA,CAAyB,CAd7Bd;AAeIe,MAAAA,iBAAAA,EAAmB,EAfvBf;AAgBIgB,MAAAA,iBAAAA,EAAmB,OAhBvBhB;AAiBIiB,MAAAA,kBAAAA,EAAAA,CAAoB,CAjBxBjB;AAkBIkB,MAAAA,iBAAAA,EAAoB;AAlBxBlB,KAFqCD;AAwBrCG,IAAAA,aAAAA,EAAe,CAxBsBH;AAyBrCoB,IAAAA,WAAAA,EAAAA,CAAAA,CAzBqCpB;AA0BrCqB,IAAAA,eAAAA,EAAAA,CAAiB,CA1BoBrB;AA2BrCsB,IAAAA,SAAAA,EAAAA,EA3BqCtB;AA4BrCuB,IAAAA,UAAAA,EAAAA,EA5BqCvB;AA6BrCI,IAAAA,OAAAA,EAAS,CA7B4BJ;AA8BrCK,IAAAA,OAAAA,EAAS,CA9B4BL;AAqCrCnI,IAAAA,UAAAA,EAAY,UAAUlS,CAAV,EAAUA;AAClB,UAAIc,CAAAA,GAAKpD,IAAT;;AAGA,WAAI,IAAIme,CAAR,IAAqBne,KAAK4c,iBAA1B,EACkCwB,KAAAA,CAAAA,KAA3Bpe,KAAKsC,MAALtC,CAAYme,CAAZne,CAA2Boe,KAC1Bpe,KAAKsC,MAALtC,CAAYme,CAAZne,IAAyBA,KAAK4c,iBAAL5c,CAAuBme,CAAvBne,CADCoe;;AAclC,UARApe,KAAK8c,aAAL9c,GAAqBA,KAAKsC,MAALtC,CAAY8c,aAAjC9c,EAG+Boe,KAAAA,CAAAA,KAA5Bpe,KAAKsC,MAALtC,CAAY+d,WAAgBK,KAC3Bpe,KAAK+d,WAAL/d,GAAmBA,KAAKsC,MAALtC,CAAY+d,WADJK,CAH/Bpe,EAQIgM,KAAAA,CAAMqS,OAANrS,CAAc1J,CAAAA,CAAO2b,SAArBjS,CAAJ,EACIhM,KAAKie,SAALje,GAAiBsC,CAAAA,CAAO2b,SAAxBje,EACAA,KAAKge,eAALhe,GAAKge,CAAkB,CADvBhe,CADJ,KAKK;AACD,YAAIse,CAAAA,GAAoB,UAAUL,CAAV,EAAUA;AAC9B7a,UAAAA,CAAAA,CAAG6a,SAAH7a,GAAe6a,CAAf7a,EACAA,CAAAA,CAAG4a,eAAH5a,GAAG4a,CAAkB,CADrB5a,EAEAA,CAAAA,CAAGY,SAAHZ,CAAa,mBAAbA,CAFAA;AAIJpD,SALA;;AAKAA,aAAKue,qBAALve,CAA2BsC,CAAAA,CAAOkc,WAAlCxe,EAA+Cse,CAA/Cte,EAAkEA,KAAKsC,MAALtC,CAAY8d,iBAA9E9d;AAA8E8d;AAAAA,KAnEjDnB;AAgFrCjV,IAAAA,SAAAA,EAAW,UAAUF,CAAV,EAAiBD,CAAjB,EAAyB7C,CAAzB,EAAgCC,CAAhC,EAAgCA;AAEvC,UAA4B,KAAxB3E,KAAKge,eAAT,EAEIhe,KAAK2L,QAAL3L,CAAcuH,CAAdvH,GAGAA,KAAKmC,aAALnC,GAAKmC,CAAgB,CAHrBnC,EAIAA,KAAKsC,MAALtC,CAAYe,MAAZf,GAAqBA,KAAKsC,MAALtC,CAAYe,MAAZf,GAAmB,CAJxCA,EAKIwH,CAAAA,CAAM,CAANA,CAAAA,YAAoBwE,KAApBxE,KACDA,CAAAA,GAAQA,CAAAA,CAAM,CAANA,CADPA,CALJxH,EASAA,KAAKsC,MAALtC,CAAYiW,QAAZjW,GACIA,KAAKkW,QAALlW,CAAcwH,CAAdxH,EAAqB,CAArBA,EAAwB0E,CAAxB1E,EAA+B2E,CAA/B3E,CADJA,GAEIA,KAAKmW,QAALnW,CAAcwH,CAAdxH,EAAqB,CAArBA,EAAwB0E,CAAxB1E,EAA+B2E,CAA/B3E,CAXJA,EAcAA,KAAKsC,MAALtC,CAAYe,MAAZf,GAAwC,IAAnBA,KAAKsC,MAALtC,CAAYe,MAdjCf,EAgBAA,KAAKye,cAALze,EAhBAA,EAiBAA,KAAK0e,SAAL1e,EAjBAA,CAFJ,KAuBK;AACD,YAAIoD,CAAAA,GAAKpD,IAAT;AACAoD,QAAAA,CAAAA,CAAGK,EAAHL,CAAM,mBAANA,EAA2B,YAAA;AACvBA,UAAAA,CAAAA,CAAGsE,SAAHtE,CAAaoE,CAAbpE,EAAoBmE,CAApBnE,EAA4BsB,CAA5BtB,EAAmCuB,CAAnCvB;AAAmCuB,SADvCvB;AACuCuB;AAAAA,KA5GVgY;AAuHrC+B,IAAAA,SAAAA,EAAW,YAAA;AACP,UAAI3d,CAAAA,GAASf,KAAKsC,MAALtC,CAAYe,MAAZf,GAAqBA,KAAKsC,MAALtC,CAAYwB,UAAjCxB,GAA8C,CAA3D;AAAA,UAEIyY,CAAAA,GAAI,KAAMzY,KAAKsC,MAALtC,CAAYwB,UAF1B;AAIAxB,WAAKwX,MAALxX,CAAYiZ,SAAZjZ,GAAwBA,KAAKsC,MAALtC,CAAYid,SAApCjd,EACGA,KAAKiY,UAALjY,KACCA,KAAKiY,UAALjY,CAAgBiZ,SAAhBjZ,GAA4BA,KAAKsC,MAALtC,CAAYkd,iBADzCld,CADHA;;AAIA,WAAI,IAAIsH,CAAR,IAAatH,KAAKke,UAAlB,EAA8B;AAC1B,YAAIlC,CAAAA,GAAI2C,QAAAA,CAASrX,CAATqX,CAAR;AAAA,YACI1C,CAAAA,GAAIlb,CAAAA,GAASf,KAAKsC,MAALtC,CAAYmd,eAArBpc,GAAwCf,KAAKke,UAALle,CAAgBsH,CAAhBtH,KAAsBe,CAAAA,GAASf,KAAKsC,MAALtC,CAAYmd,eAA3Cnd,CADhD;AAAA,YAEI4e,CAAAA,GAAc5e,KAAKsC,MAALtC,CAAYmd,eAF9B;AAIAnd,aAAKwX,MAALxX,CAAYsZ,QAAZtZ,CAAqBgc,CAArBhc,EAAwBic,CAAxBjc,EAA2BA,KAAKsC,MAALtC,CAAYod,cAAvCpd,EAAuD4e,CAAvD5e,GAEGA,KAAKiY,UAALjY,IACCA,KAAKiY,UAALjY,CAAgBsZ,QAAhBtZ,CAAyBgc,CAAzBhc,EAA4Bic,CAA5Bjc,EAA+BA,KAAKsC,MAALtC,CAAYod,cAA3Cpd,EAA2D4e,CAA3D5e,CAHJA;AAQDA;;AAAAA,WAAKsC,MAALtC,CAAYqd,aAAZrd,KACCA,KAAKwX,MAALxX,CAAYiZ,SAAZjZ,GAAwBA,KAAKsC,MAALtC,CAAYsd,kBAApCtd,EACAA,KAAKwX,MAALxX,CAAYsZ,QAAZtZ,CAAqB,CAArBA,EAAwBe,CAAxBf,EAAgCA,KAAKkH,KAArClH,EAA4CyY,CAA5CzY,CAFDA,GAKAA,KAAKsC,MAALtC,CAAYud,gBAAZvd,IACCA,KAAK6e,gBAAL7e,EANDA;AAMM6e,KAnJwBlC;AA2JrCkC,IAAAA,gBAAAA,EAAkB,YAAA;AAEd,UAAIC,CAAAA,GAAW9e,KAAKsC,MAALtC,CAAY2d,iBAAZ3d,GAAgCA,KAAKsC,MAALtC,CAAYwB,UAA3D;AAAA,UACIud,CAAAA,GAAW/e,KAAKgd,OAALhd,CAAagf,WAAbhf,CAAyBA,KAAKsC,MAALtC,CAAYyd,kBAArCzd,IAA2D,GAA3DA,GAAiEA,KAAKsC,MAALtC,CAAYwd,cAD5F;AAAA,UAEIyB,CAAAA,GAAWjf,KAAK+c,OAAL/c,CAAagf,WAAbhf,CAAyBA,KAAKsC,MAALtC,CAAYyd,kBAArCzd,IAA2D,GAA3DA,GAAiEA,KAAKsC,MAALtC,CAAYwd,cAF5F;AAGAxd,WAAKwX,MAALxX,CAAYkf,IAAZlf,GAAmB8e,CAAAA,CAASxR,QAATwR,KAAsB,KAAtBA,GAA8B9e,KAAKsC,MAALtC,CAAY4d,iBAA7D5d,EACAA,KAAKwX,MAALxX,CAAYmf,QAAZnf,CAAqB+e,CAArB/e,EAA+B,CAA/BA,EAAkC8e,CAAlC9e,CADAA,EAEAA,KAAKwX,MAALxX,CAAYmf,QAAZnf,CAAqBif,CAArBjf,EAA+B,CAA/BA,EAAkCA,KAAKe,MAALf,GAAY,CAA9CA,CAFAA;AAE8C,KAlKb2c;AAyKrC8B,IAAAA,cAAAA,EAAgB,YAAA;AAEZze,WAAKke,UAALle,GAAKke,EAALle,EAGAA,KAAKof,oBAALpf,EAHAA;;AAcA,WATIqf,IAAAA,CAAAA,GAAAA,EAAAA,EACAC,CAAAA,GAAAA,CAAAA,CADAD,EAEAE,CAAAA,GAAU,CAFVF,EAGAG,CAAAA,GAAU,cAHVH,EAIAI,CAAAA,GAAiB,CAJjBJ,EAKAK,CAAAA,GAAiB,cALjBL,EAMA9Z,CAAAA,GAAWvF,KAAK+d,WAAL/d,GAAmBA,KAAK8c,aANnCuC,EASI/X,CAAAA,GAAI,CAAZ,EAAeA,CAAAA,GAAItH,KAAKie,SAALje,CAAeuH,MAAlC,EAA0CD,CAAAA,EAA1C,EAA+C;AAC3C,YAAIqY,CAAAA,GAAY3f,KAAKie,SAALje,CAAesH,CAAftH,CAAhB;;AAKA,YAJG2f,CAAAA,CAAUpO,KAAVoO,GAAkBJ,CAAlBI,KAA4BJ,CAAAA,GAAUI,CAAAA,CAAUpO,KAAhDoO,GACAA,CAAAA,CAAUpO,KAAVoO,GAAkBH,CAAlBG,KAA4BH,CAAAA,GAAUG,CAAAA,CAAUpO,KAAhDoO,CADAA,EAIAA,CAAAA,CAAUvb,IAAVub,IAAkB3f,KAAK8c,aAAvB6C,IAAwCA,CAAAA,CAAUvb,IAAVub,IAAkB3f,KAAK+d,WAAlE,EAA+E;AAE3E,cAAI6B,CAAAA,GAAYpa,IAAAA,CAAKuB,KAALvB,CAAWxF,KAAKkH,KAALlH,IAAc2f,CAAAA,CAAUvb,IAAVub,GAAiB3f,KAAK8c,aAApC9c,IAAqDuF,CAAhEC,CAAhB;;AAKA,cAHA6Z,CAAAA,CAAiBlW,IAAjBkW,CAAsBM,CAAAA,CAAUpO,KAAhC8N,GAGGO,CAAAA,KAAcN,CAAdM,IACIP,CAAAA,CAAiB9X,MAAjB8X,GAA0B,CADjC,EACoC;AAE5B,gBAAIQ,CAAAA,GAAU7f,KAAK8f,GAAL9f,CAASqf,CAATrf,CAAd;AAGG6f,YAAAA,CAAAA,GAAUJ,CAAVI,KAA2BJ,CAAAA,GAAiBI,CAA5CA,GACAA,CAAAA,GAAUH,CAAVG,KAA2BH,CAAAA,GAAiBG,CAA5CA,CADAA,EAIH7f,KAAKke,UAALle,CAAgBsf,CAAhBtf,IAAqC6f,CAJlCA,EAKHR,CAAAA,GAAAA,EALGQ;AAQXP;;AAAAA,UAAAA,CAAAA,GAAoBM,CAApBN;AAAoBM;AAKM;;AAAA,iBAA/B5f,KAAKsC,MAALtC,CAAY6c,eAAmB,IAC9B7c,KAAK+c,OAAL/c,GAAewf,CAAfxf,EACAA,KAAKgd,OAALhd,GAAeuf,CAFe,IAIK,YAA/Bvf,KAAKsC,MAALtC,CAAY6c,eAAmB,IACnC7c,KAAK+c,OAAL/c,GAAeA,KAAKsC,MAALtC,CAAY+c,OAA3B/c,EACAA,KAAKgd,OAALhd,GAAeA,KAAKsC,MAALtC,CAAYgd,OAFQ,KAKnChd,KAAK+c,OAAL/c,GAAe0f,CAAf1f,EACAA,KAAKgd,OAALhd,GAAeyf,CANoB,CAJL,EAYlCzf,KAAK+f,eAAL/f,EAZkC;AAY7B+f,KArO4BpD;AA4OrCoD,IAAAA,eAAAA,EAAiB,YAAA;AACb,UAAIC,CAAAA,GAAAA,EAAJ;;AAGA,UAAmC,WAAhChgB,KAAKsC,MAALtC,CAAY6c,eAAf,EAAA;AAEA,aAAI,IAAIvV,CAAR,IAAatH,KAAKke,UAAlB,EAA8B;AAE1B,cAAI+B,CAAAA,GAAAA,CAAmBjgB,KAAKke,UAALle,CAAgBsH,CAAhBtH,IAAqBA,KAAK+c,OAA7CkD,KAAyDjgB,KAAKgd,OAALhd,GAAeA,KAAK+c,OAA7EkD,CAAJ;AAGGA,UAAAA,CAAAA,GAAkB,CAAlBA,GACKjgB,KAAKsC,MAALtC,CAAY0d,uBAAZ1d,KACAggB,CAAAA,CAAiB1Y,CAAjB0Y,CAAAA,GAAsB,CADtBhgB,CADLigB,GAMKA,CAAAA,GAAkB,CAAlBA,GACAjgB,KAAKsC,MAALtC,CAAY0d,uBAAZ1d,KACAggB,CAAAA,CAAiB1Y,CAAjB0Y,CAAAA,GAAsB,CADtBhgB,CADAigB,GAOJD,CAAAA,CAAiB1Y,CAAjB0Y,CAAAA,GAAsBC,CAbvBA;AAgBPjgB;;AAAAA,aAAKke,UAALle,GAAkBggB,CAAlBhgB;AAAkBggB;AAAAA,KAvQerD;AAwRrC4B,IAAAA,qBAAAA,EAAuB,UAASC,CAAT,EAAsB0B,CAAtB,EAAiCC,CAAjC,EAAiCA;AAElC/B,WAAAA,CAAAA,KAAd+B,CAAc/B,KAAY+B,CAAAA,GAAY,IAAxB/B;AAElB,UAAIH,CAAAA,GAAAA,EAAJ;AAAA,UAEIzQ,CAAAA,GAAAA;AACA1E,QAAAA,GAAAA,EAAK0V,CADLhR;AAEA1D,QAAAA,YAAAA,EAAc;AAFd0D,OAFJ;AAAA,UAMI4S,CAAAA,GAAWngB,CAAAA,CAAWsC,IAAXtC,CAAgB4J,IAAhB5J,CAAqBuN,CAArBvN,CANf;AAQAmgB,MAAAA,CAAAA,CAAS3c,EAAT2c,CAAY,MAAZA,EAAoB,UAAUpY,CAAV,EAAUA;AAC1B,YAAiC,OAA7BA,CAAAA,CAAKqY,aAALrY,CAAmB6F,MAAvB,EAAsC;AAIlC,eAFIyS,IAAAA,CAAAA,GAAYtY,CAAAA,CAAKqY,aAALrY,CAAmBuY,YAAnBvY,CAAgCwY,KAAhCxY,CAAsC,IAAtCA,CAAZsY,EAEKhZ,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAIgZ,CAAAA,CAAU/Y,MAA9B,EAAsCD,CAAAA,EAAtC,EAA2C;AACvC,gBAAImZ,CAAAA,GAAYH,CAAAA,CAAUhZ,CAAVgZ,CAAAA,CAAaE,KAAbF,CAAmBH,CAAnBG,CAAhB;AACuB,iBAApBG,CAAAA,CAAUlZ,MAAU,IACnB0W,CAAAA,CAAU9U,IAAV8U,CAAU9U;AAAM/E,cAAAA,IAAAA,EAAMsc,UAAAA,CAAWD,CAAAA,CAAU,CAAVA,CAAXC,CAAZvX;AAAsCoI,cAAAA,KAAAA,EAAOmP,UAAAA,CAAWD,CAAAA,CAAU,CAAVA,CAAXC;AAA7CvX,aAAV8U,CADmB;AAK3BiC;;AAAAA,UAAAA,CAAAA,CAAUjC,CAAViC,CAAAA;AAAUjC;AAAAA,OAZlBmC;AAYkBnC,KAhTetB;AAwTrCyC,IAAAA,oBAAAA,EAAsB,YAAA;AACahB,WAAAA,CAAAA,KAA5Bpe,KAAKsC,MAALtC,CAAY+d,WAAgBK,GAC3Bpe,KAAK+d,WAAL/d,GAAmBA,KAAKsC,MAALtC,CAAY+d,WADJK,GAI3Bpe,KAAK+d,WAAL/d,GAAmBA,KAAKie,SAALje,CAAeA,KAAKie,SAALje,CAAeuH,MAAfvH,GAAuB,CAAtCA,EAAyCoE,IAJjCga;AAIiCha,KA7T/BuY;AAsUrCmD,IAAAA,GAAAA,EAAK,UAAS5S,CAAT,EAASA;AACV,UAAIyT,CAAAA,GAAMzT,CAAAA,CAAOsD,MAAPtD,CAAc,UAAS0T,CAAT,EAAYC,CAAZ,EAAYA;AAAI,eAAOD,CAAAA,GAAEC,CAAT;AAASA,OAAvC3T,CAAV;AACA,aAAOyT,CAAAA,GAAIzT,CAAAA,CAAO3F,MAAlB;AAAkBA;AAxUeoV,GAAzC1c,CAppDAA,EAg+DAA,CAAAA,CAAWsC,IAAXtC,CAAgBuC,MAAhBvC,CAAuBA,CAAAA,CAAWuD,MAAXvD,CAAkB0c,kBAAzC1c,EAA6DA,CAAAA,CAAWwN,QAAxExN,CAh+DAA,EAo+DAA,CAAAA,CAAWqE,SAAXrE,GAAWqE;AACPjC,IAAAA,IAAAA,EAAM,YAAA;AACFrC,WAAK8gB,cAAL9gB;AAAK8gB,KAFFxc;AAKPwc,IAAAA,cAAAA,EAAgB,YAAA;AAIZ9gB,WAAK+gB,eAAL/gB,GAAK+gB,EAAL/gB,EAGAA,KAAKghB,eAALhhB,GAAKghB,CAAAA,CAHLhhB;AAGKghB,KAZF1c;AAeP+C,IAAAA,mBAAAA,EAAqB,UAASE,CAAT,EAAiB7C,CAAjB,EAAwBC,CAAxB,EAAwBA;AACrC4C,MAAAA,CAAAA,IAAUvH,KAAKghB,eAAfzZ,KACAvH,KAAK8gB,cAAL9gB,IACAA,KAAKghB,eAALhhB,GAAuBuH,CAFvBA;;AASJ,WAHA,IAAI0Z,CAAAA,GAAAA,EAAJ,EACI3Z,CAAAA,GAAI,CAER,EAAOA,CAAAA,GAAItH,KAAK+gB,eAAL/gB,CAAqBuH,MAAzBD,IAAmCtH,KAAK+gB,eAAL/gB,CAAqBsH,CAArBtH,IAA0B0E,CAApE,GACI4C,CAAAA;;AASJ,WAHIA,CAAAA,GAAI,CAAJA,IAAS,CAATA,IACA2Z,CAAAA,CAAe9X,IAAf8X,CAAoBvc,CAApBuc,CAEJ,EAAO3Z,CAAAA,GAAItH,KAAK+gB,eAAL/gB,CAAqBuH,MAAzBD,IAAmCtH,KAAK+gB,eAAL/gB,CAAqBsH,CAArBtH,KAA2B2E,CAArE,GACIsc,CAAAA,CAAe9X,IAAf8X,CAAoBjhB,KAAK+gB,eAAL/gB,CAAqBsH,CAArBtH,CAApBihB,GACA3Z,CAAAA,EADA2Z;;AAIA3Z,MAAAA,CAAAA,GAAI,CAAJA,IAAS,CAATA,IACA2Z,CAAAA,CAAe9X,IAAf8X,CAAoBtc,CAApBsc,CADA3Z,EAKJ2Z,CAAAA,GAAiBA,CAAAA,CAAehR,MAAfgR,CAAsB,UAASC,CAAT,EAAelK,CAAf,EAAoBzM,CAApB,EAAoBA;AACvD,eAAW,KAAPyM,CAAO,GACAkK,CAAAA,IAAQ3W,CAAAA,CAAIyM,CAAAA,GAAM,CAAVzM,CADR,GAEAyM,CAAAA,IAAOzM,CAAAA,CAAIhD,MAAJgD,GAAa,CAApByM,GACAkK,CAAAA,IAAQ3W,CAAAA,CAAIyM,CAAAA,GAAM,CAAVzM,CADRyM,GAGAkK,CAAAA,IAAQ3W,CAAAA,CAAIyM,CAAAA,GAAM,CAAVzM,CAAR2W,IAAwBA,CAAAA,IAAQ3W,CAAAA,CAAIyM,CAAAA,GAAM,CAAVzM,CAL3C;AAKqD,OANxC0W,CALb3Z,EAkBJtH,KAAK+gB,eAAL/gB,GAAuBA,KAAK+gB,eAAL/gB,CAAqBmhB,MAArBnhB,CAA4BihB,CAA5BjhB,CAlBnBsH,EAmBJtH,KAAK+gB,eAAL/gB,GAAuBA,KAAK+gB,eAAL/gB,CAAqBohB,IAArBphB,CAA0B,UAAS4gB,CAAT,EAAYC,CAAZ,EAAYA;AACzD,eAAOD,CAAAA,GAAIC,CAAX;AAAWA,OADQ7gB,EAEpBiQ,MAFoBjQ,CAEb,UAASkhB,CAAT,EAAelK,CAAf,EAAoBzM,CAApB,EAAoBA;AAC1B,eAAW,KAAPyM,CAAO,GACAkK,CAAAA,IAAQ3W,CAAAA,CAAIyM,CAAAA,GAAM,CAAVzM,CADR,GAEAyM,CAAAA,IAAOzM,CAAAA,CAAIhD,MAAJgD,GAAa,CAApByM,GACAkK,CAAAA,IAAQ3W,CAAAA,CAAIyM,CAAAA,GAAM,CAAVzM,CADRyM,GAGAkK,CAAAA,IAAQ3W,CAAAA,CAAIyM,CAAAA,GAAM,CAAVzM,CAAR2W,IAAwBA,CAAAA,IAAQ3W,CAAAA,CAAIyM,CAAAA,GAAM,CAAVzM,CAL3C;AAKqD,OARlCvK,CAnBnBsH;AAiCJ,UAAI+Z,CAAAA,GAAAA,EAAJ;;AACA,WAAK/Z,CAAAA,GAAI,CAAT,EAAYA,CAAAA,GAAI2Z,CAAAA,CAAe1Z,MAA/B,EAAuCD,CAAAA,IAAK,CAA5C,EACI+Z,CAAAA,CAAmBlY,IAAnBkY,CAAmBlY,CAAM8X,CAAAA,CAAe3Z,CAAf2Z,CAAN9X,EAAyB8X,CAAAA,CAAe3Z,CAAAA,GAAE,CAAjB2Z,CAAzB9X,CAAnBkY;;AAGJ,aAAOA,CAAP;AAAOA,KA9EJ/c;AAkFPgd,IAAAA,cAAAA,EAAgB,YAAA;AAEd,WADIC,IAAAA,CAAAA,GAAAA,EAAAA,EACKja,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAItH,KAAK+gB,eAAL/gB,CAAqBuH,MAAzC,EAAiDD,CAAAA,IAAK,CAAtD,EACIia,CAAAA,CAAoBpY,IAApBoY,CAAoBpY,CAAMnJ,KAAK+gB,eAAL/gB,CAAqBsH,CAArBtH,CAANmJ,EAA+BnJ,KAAK+gB,eAAL/gB,CAAqBsH,CAAAA,GAAE,CAAvBtH,CAA/BmJ,CAApBoY;;AAEJ,aAAOA,CAAP;AAAOA;AAvFFjd,GAp+DXrE,EAkkEC,YAAA;AACG,QAAIoC,CAAAA,GAAO,YAAA;AACP,UAAImf,CAAAA,GAAa/e,QAAAA,CAASgf,gBAAThf,CAA0B,YAA1BA,CAAjB;AAEAuJ,MAAAA,KAAAA,CAAMC,SAAND,CAAgBR,OAAhBQ,CAAwBvB,IAAxBuB,CAA6BwV,CAA7BxV,EAAyC,UAAUoK,CAAV,EAAUA;AAC/C,YAAI9T,CAAAA,GAASrC,CAAAA,CAAWsC,IAAXtC,CAAgBuC,MAAhBvC,CAAgBuC;AACzB/B,UAAAA,SAAAA,EAAW2V,CADc5T;AAEzBlC,UAAAA,OAAAA,EAAS,cAFgBkC;AAGzBpB,UAAAA,aAAAA,EAAAA,CAAe;AAHUoB,SAAhBvC,EAIVmW,CAAAA,CAAGsL,OAJOzhB,CAAb;AAMAmW,QAAAA,CAAAA,CAAGzC,KAAHyC,CAASxB,OAATwB,GAAmB,OAAnBA;AAEA,YAAIvK,CAAAA,GAAa5L,CAAAA,CAAWsD,MAAXtD,CAAkBqC,CAAlBrC,CAAjB;AAEA,YAAImW,CAAAA,CAAGsL,OAAHtL,CAAW5O,KAAf,EACI,IAAIA,CAAAA,GAAQoD,IAAAA,CAAK+W,KAAL/W,CAAWwL,CAAAA,CAAGsL,OAAHtL,CAAW5O,KAAtBoD,CAAZ;AAGJiB,QAAAA,CAAAA,CAAW1D,IAAX0D,CAAgBuK,CAAAA,CAAGsL,OAAHtL,CAAWtN,GAA3B+C,EAAgCrE,CAAhCqE;AAAgCrE,OAfpCwE;AAmBwB,KAtB5B;;AAsB4B,mBAAxBvJ,QAAAA,CAASmf,UAAe,GACxBvf,CAAAA,EADwB,GAGxBZ,MAAAA,CAAO+G,gBAAP/G,CAAwB,MAAxBA,EAAgCY,CAAhCZ,CAHwB;AAGQY,GA1BvC,EAlkEDpC,EAgmEOA,CAhmEPA;AAgmEOA,CA7sFN,C","sourceRoot":"/","sourcesContent":["/*! wavesurfer.js 1.4.0 (Mon, 10 Apr 2017 08:55:35 GMT)\n* https://github.com/katspaugh/wavesurfer.js\n* @license BSD-3-Clause */\n!function(a,b){\"function\"==typeof define&&define.amd?define(\"wavesurfer\",[],function(){return a.WaveSurfer=b()}):\"object\"==typeof exports?module.exports=b():a.WaveSurfer=b()}(this,function(){\"use strict\";var a={defaultParams:{audioContext:null,audioRate:1,autoCenter:!0,backend:\"WebAudio\",barHeight:1,closeAudioContext:!1,container:null,cursorColor:\"#333\",cursorWidth:1,dragSelection:!0,fillParent:!0,forceDecode:!1,height:128,hideScrollbar:!1,interact:!0,loopSelection:!0,mediaContainer:null,mediaControls:!1,mediaType:\"audio\",minPxPerSec:20,partialRender:!1,pixelRatio:window.devicePixelRatio||screen.deviceXDPI/screen.logicalXDPI,progressColor:\"#555\",normalize:!1,renderer:\"MultiCanvas\",scrollParent:!1,skipLength:2,splitChannels:!1,waveColor:\"#999\"},init:function(b){if(this.params=a.util.extend({},this.defaultParams,b),this.container=\"string\"==typeof b.container?document.querySelector(this.params.container):this.params.container,!this.container)throw new Error(\"Container element not found\");if(null==this.params.mediaContainer?this.mediaContainer=this.container:\"string\"==typeof this.params.mediaContainer?this.mediaContainer=document.querySelector(this.params.mediaContainer):this.mediaContainer=this.params.mediaContainer,!this.mediaContainer)throw new Error(\"Media Container element not found\");this.savedVolume=0,this.isMuted=!1,this.tmpEvents=[],this.currentAjax=null,this.createDrawer(),this.createBackend(),this.createPeakCache(),this.isDestroyed=!1},createDrawer:function(){var b=this;this.drawer=Object.create(a.Drawer[this.params.renderer]),this.drawer.init(this.container,this.params),this.drawer.on(\"redraw\",function(){b.drawBuffer(),b.drawer.progress(b.backend.getPlayedPercents())}),this.drawer.on(\"click\",function(a,c){setTimeout(function(){b.seekTo(c)},0)}),this.drawer.on(\"scroll\",function(a){b.params.partialRender&&b.drawBuffer(),b.fireEvent(\"scroll\",a)})},createBackend:function(){var b=this;this.backend&&this.backend.destroy(),\"AudioElement\"==this.params.backend&&(this.params.backend=\"MediaElement\"),\"WebAudio\"!=this.params.backend||a.WebAudio.supportsWebAudio()||(this.params.backend=\"MediaElement\"),this.backend=Object.create(a[this.params.backend]),this.backend.init(this.params),this.backend.on(\"finish\",function(){b.fireEvent(\"finish\")}),this.backend.on(\"play\",function(){b.fireEvent(\"play\")}),this.backend.on(\"pause\",function(){b.fireEvent(\"pause\")}),this.backend.on(\"audioprocess\",function(a){b.drawer.progress(b.backend.getPlayedPercents()),b.fireEvent(\"audioprocess\",a)})},createPeakCache:function(){this.params.partialRender&&(this.peakCache=Object.create(a.PeakCache),this.peakCache.init())},getDuration:function(){return this.backend.getDuration()},getCurrentTime:function(){return this.backend.getCurrentTime()},play:function(a,b){this.fireEvent(\"interaction\",this.play.bind(this,a,b)),this.backend.play(a,b)},pause:function(){this.backend.isPaused()||this.backend.pause()},playPause:function(){this.backend.isPaused()?this.play():this.pause()},isPlaying:function(){return!this.backend.isPaused()},skipBackward:function(a){this.skip(-a||-this.params.skipLength)},skipForward:function(a){this.skip(a||this.params.skipLength)},skip:function(a){var b=this.getCurrentTime()||0,c=this.getDuration()||1;b=Math.max(0,Math.min(c,b+(a||0))),this.seekAndCenter(b/c)},seekAndCenter:function(a){this.seekTo(a),this.drawer.recenter(a)},seekTo:function(a){this.fireEvent(\"interaction\",this.seekTo.bind(this,a));var b=this.backend.isPaused();b||this.backend.pause();var c=this.params.scrollParent;this.params.scrollParent=!1,this.backend.seekTo(a*this.getDuration()),this.drawer.progress(this.backend.getPlayedPercents()),b||this.backend.play(),this.params.scrollParent=c,this.fireEvent(\"seek\",a)},stop:function(){this.pause(),this.seekTo(0),this.drawer.progress(0)},setVolume:function(a){this.backend.setVolume(a)},getVolume:function(){return this.backend.getVolume()},setPlaybackRate:function(a){this.backend.setPlaybackRate(a)},getPlaybackRate:function(){return this.backend.getPlaybackRate()},toggleMute:function(){this.setMute(!this.isMuted)},setMute:function(a){a!==this.isMuted&&(a?(this.savedVolume=this.backend.getVolume(),this.backend.setVolume(0),this.isMuted=!0):(this.backend.setVolume(this.savedVolume),this.isMuted=!1))},getMute:function(){return this.isMuted},getFilters:function(){return this.backend.filters||[]},toggleScroll:function(){this.params.scrollParent=!this.params.scrollParent,this.drawBuffer()},toggleInteraction:function(){this.params.interact=!this.params.interact},drawBuffer:function(){var a=Math.round(this.getDuration()*this.params.minPxPerSec*this.params.pixelRatio),b=this.drawer.getWidth(),c=a,d=this.drawer.getScrollX(),e=Math.min(d+b,c);if(this.params.fillParent&&(!this.params.scrollParent||a<b)&&(c=b,d=0,e=c),this.params.partialRender)for(var f=this.peakCache.addRangeToPeakCache(c,d,e),g=0;g<f.length;g++){var h=this.backend.getPeaks(c,f[g][0],f[g][1]);this.drawer.drawPeaks(h,c,f[g][0],f[g][1])}else{d=0,e=c;var h=this.backend.getPeaks(c,d,e);this.drawer.drawPeaks(h,c,d,e)}this.fireEvent(\"redraw\",h,c)},zoom:function(a){this.params.minPxPerSec=a,this.params.scrollParent=!0,this.drawBuffer(),this.drawer.progress(this.backend.getPlayedPercents()),this.drawer.recenter(this.getCurrentTime()/this.getDuration()),this.fireEvent(\"zoom\",a)},loadArrayBuffer:function(a){this.decodeArrayBuffer(a,function(a){this.isDestroyed||this.loadDecodedBuffer(a)}.bind(this))},loadDecodedBuffer:function(a){this.backend.load(a),this.drawBuffer(),this.fireEvent(\"ready\")},loadBlob:function(a){var b=this,c=new FileReader;c.addEventListener(\"progress\",function(a){b.onProgress(a)}),c.addEventListener(\"load\",function(a){b.loadArrayBuffer(a.target.result)}),c.addEventListener(\"error\",function(){b.fireEvent(\"error\",\"Error reading file\")}),c.readAsArrayBuffer(a),this.empty()},load:function(a,b,c){switch(this.empty(),this.isMuted=!1,this.params.backend){case\"WebAudio\":return this.loadBuffer(a,b);case\"MediaElement\":return this.loadMediaElement(a,b,c)}},loadBuffer:function(a,b){var c=function(b){return b&&this.tmpEvents.push(this.once(\"ready\",b)),this.getArrayBuffer(a,this.loadArrayBuffer.bind(this))}.bind(this);return b?(this.backend.setPeaks(b),this.drawBuffer(),this.tmpEvents.push(this.once(\"interaction\",c)),void 0):c()},loadMediaElement:function(a,b,c){var d=a;if(\"string\"==typeof a)this.backend.load(d,this.mediaContainer,b,c);else{var e=a;this.backend.loadElt(e,b),d=e.src}this.tmpEvents.push(this.backend.once(\"canplay\",function(){this.drawBuffer(),this.fireEvent(\"ready\")}.bind(this)),this.backend.once(\"error\",function(a){this.fireEvent(\"error\",a)}.bind(this))),b&&this.backend.setPeaks(b),b&&!this.params.forceDecode||!this.backend.supportsWebAudio()||this.getArrayBuffer(d,function(a){this.decodeArrayBuffer(a,function(a){this.backend.buffer=a,this.backend.setPeaks(null),this.drawBuffer(),this.fireEvent(\"waveform-ready\")}.bind(this))}.bind(this))},decodeArrayBuffer:function(a,b){this.arraybuffer=a,this.backend.decodeArrayBuffer(a,function(c){this.isDestroyed||this.arraybuffer!=a||(b(c),this.arraybuffer=null)}.bind(this),this.fireEvent.bind(this,\"error\",\"Error decoding audiobuffer\"))},getArrayBuffer:function(b,c){var d=this,e=a.util.ajax({url:b,responseType:\"arraybuffer\"});return this.currentAjax=e,this.tmpEvents.push(e.on(\"progress\",function(a){d.onProgress(a)}),e.on(\"success\",function(a,b){c(a),d.currentAjax=null}),e.on(\"error\",function(a){d.fireEvent(\"error\",\"XHR error: \"+a.target.statusText),d.currentAjax=null})),e},onProgress:function(a){if(a.lengthComputable)var b=a.loaded/a.total;else b=a.loaded/(a.loaded+1e6);this.fireEvent(\"loading\",Math.round(100*b),a.target)},exportPCM:function(a,b,c){a=a||1024,b=b||1e4,c=c||!1;var d=this.backend.getPeaks(a,b),e=[].map.call(d,function(a){return Math.round(a*b)/b}),f=JSON.stringify(e);return c||window.open(\"data:application/json;charset=utf-8,\"+encodeURIComponent(f)),f},exportImage:function(a,b){return a||(a=\"image/png\"),b||(b=1),this.drawer.getImage(a,b)},cancelAjax:function(){this.currentAjax&&(this.currentAjax.xhr.abort(),this.currentAjax=null)},clearTmpEvents:function(){this.tmpEvents.forEach(function(a){a.un()})},empty:function(){this.backend.isPaused()||(this.stop(),this.backend.disconnectSource()),this.cancelAjax(),this.clearTmpEvents(),this.drawer.progress(0),this.drawer.setWidth(0),this.drawer.drawPeaks({length:this.drawer.getWidth()},0)},destroy:function(){this.fireEvent(\"destroy\"),this.cancelAjax(),this.clearTmpEvents(),this.unAll(),this.backend.destroy(),this.drawer.destroy(),this.isDestroyed=!0}};return a.create=function(b){var c=Object.create(a);return c.init(b),c},a.util={extend:function(a){var b=Array.prototype.slice.call(arguments,1);return b.forEach(function(b){Object.keys(b).forEach(function(c){a[c]=b[c]})}),a},debounce:function(a,b,c){var d,e,f,g=function(){f=null,c||a.apply(e,d)};return function(){e=this,d=arguments;var h=c&&!f;clearTimeout(f),f=setTimeout(g,b),f||(f=setTimeout(g,b)),h&&a.apply(e,d)}},min:function(a){var b=+(1/0);for(var c in a)a[c]<b&&(b=a[c]);return b},max:function(a){var b=-(1/0);for(var c in a)a[c]>b&&(b=a[c]);return b},getId:function(){return\"wavesurfer_\"+Math.random().toString(32).substring(2)},ajax:function(b){var c=Object.create(a.Observer),d=new XMLHttpRequest,e=!1;return d.open(b.method||\"GET\",b.url,!0),d.responseType=b.responseType||\"json\",d.addEventListener(\"progress\",function(a){c.fireEvent(\"progress\",a),a.lengthComputable&&a.loaded==a.total&&(e=!0)}),d.addEventListener(\"load\",function(a){e||c.fireEvent(\"progress\",a),c.fireEvent(\"load\",a),200==d.status||206==d.status?c.fireEvent(\"success\",d.response,a):c.fireEvent(\"error\",a)}),d.addEventListener(\"error\",function(a){c.fireEvent(\"error\",a)}),d.send(),c.xhr=d,c}},a.Observer={on:function(a,b){this.handlers||(this.handlers={});var c=this.handlers[a];return c||(c=this.handlers[a]=[]),c.push(b),{name:a,callback:b,un:this.un.bind(this,a,b)}},un:function(a,b){if(this.handlers){var c=this.handlers[a];if(c)if(b)for(var d=c.length-1;d>=0;d--)c[d]==b&&c.splice(d,1);else c.length=0}},unAll:function(){this.handlers=null},once:function(a,b){var c=this,d=function(){b.apply(this,arguments),setTimeout(function(){c.un(a,d)},0)};return this.on(a,d)},fireEvent:function(a){if(this.handlers){var b=this.handlers[a],c=Array.prototype.slice.call(arguments,1);b&&b.forEach(function(a){a.apply(null,c)})}}},a.util.extend(a,a.Observer),a.WebAudio={scriptBufferSize:256,PLAYING_STATE:0,PAUSED_STATE:1,FINISHED_STATE:2,supportsWebAudio:function(){return!(!window.AudioContext&&!window.webkitAudioContext)},getAudioContext:function(){return a.WebAudio.audioContext||(a.WebAudio.audioContext=new(window.AudioContext||window.webkitAudioContext)),a.WebAudio.audioContext},getOfflineAudioContext:function(b){return a.WebAudio.offlineAudioContext||(a.WebAudio.offlineAudioContext=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,2,b)),a.WebAudio.offlineAudioContext},init:function(b){this.params=b,this.ac=b.audioContext||this.getAudioContext(),this.lastPlay=this.ac.currentTime,this.startPosition=0,this.scheduledPause=null,this.states=[Object.create(a.WebAudio.state.playing),Object.create(a.WebAudio.state.paused),Object.create(a.WebAudio.state.finished)],this.createVolumeNode(),this.createScriptNode(),this.createAnalyserNode(),this.setState(this.PAUSED_STATE),this.setPlaybackRate(this.params.audioRate),this.setLength(0)},disconnectFilters:function(){this.filters&&(this.filters.forEach(function(a){a&&a.disconnect()}),this.filters=null,this.analyser.connect(this.gainNode))},setState:function(a){this.state!==this.states[a]&&(this.state=this.states[a],this.state.init.call(this))},setFilter:function(){this.setFilters([].slice.call(arguments))},setFilters:function(a){this.disconnectFilters(),a&&a.length&&(this.filters=a,this.analyser.disconnect(),a.reduce(function(a,b){return a.connect(b),b},this.analyser).connect(this.gainNode))},createScriptNode:function(){this.ac.createScriptProcessor?this.scriptNode=this.ac.createScriptProcessor(this.scriptBufferSize):this.scriptNode=this.ac.createJavaScriptNode(this.scriptBufferSize),this.scriptNode.connect(this.ac.destination)},addOnAudioProcess:function(){var a=this;this.scriptNode.onaudioprocess=function(){var b=a.getCurrentTime();b>=a.getDuration()?(a.setState(a.FINISHED_STATE),a.fireEvent(\"pause\")):b>=a.scheduledPause?a.pause():a.state===a.states[a.PLAYING_STATE]&&a.fireEvent(\"audioprocess\",b)}},removeOnAudioProcess:function(){this.scriptNode.onaudioprocess=null},createAnalyserNode:function(){this.analyser=this.ac.createAnalyser(),this.analyser.connect(this.gainNode)},createVolumeNode:function(){this.ac.createGain?this.gainNode=this.ac.createGain():this.gainNode=this.ac.createGainNode(),this.gainNode.connect(this.ac.destination)},setVolume:function(a){this.gainNode.gain.value=a},getVolume:function(){return this.gainNode.gain.value},decodeArrayBuffer:function(a,b,c){this.offlineAc||(this.offlineAc=this.getOfflineAudioContext(this.ac?this.ac.sampleRate:44100)),this.offlineAc.decodeAudioData(a,function(a){b(a)}.bind(this),c)},setPeaks:function(a){this.peaks=a},setLength:function(a){if(!this.mergedPeaks||a!=2*this.mergedPeaks.length-1+2){this.splitPeaks=[],this.mergedPeaks=[];for(var b=this.buffer?this.buffer.numberOfChannels:1,c=0;c<b;c++)this.splitPeaks[c]=[],this.splitPeaks[c][2*(a-1)]=0,this.splitPeaks[c][2*(a-1)+1]=0;this.mergedPeaks[2*(a-1)]=0,this.mergedPeaks[2*(a-1)+1]=0}},getPeaks:function(a,b,c){if(this.peaks)return this.peaks;this.setLength(a);for(var d=this.buffer.length/a,e=~~(d/10)||1,f=this.buffer.numberOfChannels,g=0;g<f;g++)for(var h=this.splitPeaks[g],i=this.buffer.getChannelData(g),j=b;j<=c;j++){for(var k=~~(j*d),l=~~(k+d),m=0,n=0,o=k;o<l;o+=e){var p=i[o];p>n&&(n=p),p<m&&(m=p)}h[2*j]=n,h[2*j+1]=m,(0==g||n>this.mergedPeaks[2*j])&&(this.mergedPeaks[2*j]=n),(0==g||m<this.mergedPeaks[2*j+1])&&(this.mergedPeaks[2*j+1]=m)}return this.params.splitChannels?this.splitPeaks:this.mergedPeaks},getPlayedPercents:function(){return this.state.getPlayedPercents.call(this)},disconnectSource:function(){this.source&&this.source.disconnect()},destroy:function(){this.isPaused()||this.pause(),this.unAll(),this.buffer=null,this.disconnectFilters(),this.disconnectSource(),this.gainNode.disconnect(),this.scriptNode.disconnect(),this.analyser.disconnect(),this.params.closeAudioContext&&(\"function\"==typeof this.ac.close&&\"closed\"!=this.ac.state&&this.ac.close(),this.ac=null,this.params.audioContext?this.params.audioContext=null:a.WebAudio.audioContext=null,a.WebAudio.offlineAudioContext=null)},load:function(a){this.startPosition=0,this.lastPlay=this.ac.currentTime,this.buffer=a,this.createSource()},createSource:function(){this.disconnectSource(),this.source=this.ac.createBufferSource(),this.source.start=this.source.start||this.source.noteGrainOn,this.source.stop=this.source.stop||this.source.noteOff,this.source.playbackRate.value=this.playbackRate,this.source.buffer=this.buffer,this.source.connect(this.analyser)},isPaused:function(){return this.state!==this.states[this.PLAYING_STATE]},getDuration:function(){return this.buffer?this.buffer.duration:0},seekTo:function(a,b){if(this.buffer)return this.scheduledPause=null,null==a&&(a=this.getCurrentTime(),a>=this.getDuration()&&(a=0)),null==b&&(b=this.getDuration()),this.startPosition=a,this.lastPlay=this.ac.currentTime,this.state===this.states[this.FINISHED_STATE]&&this.setState(this.PAUSED_STATE),{start:a,end:b}},getPlayedTime:function(){return(this.ac.currentTime-this.lastPlay)*this.playbackRate},play:function(a,b){if(this.buffer){this.createSource();var c=this.seekTo(a,b);a=c.start,b=c.end,this.scheduledPause=b,this.source.start(0,a,b-a),\"suspended\"==this.ac.state&&this.ac.resume&&this.ac.resume(),this.setState(this.PLAYING_STATE),this.fireEvent(\"play\")}},pause:function(){this.scheduledPause=null,this.startPosition+=this.getPlayedTime(),this.source&&this.source.stop(0),this.setState(this.PAUSED_STATE),this.fireEvent(\"pause\")},getCurrentTime:function(){return this.state.getCurrentTime.call(this)},getPlaybackRate:function(){return this.playbackRate},setPlaybackRate:function(a){a=a||1,this.isPaused()?this.playbackRate=a:(this.pause(),this.playbackRate=a,this.play())}},a.WebAudio.state={},a.WebAudio.state.playing={init:function(){this.addOnAudioProcess()},getPlayedPercents:function(){var a=this.getDuration();return this.getCurrentTime()/a||0},getCurrentTime:function(){return this.startPosition+this.getPlayedTime()}},a.WebAudio.state.paused={init:function(){this.removeOnAudioProcess()},getPlayedPercents:function(){var a=this.getDuration();return this.getCurrentTime()/a||0},getCurrentTime:function(){return this.startPosition}},a.WebAudio.state.finished={init:function(){this.removeOnAudioProcess(),this.fireEvent(\"finish\")},getPlayedPercents:function(){return 1},getCurrentTime:function(){return this.getDuration()}},a.util.extend(a.WebAudio,a.Observer),a.MediaElement=Object.create(a.WebAudio),a.util.extend(a.MediaElement,{init:function(a){this.params=a,this.media={currentTime:0,duration:0,paused:!0,playbackRate:1,play:function(){},pause:function(){}},this.mediaType=a.mediaType.toLowerCase(),this.elementPosition=a.elementPosition,this.setPlaybackRate(this.params.audioRate),this.createTimer()},createTimer:function(){var a=this,b=function(){if(!a.isPaused()){a.fireEvent(\"audioprocess\",a.getCurrentTime());var c=window.requestAnimationFrame||window.webkitRequestAnimationFrame;c(b)}};this.on(\"play\",b)},load:function(a,b,c,d){var e=document.createElement(this.mediaType);e.controls=this.params.mediaControls,e.autoplay=this.params.autoplay||!1,e.preload=null==d?\"auto\":d,e.src=a,e.style.width=\"100%\";var f=b.querySelector(this.mediaType);f&&b.removeChild(f),b.appendChild(e),this._load(e,c)},loadElt:function(a,b){var c=a;c.controls=this.params.mediaControls,c.autoplay=this.params.autoplay||!1,this._load(c,b)},_load:function(a,b){var c=this;\"function\"==typeof a.load&&a.load(),a.addEventListener(\"error\",function(){c.fireEvent(\"error\",\"Error loading media element\")}),a.addEventListener(\"canplay\",function(){c.fireEvent(\"canplay\")}),a.addEventListener(\"ended\",function(){c.fireEvent(\"finish\")}),this.media=a,this.peaks=b,this.onPlayEnd=null,this.buffer=null,this.setPlaybackRate(this.playbackRate)},isPaused:function(){return!this.media||this.media.paused},getDuration:function(){var a=(this.buffer||this.media).duration;return a>=1/0&&(a=this.media.seekable.end(0)),a},getCurrentTime:function(){return this.media&&this.media.currentTime},getPlayedPercents:function(){return this.getCurrentTime()/this.getDuration()||0},getPlaybackRate:function(){return this.playbackRate||this.media.playbackRate},setPlaybackRate:function(a){this.playbackRate=a||1,this.media.playbackRate=this.playbackRate},seekTo:function(a){null!=a&&(this.media.currentTime=a),this.clearPlayEnd()},play:function(a,b){this.seekTo(a),this.media.play(),b&&this.setPlayEnd(b),this.fireEvent(\"play\")},pause:function(){this.media&&this.media.pause(),this.clearPlayEnd(),this.fireEvent(\"pause\")},setPlayEnd:function(a){var b=this;this.onPlayEnd=function(c){c>=a&&(b.pause(),b.seekTo(a))},this.on(\"audioprocess\",this.onPlayEnd)},clearPlayEnd:function(){this.onPlayEnd&&(this.un(\"audioprocess\",this.onPlayEnd),this.onPlayEnd=null)},getPeaks:function(b,c,d){return this.buffer?a.WebAudio.getPeaks.call(this,b,c,d):this.peaks||[]},getVolume:function(){return this.media.volume},setVolume:function(a){this.media.volume=a},destroy:function(){this.pause(),this.unAll(),this.media&&this.media.parentNode&&this.media.parentNode.removeChild(this.media),this.media=null}}),a.AudioElement=a.MediaElement,a.Drawer={init:function(a,b){this.container=a,this.params=b,this.width=0,this.height=b.height*this.params.pixelRatio,this.lastPos=0,this.initDrawer(b),this.createWrapper(),this.createElements()},createWrapper:function(){this.wrapper=this.container.appendChild(document.createElement(\"wave\")),this.style(this.wrapper,{display:\"block\",position:\"relative\",userSelect:\"none\",webkitUserSelect:\"none\",height:this.params.height+\"px\"}),(this.params.fillParent||this.params.scrollParent)&&this.style(this.wrapper,{width:\"100%\",overflowX:this.params.hideScrollbar?\"hidden\":\"auto\",overflowY:\"hidden\"}),this.setupWrapperEvents()},handleEvent:function(a,b){!b&&a.preventDefault();var c,d=a.targetTouches?a.targetTouches[0].clientX:a.clientX,e=this.wrapper.getBoundingClientRect(),f=this.width,g=this.getWidth();return!this.params.fillParent&&f<g?(c=(d-e.left)*this.params.pixelRatio/f||0,c>1&&(c=1)):c=(d-e.left+this.wrapper.scrollLeft)/this.wrapper.scrollWidth||0,c},setupWrapperEvents:function(){var a=this;this.wrapper.addEventListener(\"click\",function(b){var c=a.wrapper.offsetHeight-a.wrapper.clientHeight;if(0!=c){var d=a.wrapper.getBoundingClientRect();if(b.clientY>=d.bottom-c)return}a.params.interact&&a.fireEvent(\"click\",b,a.handleEvent(b))}),this.wrapper.addEventListener(\"scroll\",function(b){a.fireEvent(\"scroll\",b)})},drawPeaks:function(a,b,c,d){this.setWidth(b),this.params.barWidth?this.drawBars(a,0,c,d):this.drawWave(a,0,c,d)},style:function(a,b){return Object.keys(b).forEach(function(c){a.style[c]!==b[c]&&(a.style[c]=b[c])}),a},resetScroll:function(){null!==this.wrapper&&(this.wrapper.scrollLeft=0)},recenter:function(a){var b=this.wrapper.scrollWidth*a;this.recenterOnPosition(b,!0)},recenterOnPosition:function(a,b){var c=this.wrapper.scrollLeft,d=~~(this.wrapper.clientWidth/2),e=a-d,f=e-c,g=this.wrapper.scrollWidth-this.wrapper.clientWidth;if(0!=g){if(!b&&-d<=f&&f<d){var h=5;f=Math.max(-h,Math.min(h,f)),e=c+f}e=Math.max(0,Math.min(g,e)),e!=c&&(this.wrapper.scrollLeft=e)}},getScrollX:function(){return Math.round(this.wrapper.scrollLeft*this.params.pixelRatio)},getWidth:function(){return Math.round(this.container.clientWidth*this.params.pixelRatio)},setWidth:function(a){this.width!=a&&(this.width=a,this.params.fillParent||this.params.scrollParent?this.style(this.wrapper,{width:\"\"}):this.style(this.wrapper,{width:~~(this.width/this.params.pixelRatio)+\"px\"}),this.updateSize())},setHeight:function(a){a!=this.height&&(this.height=a,this.style(this.wrapper,{height:~~(this.height/this.params.pixelRatio)+\"px\"}),this.updateSize())},progress:function(a){var b=1/this.params.pixelRatio,c=Math.round(a*this.width)*b;if(c<this.lastPos||c-this.lastPos>=b){if(this.lastPos=c,this.params.scrollParent&&this.params.autoCenter){var d=~~(this.wrapper.scrollWidth*a);this.recenterOnPosition(d)}this.updateProgress(c)}},destroy:function(){this.unAll(),this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=null)},initDrawer:function(){},createElements:function(){},updateSize:function(){},drawWave:function(a,b){},clearWave:function(){},updateProgress:function(a){}},a.util.extend(a.Drawer,a.Observer),a.Drawer.Canvas=Object.create(a.Drawer),a.util.extend(a.Drawer.Canvas,{createElements:function(){var a=this.wrapper.appendChild(this.style(document.createElement(\"canvas\"),{position:\"absolute\",zIndex:1,left:0,top:0,bottom:0}));if(this.waveCc=a.getContext(\"2d\"),this.progressWave=this.wrapper.appendChild(this.style(document.createElement(\"wave\"),{position:\"absolute\",zIndex:2,left:0,top:0,bottom:0,overflow:\"hidden\",width:\"0\",display:\"none\",boxSizing:\"border-box\",borderRightStyle:\"solid\",borderRightWidth:this.params.cursorWidth+\"px\",borderRightColor:this.params.cursorColor})),this.params.waveColor!=this.params.progressColor){var b=this.progressWave.appendChild(document.createElement(\"canvas\"));this.progressCc=b.getContext(\"2d\")}},updateSize:function(){var a=Math.round(this.width/this.params.pixelRatio);this.waveCc.canvas.width=this.width,this.waveCc.canvas.height=this.height,this.style(this.waveCc.canvas,{width:a+\"px\"}),this.style(this.progressWave,{display:\"block\"}),this.progressCc&&(this.progressCc.canvas.width=this.width,this.progressCc.canvas.height=this.height,this.style(this.progressCc.canvas,{width:a+\"px\"})),this.clearWave()},clearWave:function(){this.waveCc.clearRect(0,0,this.width,this.height),this.progressCc&&this.progressCc.clearRect(0,0,this.width,this.height)},drawBars:function(b,c,d,e){var f=this;if(b[0]instanceof Array){var g=b;if(this.params.splitChannels)return this.setHeight(g.length*this.params.height*this.params.pixelRatio),void g.forEach(function(a,b){f.drawBars(a,b,d,e)});b=g[0]}var h=[].some.call(b,function(a){return a<0}),i=1;h&&(i=2);var j=.5/this.params.pixelRatio,k=this.width,l=this.params.height*this.params.pixelRatio,m=l*c||0,n=l/2,o=b.length/i,p=this.params.barWidth*this.params.pixelRatio,q=Math.max(this.params.pixelRatio,~~(p/2)),r=p+q,s=1/this.params.barHeight;if(this.params.normalize){var t=a.util.max(b),u=a.util.min(b);s=-u>t?-u:t}var v=o/k;this.waveCc.fillStyle=this.params.waveColor,this.progressCc&&(this.progressCc.fillStyle=this.params.progressColor),[this.waveCc,this.progressCc].forEach(function(a){if(a)for(var c=d/v;c<e/v;c+=r){var f=b[Math.floor(c*v*i)]||0,g=Math.round(f/s*n);a.fillRect(c+j,n-g+m,p+j,2*g)}},this)},drawWave:function(b,c,d,e){var f=this;if(b[0]instanceof Array){var g=b;if(this.params.splitChannels)return this.setHeight(g.length*this.params.height*this.params.pixelRatio),void g.forEach(function(a,b){f.drawWave(a,b,d,e)});b=g[0]}var h=[].some.call(b,function(a){return a<0});if(!h){for(var i=[],j=0,k=b.length;j<k;j++)i[2*j]=b[j],i[2*j+1]=-b[j];b=i}var l=.5/this.params.pixelRatio,m=this.params.height*this.params.pixelRatio,n=m*c||0,o=m/2,p=~~(b.length/2),q=1;this.params.fillParent&&this.width!=p&&(q=this.width/p);var r=1/this.params.barHeight;if(this.params.normalize){var s=a.util.max(b),t=a.util.min(b);r=-t>s?-t:s}this.waveCc.fillStyle=this.params.waveColor,this.progressCc&&(this.progressCc.fillStyle=this.params.progressColor),[this.waveCc,this.progressCc].forEach(function(a){if(a){a.beginPath(),a.moveTo(d*q+l,o+n);for(var c=d;c<e;c++){var f=Math.round(b[2*c]/r*o);a.lineTo(c*q+l,o-f+n)}for(var c=e-1;c>=d;c--){var f=Math.round(b[2*c+1]/r*o);a.lineTo(c*q+l,o-f+n)}a.closePath(),a.fill(),a.fillRect(0,o+n-l,this.width,l)}},this)},updateProgress:function(a){this.style(this.progressWave,{width:a+\"px\"})},getImage:function(a,b){return this.waveCc.canvas.toDataURL(a,b)}}),a.Drawer.MultiCanvas=Object.create(a.Drawer),a.util.extend(a.Drawer.MultiCanvas,{initDrawer:function(a){if(this.maxCanvasWidth=null!=a.maxCanvasWidth?a.maxCanvasWidth:4e3,this.maxCanvasElementWidth=Math.round(this.maxCanvasWidth/this.params.pixelRatio),this.maxCanvasWidth<=1)throw\"maxCanvasWidth must be greater than 1.\";if(this.maxCanvasWidth%2==1)throw\"maxCanvasWidth must be an even number.\";this.hasProgressCanvas=this.params.waveColor!=this.params.progressColor,this.halfPixel=.5/this.params.pixelRatio,this.canvases=[]},createElements:function(){this.progressWave=this.wrapper.appendChild(this.style(document.createElement(\"wave\"),{position:\"absolute\",zIndex:2,left:0,top:0,bottom:0,overflow:\"hidden\",width:\"0\",display:\"none\",boxSizing:\"border-box\",borderRightStyle:\"solid\",borderRightWidth:this.params.cursorWidth+\"px\",borderRightColor:this.params.cursorColor})),this.addCanvas()},updateSize:function(){for(var a=Math.round(this.width/this.params.pixelRatio),b=Math.ceil(a/this.maxCanvasElementWidth);this.canvases.length<b;)this.addCanvas();for(;this.canvases.length>b;)this.removeCanvas();for(var c in this.canvases){var d=this.maxCanvasWidth+2*Math.ceil(this.params.pixelRatio/2);c==this.canvases.length-1&&(d=this.width-this.maxCanvasWidth*(this.canvases.length-1)),this.updateDimensions(this.canvases[c],d,this.height),this.clearWaveForEntry(this.canvases[c])}},addCanvas:function(){var a={},b=this.maxCanvasElementWidth*this.canvases.length;a.wave=this.wrapper.appendChild(this.style(document.createElement(\"canvas\"),{position:\"absolute\",zIndex:1,left:b+\"px\",top:0,bottom:0,height:\"100%\"})),a.waveCtx=a.wave.getContext(\"2d\"),this.hasProgressCanvas&&(a.progress=this.progressWave.appendChild(this.style(document.createElement(\"canvas\"),{position:\"absolute\",left:b+\"px\",top:0,bottom:0,height:\"100%\"})),a.progressCtx=a.progress.getContext(\"2d\")),this.canvases.push(a)},removeCanvas:function(){var a=this.canvases.pop();a.wave.parentElement.removeChild(a.wave),this.hasProgressCanvas&&a.progress.parentElement.removeChild(a.progress)},updateDimensions:function(a,b,c){var d=Math.round(b/this.params.pixelRatio),e=Math.round(this.width/this.params.pixelRatio);a.start=a.waveCtx.canvas.offsetLeft/e||0,a.end=a.start+d/e,a.waveCtx.canvas.width=b,a.waveCtx.canvas.height=c,this.style(a.waveCtx.canvas,{width:d+\"px\"}),this.style(this.progressWave,{display:\"block\"}),this.hasProgressCanvas&&(a.progressCtx.canvas.width=b,a.progressCtx.canvas.height=c,this.style(a.progressCtx.canvas,{width:d+\"px\"}))},clearWave:function(){for(var a in this.canvases)this.clearWaveForEntry(this.canvases[a])},clearWaveForEntry:function(a){a.waveCtx.clearRect(0,0,a.waveCtx.canvas.width,a.waveCtx.canvas.height),this.hasProgressCanvas&&a.progressCtx.clearRect(0,0,a.progressCtx.canvas.width,a.progressCtx.canvas.height)},drawBars:function(b,c,d,e){var f=this;if(b[0]instanceof Array){var g=b;if(this.params.splitChannels)return this.setHeight(g.length*this.params.height*this.params.pixelRatio),void g.forEach(function(a,b){f.drawBars(a,b,d,e)});b=g[0]}var h=[].some.call(b,function(a){return a<0}),i=1;h&&(i=2);var j=this.width,k=this.params.height*this.params.pixelRatio,l=k*c||0,m=k/2,n=b.length/i,o=this.params.barWidth*this.params.pixelRatio,p=Math.max(this.params.pixelRatio,~~(o/2)),q=o+p,r=1/this.params.barHeight;if(this.params.normalize){var s=a.util.max(b),t=a.util.min(b);r=-t>s?-t:s}for(var u=n/j,v=d/u;v<e/u;v+=q){var w=b[Math.floor(v*u*i)]||0,x=Math.round(w/r*m);this.fillRect(v+this.halfPixel,m-x+l,o+this.halfPixel,2*x)}},drawWave:function(b,c,d,e){var f=this;if(b[0]instanceof Array){var g=b;if(this.params.splitChannels)return this.setHeight(g.length*this.params.height*this.params.pixelRatio),void g.forEach(function(a,b){f.drawWave(a,b,d,e)});b=g[0]}var h=[].some.call(b,function(a){return a<0});if(!h){for(var i=[],j=0,k=b.length;j<k;j++)i[2*j]=b[j],i[2*j+1]=-b[j];b=i}var l=this.params.height*this.params.pixelRatio,m=l*c||0,n=l/2,o=1/this.params.barHeight;if(this.params.normalize){var p=a.util.max(b),q=a.util.min(b);o=-q>p?-q:p}this.drawLine(b,o,n,m,d,e),this.fillRect(0,n+m-this.halfPixel,this.width,this.halfPixel)},drawLine:function(a,b,c,d,e,f){for(var g in this.canvases){var h=this.canvases[g];this.setFillStyles(h),this.drawLineToContext(h,h.waveCtx,a,b,c,d,e,f),this.drawLineToContext(h,h.progressCtx,a,b,c,d,e,f)}},drawLineToContext:function(a,b,c,d,e,f,g,h){if(b){var i=c.length/2,j=1;this.params.fillParent&&this.width!=i&&(j=this.width/i);var k=Math.round(i*a.start),l=Math.round(i*a.end);if(!(k>h||l<g)){var m=Math.max(k,g),n=Math.min(l,h);b.beginPath(),b.moveTo((m-k)*j+this.halfPixel,e+f);for(var o=m;o<n;o++){var p=c[2*o]||0,q=Math.round(p/d*e);b.lineTo((o-k)*j+this.halfPixel,e-q+f)}for(var o=n-1;o>=m;o--){var p=c[2*o+1]||0,q=Math.round(p/d*e);b.lineTo((o-k)*j+this.halfPixel,e-q+f)}b.closePath(),b.fill()}}},fillRect:function(a,b,c,d){for(var e=Math.floor(a/this.maxCanvasWidth),f=Math.min(Math.ceil((a+c)/this.maxCanvasWidth)+1,this.canvases.length),g=e;g<f;g++){var h=this.canvases[g],i=g*this.maxCanvasWidth,j={x1:Math.max(a,g*this.maxCanvasWidth),y1:b,x2:Math.min(a+c,g*this.maxCanvasWidth+h.waveCtx.canvas.width),y2:b+d};j.x1<j.x2&&(this.setFillStyles(h),this.fillRectToContext(h.waveCtx,j.x1-i,j.y1,j.x2-j.x1,j.y2-j.y1),this.fillRectToContext(h.progressCtx,j.x1-i,j.y1,j.x2-j.x1,j.y2-j.y1))}},fillRectToContext:function(a,b,c,d,e){a&&a.fillRect(b,c,d,e)},setFillStyles:function(a){a.waveCtx.fillStyle=this.params.waveColor,this.hasProgressCanvas&&(a.progressCtx.fillStyle=this.params.progressColor)},updateProgress:function(a){this.style(this.progressWave,{width:a+\"px\"})},getImage:function(a,b){var c=[];return this.canvases.forEach(function(d){c.push(d.wave.toDataURL(a,b))}),c.length>1?c:c[0]}}),a.Drawer.SplitWavePointPlot=Object.create(a.Drawer.Canvas),a.util.extend(a.Drawer.SplitWavePointPlot,{defaultPlotParams:{plotNormalizeTo:\"whole\",plotTimeStart:0,plotMin:0,\nplotMax:1,plotColor:\"#f63\",plotProgressColor:\"#F00\",plotPointHeight:2,plotPointWidth:2,plotSeparator:!0,plotSeparatorColor:\"black\",plotRangeDisplay:!1,plotRangeUnits:\"\",plotRangePrecision:4,plotRangeIgnoreOutliers:!1,plotRangeFontSize:12,plotRangeFontType:\"Ariel\",waveDrawMedianLine:!0,plotFileDelimiter:\"\\t\"},plotTimeStart:0,plotTimeEnd:-1,plotArrayLoaded:!1,plotArray:[],plotPoints:[],plotMin:0,plotMax:1,initDrawer:function(a){var b=this;for(var c in this.defaultPlotParams)void 0===this.params[c]&&(this.params[c]=this.defaultPlotParams[c]);if(this.plotTimeStart=this.params.plotTimeStart,void 0!==this.params.plotTimeEnd&&(this.plotTimeEnd=this.params.plotTimeEnd),Array.isArray(a.plotArray))this.plotArray=a.plotArray,this.plotArrayLoaded=!0;else{var d=function(a){b.plotArray=a,b.plotArrayLoaded=!0,b.fireEvent(\"plot_array_loaded\")};this.loadPlotArrayFromFile(a.plotFileUrl,d,this.params.plotFileDelimiter)}},drawPeaks:function(a,b,c,d){if(1==this.plotArrayLoaded)this.setWidth(b),this.splitChannels=!0,this.params.height=this.params.height/2,a[0]instanceof Array&&(a=a[0]),this.params.barWidth?this.drawBars(a,1,c,d):this.drawWave(a,1,c,d),this.params.height=2*this.params.height,this.calculatePlots(),this.drawPlots();else{var e=this;e.on(\"plot-array-loaded\",function(){e.drawPeaks(a,b,c,d)})}},drawPlots:function(){var a=this.params.height*this.params.pixelRatio/2,b=.5/this.params.pixelRatio;this.waveCc.fillStyle=this.params.plotColor,this.progressCc&&(this.progressCc.fillStyle=this.params.plotProgressColor);for(var c in this.plotPoints){var d=parseInt(c),e=a-this.params.plotPointHeight-this.plotPoints[c]*(a-this.params.plotPointHeight),f=this.params.plotPointHeight;this.waveCc.fillRect(d,e,this.params.plotPointWidth,f),this.progressCc&&this.progressCc.fillRect(d,e,this.params.plotPointWidth,f)}this.params.plotSeparator&&(this.waveCc.fillStyle=this.params.plotSeparatorColor,this.waveCc.fillRect(0,a,this.width,b)),this.params.plotRangeDisplay&&this.displayPlotRange()},displayPlotRange:function(){var a=this.params.plotRangeFontSize*this.params.pixelRatio,b=this.plotMax.toPrecision(this.params.plotRangePrecision)+\" \"+this.params.plotRangeUnits,c=this.plotMin.toPrecision(this.params.plotRangePrecision)+\" \"+this.params.plotRangeUnits;this.waveCc.font=a.toString()+\"px \"+this.params.plotRangeFontType,this.waveCc.fillText(b,3,a),this.waveCc.fillText(c,3,this.height/2)},calculatePlots:function(){this.plotPoints={},this.calculatePlotTimeEnd();for(var a=[],b=-1,c=0,d=99999999999999,e=0,f=99999999999999,g=this.plotTimeEnd-this.plotTimeStart,h=0;h<this.plotArray.length;h++){var i=this.plotArray[h];if(i.value>c&&(c=i.value),i.value<d&&(d=i.value),i.time>=this.plotTimeStart&&i.time<=this.plotTimeEnd){var j=Math.round(this.width*(i.time-this.plotTimeStart)/g);if(a.push(i.value),j!==b&&a.length>0){var k=this.avg(a);k>e&&(e=k),k<f&&(f=k),this.plotPoints[b]=k,a=[]}b=j}}\"whole\"==this.params.plotNormalizeTo?(this.plotMin=d,this.plotMax=c):\"values\"==this.params.plotNormalizeTo?(this.plotMin=this.params.plotMin,this.plotMax=this.params.plotMax):(this.plotMin=f,this.plotMax=e),this.normalizeValues()},normalizeValues:function(){var a={};if(\"none\"!==this.params.plotNormalizeTo){for(var b in this.plotPoints){var c=(this.plotPoints[b]-this.plotMin)/(this.plotMax-this.plotMin);c>1?this.params.plotRangeIgnoreOutliers||(a[b]=1):c<0?this.params.plotRangeIgnoreOutliers||(a[b]=0):a[b]=c}this.plotPoints=a}},loadPlotArrayFromFile:function(b,c,d){void 0===d&&(d=\"\\t\");var e=[],f={url:b,responseType:\"text\"},g=a.util.ajax(f);g.on(\"load\",function(a){if(200==a.currentTarget.status){for(var b=a.currentTarget.responseText.split(\"\\n\"),f=0;f<b.length;f++){var g=b[f].split(d);2==g.length&&e.push({time:parseFloat(g[0]),value:parseFloat(g[1])})}c(e)}})},calculatePlotTimeEnd:function(){void 0!==this.params.plotTimeEnd?this.plotTimeEnd=this.params.plotTimeEnd:this.plotTimeEnd=this.plotArray[this.plotArray.length-1].time},avg:function(a){var b=a.reduce(function(a,b){return a+b});return b/a.length}}),a.util.extend(a.Drawer.SplitWavePointPlot,a.Observer),a.PeakCache={init:function(){this.clearPeakCache()},clearPeakCache:function(){this.peakCacheRanges=[],this.peakCacheLength=-1},addRangeToPeakCache:function(a,b,c){a!=this.peakCacheLength&&(this.clearPeakCache(),this.peakCacheLength=a);for(var d=[],e=0;e<this.peakCacheRanges.length&&this.peakCacheRanges[e]<b;)e++;for(e%2==0&&d.push(b);e<this.peakCacheRanges.length&&this.peakCacheRanges[e]<=c;)d.push(this.peakCacheRanges[e]),e++;e%2==0&&d.push(c),d=d.filter(function(a,b,c){return 0==b?a!=c[b+1]:b==c.length-1?a!=c[b-1]:a!=c[b-1]&&a!=c[b+1]}),this.peakCacheRanges=this.peakCacheRanges.concat(d),this.peakCacheRanges=this.peakCacheRanges.sort(function(a,b){return a-b}).filter(function(a,b,c){return 0==b?a!=c[b+1]:b==c.length-1?a!=c[b-1]:a!=c[b-1]&&a!=c[b+1]});var f=[];for(e=0;e<d.length;e+=2)f.push([d[e],d[e+1]]);return f},getCacheRanges:function(){for(var a=[],b=0;b<this.peakCacheRanges.length;b+=2)a.push([this.peakCacheRanges[b],this.peakCacheRanges[b+1]]);return a}},function(){var b=function(){var b=document.querySelectorAll(\"wavesurfer\");Array.prototype.forEach.call(b,function(b){var c=a.util.extend({container:b,backend:\"MediaElement\",mediaControls:!0},b.dataset);b.style.display=\"block\";var d=a.create(c);if(b.dataset.peaks)var e=JSON.parse(b.dataset.peaks);d.load(b.dataset.url,e)})};\"complete\"===document.readyState?b():window.addEventListener(\"load\",b)}(),a});\n//# sourceMappingURL=wavesurfer.min.js.map"]},"metadata":{},"sourceType":"script"}